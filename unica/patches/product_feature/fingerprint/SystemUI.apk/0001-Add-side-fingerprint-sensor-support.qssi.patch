From d21ca3b6f9c4b6acd7895f15898b8eb96f07e697 Mon Sep 17 00:00:00 2001
From: Salvo Giangreco <giangrecosalvo9@gmail.com>
Date: Fri, 13 Sep 2024 19:29:15 +0200
Subject: [PATCH] Add side fingerprint sensor support

---
 .../DualDarInnerLockScreenController.smali    |  126 +-
 .../KeyguardArrowViewController.smali         |  417 +--
 .../KeyguardPasswordViewController.smali      |   60 +-
 ...KeyguardSecAbsKeyInputViewController.smali |  697 ++---
 .../KeyguardSecPatternViewController.smali    |  722 ++---
 ...rdSecSecurityContainer$ArrowViewMode.smali |  151 +-
 ...ntroller$OnApplyWindowInsetsListener.smali |  146 +-
 ...yguardSecSecurityContainerController.smali |  193 +-
 .../keyguard/KeyguardSecUpdateMonitor.smali   |   26 +-
 ...nitorImpl$$ExternalSyntheticLambda16.smali |   17 +-
 ...nitorImpl$$ExternalSyntheticLambda17.smali |   17 +-
 ...onitorImpl$$ExternalSyntheticLambda8.smali |   61 +-
 ...nitorImpl$$ExternalSyntheticOutline0.smali |   18 +
 .../KeyguardSecUpdateMonitorImpl.smali        | 2717 +++++++----------
 .../keyguard/KeyguardTextBuilder.smali        |  110 +-
 .../SecLockIconViewController$3.smali         |    4 +-
 .../com/android/keyguard/SecurityUtils.smali  |   33 +-
 .../android/keyguard/StrongAuthPopup.smali    |  419 ++-
 .../KeyguardBiometricViewController.smali     |  563 ++--
 ...opup$keyguardUpdateMonitorCallback$1.smali |   58 +-
 smali/com/android/systemui/LsRune.smali       |  184 +-
 ...mponent$CentralSurfacesComponentImpl.smali |    4 +-
 .../plugin/PluginFaceWidgetManager.smali      |   19 +-
 .../features/GlobalActionFeatures.smali       |   58 +-
 .../keyguard/KeyguardViewMediator.smali       |    2 +-
 .../keyguard/animator/ActionDownHandler.smali |  410 +--
 .../animator/FullScreenViewController.smali   |  103 +-
 .../animator/KeyguardTouchAnimator$2.smali    |  103 +-
 .../animator/KeyguardTouchAnimator.smali      |   32 +-
 .../KeyguardTouchSecurityInjector.smali       |   82 -
 .../power/PowerNotificationWarnings.smali     |   23 +
 .../systemui/power/PowerUI$Receiver.smali     |  216 +-
 .../power/SecPowerNotificationWarnings.smali  |   42 +-
 .../NotificationPanelViewController.smali     |  188 +-
 ...ificationPanelViewController_Factory.smali |    4 +
 ...Controller$$ExternalSyntheticLambda1.smali |   65 +-
 ...cationController$SecKeyguardCallback.smali |   23 +-
 .../phone/BiometricUnlockController.smali     |  261 +-
 .../phone/CentralSurfacesImpl$21.smali        |   23 +-
 .../statusbar/phone/CentralSurfacesImpl.smali |   25 +-
 .../phone/KeyguardSecBottomAreaView.smali     |   88 +-
 .../KeyguardSecBottomAreaViewController.smali |   59 +-
 .../SecStatusBarKeyguardViewManager$1.smali   |   20 +-
 .../SecStatusBarKeyguardViewManager.smali     |   69 +-
 ...mponent$CentralSurfacesComponentImpl.smali |    4 +-
 .../android/systemui/util/DeviceState.smali   |  444 +--
 .../android/systemui/util/DeviceType.smali    |    2 +
 47 files changed, 3644 insertions(+), 5464 deletions(-)

diff --git a/smali/com/android/keyguard/DualDarInnerLockScreenController.smali b/smali/com/android/keyguard/DualDarInnerLockScreenController.smali
index 978b91786..55d77aa4f 100644
--- a/smali/com/android/keyguard/DualDarInnerLockScreenController.smali
+++ b/smali/com/android/keyguard/DualDarInnerLockScreenController.smali
@@ -249,7 +249,7 @@
 
     sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_NAVBAR_ENABLED:Z
 
-    if-eqz v1, :cond_d
+    if-eqz v1, :cond_b
 
     if-nez p2, :cond_0
 
@@ -312,33 +312,25 @@
 
     iget-object v3, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    if-eqz v1, :cond_6
-
-    sget v1, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
+    if-eqz v1, :cond_5
 
     invoke-virtual {p1}, Landroid/view/ViewGroup;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v6
-
-    const v7, 0x7f0704af
-
-    invoke-virtual {v6, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result v6
+    move-result-object v1
 
-    add-int/2addr v6, v1
+    const v6, 0x7f0704af
 
-    invoke-interface {v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
+    invoke-virtual {v1, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v1
+    invoke-interface {v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    if-eq v0, v4, :cond_4
+    if-eq v0, v4, :cond_3
 
-    const/4 v3, 0x2
+    const/4 v1, 0x2
 
-    if-eq v0, v3, :cond_4
+    if-eq v0, v1, :cond_3
 
-    if-eq v0, v2, :cond_4
+    if-eq v0, v2, :cond_3
 
     iget-boolean v0, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mIsPassword:Z
 
@@ -351,35 +343,28 @@
     goto :goto_1
 
     :cond_2
-    if-eqz v1, :cond_3
-
-    move v9, v6
+    iget v5, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mNavigationBarHeight:I
 
     goto :goto_2
 
     :cond_3
-    iget v5, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mNavigationBarHeight:I
-
-    goto :goto_1
-
-    :cond_4
     iget-boolean v0, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mIsPassword:Z
 
-    if-eqz v0, :cond_5
+    if-eqz v0, :cond_4
 
     iget-boolean v0, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mIsImeShown:Z
 
-    if-eqz v0, :cond_5
+    if-eqz v0, :cond_4
 
-    goto :goto_1
+    :goto_1
+    goto :goto_2
 
-    :cond_5
+    :cond_4
     iget v5, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mNavigationBarHeight:I
 
-    :goto_1
+    :goto_2
     move v9, v5
 
-    :goto_2
     const/4 v7, 0x0
 
     const/4 v8, 0x0
@@ -392,20 +377,16 @@
 
     invoke-virtual/range {v6 .. v11}, Lcom/android/keyguard/DualDarInnerLockScreenController;->updateLayoutParams(IIILcom/android/keyguard/KeyguardSecurityContainer;Lcom/android/keyguard/KeyguardInputView;)V
 
-    goto/16 :goto_7
+    goto :goto_7
 
-    :cond_6
+    :cond_5
     iget-object v1, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mContext:Landroid/content/Context;
 
     invoke-static {v1}, Lcom/android/systemui/util/DeviceState;->shouldEnableKeyguardScreenRotation(Landroid/content/Context;)Z
 
     move-result v1
 
-    if-nez v1, :cond_7
-
-    sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-nez v1, :cond_7
+    if-nez v1, :cond_6
 
     iget-object v1, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mBaseViewController:Lcom/android/keyguard/KeyguardInputViewController;
 
@@ -413,7 +394,7 @@
 
     move-result v1
 
-    if-eqz v1, :cond_7
+    if-eqz v1, :cond_6
 
     move v7, v5
 
@@ -423,16 +404,12 @@
 
     goto :goto_6
 
-    :cond_7
-    sget v1, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    invoke-interface {v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
-
-    move-result v3
+    :cond_6
+    invoke-interface {v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    if-eq v0, v4, :cond_c
+    if-eq v0, v4, :cond_a
 
-    if-eq v0, v2, :cond_a
+    if-eq v0, v2, :cond_9
 
     invoke-static {}, Lcom/android/systemui/util/DeviceState;->isInDisplayFpSensorPositionHigh()Z
 
@@ -440,30 +417,31 @@
 
     xor-int/2addr v0, v4
 
-    and-int/2addr v0, v3
-
-    iget-boolean v2, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mIsPassword:Z
+    and-int/2addr v0, v5
 
-    if-eqz v2, :cond_8
+    iget-boolean v1, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mIsPassword:Z
 
-    iget-boolean v2, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mIsImeShown:Z
+    if-eqz v1, :cond_7
 
-    if-eqz v2, :cond_8
+    iget-boolean v1, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mIsImeShown:Z
 
-    move v1, v5
+    if-eqz v1, :cond_7
 
     goto :goto_3
 
-    :cond_8
-    if-eqz v0, :cond_9
+    :cond_7
+    if-eqz v0, :cond_8
 
-    goto :goto_3
+    :goto_3
+    move v0, v5
 
-    :cond_9
-    iget v1, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mNavigationBarHeight:I
+    goto :goto_4
 
-    :goto_3
-    move v9, v1
+    :cond_8
+    iget v0, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mNavigationBarHeight:I
+
+    :goto_4
+    move v9, v0
 
     move v7, v5
 
@@ -471,25 +449,17 @@
 
     goto :goto_6
 
-    :cond_a
-    if-eqz v3, :cond_b
-
-    goto :goto_4
-
-    :cond_b
-    iget v1, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mNavigationBarHeight:I
-
-    :goto_4
+    :cond_9
     iget v0, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mNavigationBarHeight:I
 
     goto :goto_5
 
-    :cond_c
-    iget v1, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mNavigationBarHeight:I
-
-    move v0, v1
+    :cond_a
+    iget v0, p0, Lcom/android/keyguard/DualDarInnerLockScreenController;->mNavigationBarHeight:I
 
     :goto_5
+    move v1, v0
+
     move v8, v0
 
     move v7, v1
@@ -505,7 +475,7 @@
 
     invoke-virtual/range {v6 .. v11}, Lcom/android/keyguard/DualDarInnerLockScreenController;->updateLayoutParams(IIILcom/android/keyguard/KeyguardSecurityContainer;Lcom/android/keyguard/KeyguardInputView;)V
 
-    :cond_d
+    :cond_b
     :goto_7
     return-void
 .end method
@@ -563,9 +533,7 @@
 
     invoke-virtual {p4}, Landroid/view/ViewGroup;->getContext()Landroid/content/Context;
 
-    move-result-object v0
-
-    invoke-static {v0}, Lcom/android/systemui/util/DeviceState;->isSmartViewDisplayWithFitToAspectRatio(Landroid/content/Context;)Z
+    invoke-static {}, Lcom/android/systemui/util/DeviceState;->isSmartViewFitToActiveDisplay()Z
 
     move-result v0
 
diff --git a/smali/com/android/keyguard/KeyguardArrowViewController.smali b/smali/com/android/keyguard/KeyguardArrowViewController.smali
index 6571d5689..1ef3d3ac8 100644
--- a/smali/com/android/keyguard/KeyguardArrowViewController.smali
+++ b/smali/com/android/keyguard/KeyguardArrowViewController.smali
@@ -654,167 +654,175 @@
 .end method
 
 .method public final updateArrowMargin()V
-    .locals 15
+    .locals 19
 
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardArrowViewController;->isInvalidArrowView()Z
+    move-object/from16 v0, p0
 
-    move-result v0
+    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardArrowViewController;->isInvalidArrowView()Z
 
-    if-eqz v0, :cond_0
+    move-result v1
+
+    if-eqz v1, :cond_0
 
     return-void
 
     :cond_0
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
-
-    move-result-object v0
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
-    iget-object v1, p0, Lcom/android/keyguard/KeyguardArrowViewController;->mLeftArrowContainer:Landroid/widget/FrameLayout;
+    move-result-object v1
 
-    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    iget-object v2, v0, Lcom/android/keyguard/KeyguardArrowViewController;->mLeftArrowContainer:Landroid/widget/FrameLayout;
 
-    move-result-object v2
+    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    check-cast v2, Landroid/widget/FrameLayout$LayoutParams;
+    move-result-object v3
 
-    iget-object v3, p0, Lcom/android/keyguard/KeyguardArrowViewController;->mRightArrowContainer:Landroid/widget/FrameLayout;
+    check-cast v3, Landroid/widget/FrameLayout$LayoutParams;
 
-    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    iget-object v4, v0, Lcom/android/keyguard/KeyguardArrowViewController;->mRightArrowContainer:Landroid/widget/FrameLayout;
 
-    move-result-object v4
+    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    check-cast v4, Landroid/widget/FrameLayout$LayoutParams;
+    move-result-object v5
 
-    iget-boolean v5, p0, Lcom/android/keyguard/KeyguardArrowViewController;->mIsFolderOpened:Z
+    check-cast v5, Landroid/widget/FrameLayout$LayoutParams;
 
-    const/4 v6, 0x0
+    iget-boolean v6, v0, Lcom/android/keyguard/KeyguardArrowViewController;->mIsFolderOpened:Z
 
-    if-eqz v5, :cond_10
+    if-eqz v6, :cond_11
 
     invoke-static {}, Lcom/android/systemui/util/DeviceState;->isSmartViewFitToActiveDisplay()Z
 
-    move-result v5
+    move-result v6
 
-    if-eqz v5, :cond_1
+    if-eqz v6, :cond_1
 
-    goto/16 :goto_7
+    goto/16 :goto_9
 
     :cond_1
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardArrowViewController;->isPatternView()Z
+    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardArrowViewController;->isPatternView()Z
+
+    move-result v6
+
+    iget-object v8, v0, Lcom/android/keyguard/KeyguardArrowViewController;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
+
+    invoke-interface {v8}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isTableMode()Z
+
+    move-result v9
 
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
-    move-result v5
+    move-result v10
 
-    const/4 v7, 0x1
+    const/4 v11, 0x1
 
-    if-eqz v5, :cond_2
+    if-eqz v10, :cond_2
 
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    move-result-object v5
+    move-result-object v10
 
-    invoke-static {v5}, Lcom/android/systemui/util/DeviceState;->getDisplayWidth(Landroid/content/Context;)I
+    invoke-static {v10}, Lcom/android/systemui/util/DeviceState;->getDisplayWidth(Landroid/content/Context;)I
 
-    move-result v5
+    move-result v10
 
-    int-to-float v5, v5
+    int-to-float v10, v10
 
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v8
+    move-result-object v12
 
-    const v9, 0x7f07048c
+    const v13, 0x7f07048c
 
-    invoke-virtual {v8, v9}, Landroid/content/res/Resources;->getFloat(I)F
+    invoke-virtual {v12, v13}, Landroid/content/res/Resources;->getFloat(I)F
 
-    move-result v8
+    move-result v12
 
     goto :goto_2
 
     :cond_2
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    move-result-object v5
+    move-result-object v10
 
-    invoke-virtual {v5}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    invoke-virtual {v10}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v5
+    move-result-object v10
 
-    invoke-virtual {v5}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
+    invoke-virtual {v10}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
 
-    move-result-object v5
+    move-result-object v10
 
-    iget-object v5, v5, Landroid/content/res/Configuration;->windowConfiguration:Landroid/app/WindowConfiguration;
+    iget-object v10, v10, Landroid/content/res/Configuration;->windowConfiguration:Landroid/app/WindowConfiguration;
 
-    invoke-virtual {v5}, Landroid/app/WindowConfiguration;->getRotation()I
+    invoke-virtual {v10}, Landroid/app/WindowConfiguration;->getRotation()I
 
-    move-result v5
+    move-result v10
 
-    invoke-static {v5}, Lcom/android/systemui/util/DeviceState;->getRotation(I)I
+    invoke-static {v10}, Lcom/android/systemui/util/DeviceState;->getRotation(I)I
 
-    move-result v5
+    move-result v10
 
-    if-eq v5, v7, :cond_4
+    if-eq v10, v11, :cond_4
 
-    const/4 v8, 0x3
+    const/4 v12, 0x3
 
-    if-ne v5, v8, :cond_3
+    if-ne v10, v12, :cond_3
 
     goto :goto_0
 
     :cond_3
-    sget v5, Lcom/android/keyguard/SecurityUtils;->sMainDisplayWidth:I
+    sget v10, Lcom/android/keyguard/SecurityUtils;->sMainDisplayWidth:I
 
     goto :goto_1
 
     :cond_4
     :goto_0
-    sget v5, Lcom/android/keyguard/SecurityUtils;->sMainDisplayHeight:I
+    sget v10, Lcom/android/keyguard/SecurityUtils;->sMainDisplayHeight:I
 
     :goto_1
-    int-to-float v5, v5
+    int-to-float v10, v10
 
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v8
+    move-result-object v12
 
-    const v9, 0x7f07048b
+    const v13, 0x7f07048b
 
-    invoke-virtual {v8, v9}, Landroid/content/res/Resources;->getFloat(I)F
+    invoke-virtual {v12, v13}, Landroid/content/res/Resources;->getFloat(I)F
 
-    move-result v8
+    move-result v12
 
     :goto_2
-    mul-float/2addr v8, v5
+    mul-float/2addr v12, v10
 
-    float-to-int v5, v8
+    float-to-int v10, v12
 
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v8
+    move-result-object v12
 
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
-    move-result v9
+    move-result v13
 
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardArrowViewController;->isPatternView()Z
+    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardArrowViewController;->isPatternView()Z
 
-    move-result v10
+    move-result v14
 
-    iget-object v11, p0, Lcom/android/keyguard/KeyguardArrowViewController;->mKeyguardArrowViewCallback:Lcom/android/keyguard/KeyguardArrowViewCallback;
+    iget-object v15, v0, Lcom/android/keyguard/KeyguardArrowViewController;->mKeyguardArrowViewCallback:Lcom/android/keyguard/KeyguardArrowViewCallback;
 
-    check-cast v11, Lcom/android/keyguard/KeyguardSecSecurityContainerController$2;
+    check-cast v15, Lcom/android/keyguard/KeyguardSecSecurityContainerController$2;
 
-    iget-object v11, v11, Lcom/android/keyguard/KeyguardSecSecurityContainerController$2;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
+    iget-object v15, v15, Lcom/android/keyguard/KeyguardSecSecurityContainerController$2;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
 
-    iget-object v11, v11, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v15, v15, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v11, Lcom/android/keyguard/KeyguardSecSecurityContainer;
+    check-cast v15, Lcom/android/keyguard/KeyguardSecSecurityContainer;
 
-    const v12, 0x7f0a03a9
+    const v11, 0x7f0a03a9
 
-    invoke-virtual {v11, v12}, Landroid/view/ViewGroup;->findViewById(I)Landroid/view/View;
+    invoke-virtual {v15, v11}, Landroid/view/ViewGroup;->findViewById(I)Landroid/view/View;
 
     move-result-object v11
 
@@ -828,257 +836,272 @@
 
     if-nez v11, :cond_5
 
+    const/4 v11, 0x1
+
     goto :goto_3
 
     :cond_5
-    move v7, v6
+    const/4 v11, 0x0
 
     :goto_3
-    sget-boolean v11, Lcom/android/systemui/LsRune;->SECURITY_NAVBAR_ENABLED:Z
+    sget-boolean v15, Lcom/android/systemui/LsRune;->SECURITY_NAVBAR_ENABLED:Z
 
-    const v12, 0x7f070967
+    const v7, 0x7f070967
 
-    if-eqz v11, :cond_6
+    if-eqz v15, :cond_6
 
-    invoke-virtual {v8, v12}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v12, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v6
+    move-result v15
+
+    goto :goto_4
 
     :cond_6
-    const v11, 0x7f070408
+    const/4 v15, 0x0
 
-    const v13, 0x7f070407
+    :goto_4
+    if-eqz v13, :cond_8
 
-    if-eqz v9, :cond_8
+    if-eqz v14, :cond_7
 
-    if-eqz v10, :cond_7
+    const v14, 0x7f07050c
 
-    const v10, 0x7f07050c
+    invoke-virtual {v12, v14}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    invoke-virtual {v8, v10}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    move-result v14
 
-    move-result v10
+    const v7, 0x7f070408
 
-    invoke-virtual {v8, v11}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v12, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v14
+    move-result v16
 
-    add-int/2addr v14, v10
+    add-int v16, v16, v14
 
-    const v10, 0x7f070508
+    const v14, 0x7f070508
 
-    invoke-virtual {v8, v10}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v12, v14}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v10
+    move-result v14
 
-    goto :goto_4
+    goto :goto_5
 
     :cond_7
-    const v10, 0x7f070512
-
-    invoke-virtual {v8, v10}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    const v7, 0x7f070408
 
-    move-result v10
+    const v14, 0x7f070512
 
-    invoke-virtual {v8, v11}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v12, v14}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v14
 
-    add-int/2addr v14, v10
+    invoke-virtual {v12, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    const v10, 0x7f070514
+    move-result v16
 
-    invoke-virtual {v8, v10}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    add-int v16, v16, v14
 
-    move-result v10
+    const v14, 0x7f070514
 
-    goto :goto_4
+    invoke-virtual {v12, v14}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    :cond_8
-    if-eqz v10, :cond_9
+    move-result v14
 
-    const v10, 0x7f07050b
+    :goto_5
+    move/from16 v7, v16
 
-    invoke-virtual {v8, v10}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    goto :goto_6
 
-    move-result v10
+    :cond_8
+    const v7, 0x7f070408
 
-    invoke-virtual {v8, v13}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    if-eqz v14, :cond_9
 
-    move-result v14
+    const v14, 0x7f07050b
 
-    add-int/2addr v14, v10
+    invoke-virtual {v12, v14}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    const v10, 0x7f070507
+    move-result v14
 
-    invoke-virtual {v8, v10}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    const v7, 0x7f070407
 
-    move-result v10
+    invoke-virtual {v12, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    goto :goto_4
+    move-result v17
 
-    :cond_9
-    sget v10, Lcom/android/keyguard/SecurityUtils;->sPINContainerBottomMargin:I
+    add-int v14, v17, v14
 
-    invoke-virtual {v8, v13}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    const v7, 0x7f070507
 
-    move-result v14
+    invoke-virtual {v12, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    add-int/2addr v14, v10
+    move-result v7
 
-    const v10, 0x7f070513
+    move/from16 v18, v14
 
-    invoke-virtual {v8, v10}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    move v14, v7
 
-    move-result v10
+    move/from16 v7, v18
 
-    :goto_4
-    add-int/2addr v10, v14
+    goto :goto_6
 
-    add-int/2addr v10, v6
+    :cond_9
+    sget v7, Lcom/android/keyguard/SecurityUtils;->sPINContainerBottomMargin:I
 
-    if-nez v7, :cond_b
+    const v14, 0x7f070407
 
-    if-eqz v9, :cond_a
+    invoke-virtual {v12, v14}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    goto :goto_5
+    move-result v17
 
-    :cond_a
-    move v11, v13
+    add-int v7, v17, v7
 
-    :goto_5
-    invoke-virtual {v8, v11}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    const v14, 0x7f070513
 
-    move-result v7
+    invoke-virtual {v12, v14}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    sub-int/2addr v10, v7
+    move-result v14
 
-    :cond_b
-    iget-object v7, p0, Lcom/android/keyguard/KeyguardArrowViewController;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
+    :goto_6
+    add-int/2addr v14, v7
 
-    invoke-interface {v7}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
+    add-int/2addr v14, v15
 
-    move-result v7
+    if-nez v11, :cond_b
 
-    if-eqz v7, :cond_c
+    if-eqz v13, :cond_a
 
-    invoke-virtual {v8}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
+    const v7, 0x7f070408
 
-    move-result-object v7
+    goto :goto_7
 
-    iget-object v7, v7, Landroid/content/res/Configuration;->windowConfiguration:Landroid/app/WindowConfiguration;
+    :cond_a
+    const v7, 0x7f070407
 
-    invoke-virtual {v7}, Landroid/app/WindowConfiguration;->getRotation()I
+    :goto_7
+    invoke-virtual {v12, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v7
 
-    if-nez v7, :cond_c
+    sub-int/2addr v14, v7
+
+    :cond_b
+    invoke-interface {v8}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    sget v7, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
-    const v9, 0x7f0704af
+    move-result-object v7
 
-    invoke-virtual {v8, v9}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardArrowViewController;->isPatternView()Z
 
     move-result v8
 
-    add-int/2addr v8, v7
+    invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
-    sub-int/2addr v8, v6
+    move-result v11
 
-    add-int/2addr v10, v8
+    if-eqz v11, :cond_d
 
-    :cond_c
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
+    if-eqz v8, :cond_c
 
-    move-result-object v6
+    const v8, 0x7f07050a
 
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardArrowViewController;->isPatternView()Z
+    invoke-virtual {v7, v8}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v7
 
-    invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
+    goto :goto_8
 
-    move-result v8
+    :cond_c
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+
+    move-result-object v7
 
+    invoke-static {v7}, Lcom/android/keyguard/SecurityUtils;->getTabletPINContainerHeight(Landroid/content/Context;)I
+
+    move-result v7
+
+    goto :goto_8
+
+    :cond_d
     if-eqz v8, :cond_e
 
-    if-eqz v7, :cond_d
+    const v8, 0x7f070509
 
-    const v7, 0x7f07050a
+    invoke-virtual {v7, v8}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    invoke-virtual {v6, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    move-result v7
 
-    move-result v6
+    goto :goto_8
 
-    goto :goto_6
+    :cond_e
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    :cond_d
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    move-result-object v7
 
-    move-result-object v6
+    invoke-static {v7}, Lcom/android/keyguard/SecurityUtils;->getFoldPINContainerHeight(Landroid/content/Context;)I
 
-    invoke-static {v6}, Lcom/android/keyguard/SecurityUtils;->getTabletPINContainerHeight(Landroid/content/Context;)I
+    move-result v7
 
-    move-result v6
+    :goto_8
+    const v8, 0x7f070967
 
-    goto :goto_6
+    invoke-virtual {v1, v8}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    :cond_e
-    if-eqz v7, :cond_f
+    move-result v8
 
-    const v7, 0x7f070509
+    iget v0, v0, Lcom/android/keyguard/KeyguardArrowViewController;->mLastOrientation:I
 
-    invoke-virtual {v6, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    const/4 v11, 0x2
 
-    move-result v6
+    if-ne v0, v11, :cond_10
 
-    goto :goto_6
+    if-eqz v9, :cond_10
 
-    :cond_f
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    if-eqz v6, :cond_f
 
-    move-result-object v6
+    const v0, 0x7f070561
 
-    invoke-static {v6}, Lcom/android/keyguard/SecurityUtils;->getFoldPINContainerHeight(Landroid/content/Context;)I
+    invoke-virtual {v1, v0}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v6
+    move-result v0
 
-    :goto_6
-    invoke-virtual {v0, v12}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    move v7, v0
 
-    iget p0, p0, Lcom/android/keyguard/KeyguardArrowViewController;->mLastOrientation:I
+    :cond_f
+    move v14, v8
 
-    const/4 v0, 0x2
+    :cond_10
+    iput v7, v3, Landroid/widget/FrameLayout$LayoutParams;->height:I
 
-    iput v6, v2, Landroid/widget/FrameLayout$LayoutParams;->height:I
+    iput v7, v5, Landroid/widget/FrameLayout$LayoutParams;->height:I
 
-    iput v6, v4, Landroid/widget/FrameLayout$LayoutParams;->height:I
+    iput v10, v3, Landroid/widget/FrameLayout$LayoutParams;->leftMargin:I
 
-    iput v5, v2, Landroid/widget/FrameLayout$LayoutParams;->leftMargin:I
+    iput v10, v5, Landroid/widget/FrameLayout$LayoutParams;->rightMargin:I
 
-    iput v5, v4, Landroid/widget/FrameLayout$LayoutParams;->rightMargin:I
+    iput v14, v3, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
 
-    iput v10, v2, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
+    iput v14, v5, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
 
-    iput v10, v4, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
+    goto :goto_a
 
-    goto :goto_8
+    :cond_11
+    :goto_9
+    const/4 v0, 0x0
 
-    :cond_10
-    :goto_7
-    iput v6, v2, Landroid/widget/FrameLayout$LayoutParams;->leftMargin:I
+    iput v0, v3, Landroid/widget/FrameLayout$LayoutParams;->leftMargin:I
 
-    iput v6, v2, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
+    iput v0, v3, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
 
-    iput v6, v4, Landroid/widget/FrameLayout$LayoutParams;->rightMargin:I
+    iput v0, v5, Landroid/widget/FrameLayout$LayoutParams;->rightMargin:I
 
-    iput v6, v4, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
+    iput v0, v5, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
 
-    :goto_8
-    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    :goto_a
+    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v4, v5}, Landroid/widget/FrameLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     return-void
 .end method
diff --git a/smali/com/android/keyguard/KeyguardPasswordViewController.smali b/smali/com/android/keyguard/KeyguardPasswordViewController.smali
index 8f285dc20..948c0144b 100644
--- a/smali/com/android/keyguard/KeyguardPasswordViewController.smali
+++ b/smali/com/android/keyguard/KeyguardPasswordViewController.smali
@@ -299,87 +299,53 @@
 .end method
 
 .method public final isHideKeyboardByDefault()Z
-    .locals 5
+    .locals 3
 
     invoke-static {}, Lcom/android/keyguard/KeyguardUpdateMonitor;->getCurrentUser()I
 
     move-result v0
 
-    sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    const/4 v2, 0x0
-
-    const/4 v3, 0x1
+    sget-object v1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     iget-object p0, p0, Lcom/android/keyguard/KeyguardAbsKeyInputViewController;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    if-eqz v1, :cond_0
-
-    invoke-interface {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isFingerprintOptionEnabled()Z
-
-    move-result v1
-
-    if-eqz v1, :cond_0
-
-    move v1, v3
-
-    goto :goto_0
-
-    :cond_0
-    move v1, v2
-
-    :goto_0
     invoke-virtual {p0, v0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->getUserUnlockedWithBiometric(I)Z
 
     move-result v0
 
     invoke-interface {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->is2StepVerification()Z
 
-    move-result v4
-
-    if-eqz v4, :cond_2
-
-    if-eqz v1, :cond_1
+    move-result v1
 
-    if-nez v0, :cond_1
+    const/4 v2, 0x0
 
-    move v2, v3
+    if-eqz v1, :cond_0
 
-    :cond_1
     return v2
 
-    :cond_2
-    if-eqz v1, :cond_3
-
-    invoke-virtual {p0, v3}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isUnlockingWithBiometricAllowed(Z)Z
-
-    move-result v1
-
-    if-nez v1, :cond_4
-
-    :cond_3
-    if-nez v0, :cond_4
+    :cond_0
+    if-nez v0, :cond_1
 
     sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_LOCK:Z
 
-    if-eqz v0, :cond_5
+    if-eqz v0, :cond_2
 
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFingerprintDetectionRunning()Z
 
     move-result v0
 
-    if-nez v0, :cond_4
+    if-nez v0, :cond_1
 
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFaceDetectionRunning()Z
 
     move-result p0
 
-    if-eqz p0, :cond_5
+    if-eqz p0, :cond_2
 
-    :cond_4
-    move v2, v3
+    :cond_1
+    const/4 v2, 0x1
 
-    :cond_5
+    :cond_2
     return v2
 .end method
 
diff --git a/smali/com/android/keyguard/KeyguardSecAbsKeyInputViewController.smali b/smali/com/android/keyguard/KeyguardSecAbsKeyInputViewController.smali
index 0714e1b44..38d9b3ab5 100644
--- a/smali/com/android/keyguard/KeyguardSecAbsKeyInputViewController.smali
+++ b/smali/com/android/keyguard/KeyguardSecAbsKeyInputViewController.smali
@@ -513,88 +513,6 @@
     return-void
 .end method
 
-.method public final getInDisplayFpContainerBottomMargin(Z)I
-    .locals 3
-
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
-
-    move-result-object v0
-
-    sget v1, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    if-eqz p1, :cond_0
-
-    const v2, 0x7f0704ff
-
-    goto :goto_0
-
-    :cond_0
-    const v2, 0x7f070511
-
-    :goto_0
-    invoke-virtual {v0, v2}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result v2
-
-    add-int/2addr v2, v1
-
-    iget-object p0, p0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaView:Landroid/view/View;
-
-    if-eqz p0, :cond_1
-
-    const v1, 0x7f0a03a9
-
-    invoke-virtual {p0, v1}, Landroid/view/View;->findViewById(I)Landroid/view/View;
-
-    move-result-object p0
-
-    invoke-virtual {p0}, Landroid/view/View;->getVisibility()I
-
-    move-result p0
-
-    if-nez p0, :cond_1
-
-    const p0, 0x7f070407
-
-    invoke-virtual {v0, p0}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result p0
-
-    goto :goto_1
-
-    :cond_1
-    const/4 p0, 0x0
-
-    :goto_1
-    sub-int/2addr v2, p0
-
-    if-eqz p1, :cond_2
-
-    const p0, 0x7f070500
-
-    goto :goto_2
-
-    :cond_2
-    const p0, 0x7f070513
-
-    :goto_2
-    invoke-virtual {v0, p0}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result p0
-
-    sub-int/2addr v2, p0
-
-    const p0, 0x1050255
-
-    invoke-virtual {v0, p0}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result p0
-
-    sub-int/2addr v2, p0
-
-    return v2
-.end method
-
 .method public getSecurityViewId()I
     .locals 0
 
@@ -972,26 +890,21 @@
 
     add-int/2addr v2, v0
 
-    const/4 v0, 0x0
-
     if-eqz p0, :cond_1
 
-    sget p0, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    goto :goto_1
+    sget-object p0, Lcom/android/systemui/util/DeviceState;->sDisplaySize:Landroid/graphics/Point;
 
     :cond_1
-    move p0, v0
+    const/4 p0, 0x0
 
-    :goto_1
     add-int/2addr v2, p0
 
     if-ge v1, v2, :cond_2
 
-    const/4 v0, 0x1
+    const/4 p0, 0x1
 
     :cond_2
-    return v0
+    return p0
 .end method
 
 .method public final isBiometricLockoutLandscape()Z
@@ -1995,45 +1908,18 @@
 
     if-eqz p2, :cond_0
 
-    move p2, v0
-
     goto :goto_0
 
     :cond_0
-    move p2, v1
+    move v0, v1
 
     :goto_0
-    invoke-virtual {p1, v1, v1, p2, v1}, Landroid/widget/LinearLayout;->setPadding(IIII)V
-
-    iget-object p2, p0, Lcom/android/keyguard/KeyguardAbsKeyInputViewController;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-interface {p2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
-
-    move-result p2
-
-    if-eqz p2, :cond_2
-
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
-
-    move-result-object p0
-
-    invoke-static {p0}, Lcom/android/keyguard/SecurityUtils;->getCurrentRotation(Landroid/content/Context;)I
-
-    move-result p0
-
-    const/4 p2, 0x1
-
-    if-ne p0, p2, :cond_1
-
     invoke-virtual {p1, v1, v1, v0, v1}, Landroid/widget/LinearLayout;->setPadding(IIII)V
 
-    goto :goto_1
+    iget-object p0, p0, Lcom/android/keyguard/KeyguardAbsKeyInputViewController;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    :cond_1
-    invoke-virtual {p1, v0, v1, v1, v1}, Landroid/widget/LinearLayout;->setPadding(IIII)V
+    invoke-interface {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    :cond_2
-    :goto_1
     return-void
 .end method
 
@@ -2396,17 +2282,17 @@
 
     iget-object v7, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mInputContainer:Landroid/widget/LinearLayout;
 
-    const/4 v8, -0x2
+    const/4 v8, 0x1
 
-    const/4 v9, -0x1
+    iget-object v9, v0, Lcom/android/keyguard/KeyguardInputViewController;->mSubMessageAreaController:Lcom/android/keyguard/KeyguardSecMessageAreaController;
 
-    const/4 v10, 0x1
+    const/4 v10, 0x0
 
-    iget-object v11, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mMessageArea:Landroid/widget/LinearLayout;
+    const/4 v11, -0x2
 
-    iget-object v12, v0, Lcom/android/keyguard/KeyguardInputViewController;->mSubMessageAreaController:Lcom/android/keyguard/KeyguardSecMessageAreaController;
+    const/4 v12, -0x1
 
-    const/4 v13, 0x0
+    iget-object v13, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mMessageArea:Landroid/widget/LinearLayout;
 
     iget-object v14, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mBottomView:Landroid/widget/LinearLayout;
 
@@ -2448,22 +2334,22 @@
 
     invoke-virtual {v14, v4}, Landroid/widget/LinearLayout;->setGravity(I)V
 
-    invoke-virtual {v14, v10}, Landroid/widget/LinearLayout;->setOrientation(I)V
+    invoke-virtual {v14, v8}, Landroid/widget/LinearLayout;->setOrientation(I)V
 
     :cond_0
-    if-eqz v11, :cond_1
+    if-eqz v13, :cond_1
 
-    invoke-virtual {v11}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v13}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
     move-result-object v4
 
     check-cast v4, Landroid/widget/LinearLayout$LayoutParams;
 
-    iput v9, v4, Landroid/widget/LinearLayout$LayoutParams;->width:I
+    iput v12, v4, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    iput v8, v4, Landroid/widget/LinearLayout$LayoutParams;->height:I
+    iput v11, v4, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    invoke-virtual {v11, v4}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v13, v4}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_1
     iget-object v4, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mMessageContainer:Landroid/widget/LinearLayout;
@@ -2478,18 +2364,18 @@
 
     check-cast v8, Landroid/view/ViewGroup$MarginLayoutParams;
 
-    const v9, 0x7f070540
+    const v11, 0x7f070540
 
-    invoke-virtual {v3, v9}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v3, v11}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v9
+    move-result v11
 
-    iput v9, v8, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I
+    iput v11, v8, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I
 
     invoke-virtual {v4, v8}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_2
-    if-eqz v12, :cond_4
+    if-eqz v9, :cond_4
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isHiddenPasswordSubMessageVisibility()Z
 
@@ -2502,15 +2388,15 @@
     goto :goto_0
 
     :cond_3
-    move v4, v13
+    move v4, v10
 
     :goto_0
-    invoke-virtual {v12, v4}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
+    invoke-virtual {v9, v4}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
 
     :cond_4
     if-eqz v7, :cond_5
 
-    invoke-virtual {v7, v13}, Landroid/widget/LinearLayout;->setVisibility(I)V
+    invoke-virtual {v7, v10}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
     :cond_5
     iget-object v4, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mContainer:Landroid/widget/LinearLayout;
@@ -2546,7 +2432,7 @@
 
     iput v2, v4, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
 
-    iput v13, v4, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
+    iput v10, v4, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
 
     :cond_7
     :goto_1
@@ -2594,7 +2480,7 @@
     :cond_9
     iget-object v2, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaView:Landroid/view/View;
 
-    if-eqz v2, :cond_1e
+    if-eqz v2, :cond_22
 
     invoke-virtual {v2}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -2640,7 +2526,7 @@
 
     check-cast v0, Lcom/android/keyguard/EmergencyButton;
 
-    if-eqz v0, :cond_1e
+    if-eqz v0, :cond_22
 
     invoke-virtual {v0}, Landroid/widget/Button;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -2656,7 +2542,7 @@
 
     invoke-virtual {v0, v1}, Landroid/widget/Button;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    goto/16 :goto_8
+    goto/16 :goto_9
 
     :cond_b
     iget-object v3, v0, Lcom/android/keyguard/KeyguardAbsKeyInputViewController;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
@@ -2665,13 +2551,17 @@
 
     move-result v4
 
-    if-eqz v4, :cond_f
+    iget-object v15, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEmergencyButtonController:Lcom/android/keyguard/EmergencyButtonController;
+
+    iget-object v5, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaFlexContainer:Landroid/widget/LinearLayout;
+
+    if-eqz v4, :cond_13
 
     invoke-interface {v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isRearSelfie()Z
 
     move-result v4
 
-    if-nez v4, :cond_f
+    if-nez v4, :cond_13
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isAllowedToAdjustSecurityView()Z
 
@@ -2697,26 +2587,26 @@
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    move-result-object v3
+    move-result-object v4
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->getSecurityViewId()I
 
-    move-result v4
+    move-result v6
 
-    invoke-static {v4}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isPasswordView(I)Z
+    invoke-static {v6}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isPasswordView(I)Z
 
-    move-result v4
+    move-result v6
 
-    invoke-static {v3, v4}, Lcom/android/keyguard/SecurityUtils;->getMainSecurityViewFlipperSize(Landroid/content/Context;Z)I
+    invoke-static {v4, v6}, Lcom/android/keyguard/SecurityUtils;->getMainSecurityViewFlipperSize(Landroid/content/Context;Z)I
 
-    move-result v3
+    move-result v4
 
-    iput v3, v2, Landroid/widget/FrameLayout$LayoutParams;->width:I
+    iput v4, v2, Landroid/widget/FrameLayout$LayoutParams;->width:I
 
     invoke-virtual {v14, v2}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_c
-    if-eqz v12, :cond_1d
+    if-eqz v9, :cond_f
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isBiometricLockoutLandscape()Z
 
@@ -2739,28 +2629,131 @@
     goto :goto_3
 
     :cond_d
-    invoke-virtual {v12, v13}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
+    invoke-virtual {v9, v10}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
 
-    goto/16 :goto_7
+    goto :goto_4
 
     :cond_e
     :goto_3
     const/16 v1, 0x8
 
-    invoke-virtual {v12, v1}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
-
-    goto/16 :goto_7
+    invoke-virtual {v9, v1}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
 
     :cond_f
-    if-eqz v1, :cond_1c
+    :goto_4
+    invoke-interface {v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isTableMode()Z
 
-    const/4 v4, 0x2
+    move-result v1
+
+    if-eqz v1, :cond_21
+
+    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->getSecurityViewId()I
+
+    move-result v1
+
+    invoke-static {v1}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isPINSecurityView(I)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_21
+
+    iget v1, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mSecondsRemaining:I
+
+    if-gez v1, :cond_21
+
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
+
+    move-result-object v1
+
+    const v2, 0x7f070536
+
+    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+
+    move-result v2
+
+    if-eqz v13, :cond_10
+
+    invoke-virtual {v13}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+
+    move-result-object v3
+
+    check-cast v3, Landroid/widget/LinearLayout$LayoutParams;
+
+    iput v12, v3, Landroid/widget/LinearLayout$LayoutParams;->width:I
+
+    iput v11, v3, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    if-ne v1, v4, :cond_10
+    const v4, 0x7f070565
 
-    goto/16 :goto_6
+    invoke-virtual {v1, v4}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+
+    move-result v1
+
+    sub-int/2addr v1, v2
+
+    iput v1, v3, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
+
+    invoke-virtual {v13, v3}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_10
+    iget-object v1, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mContainer:Landroid/widget/LinearLayout;
+
+    if-eqz v1, :cond_11
+
+    invoke-virtual {v1}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+
+    move-result-object v1
+
+    check-cast v1, Landroid/widget/LinearLayout$LayoutParams;
+
+    iput v11, v1, Landroid/widget/LinearLayout$LayoutParams;->width:I
+
+    iput v11, v1, Landroid/widget/LinearLayout$LayoutParams;->height:I
+
+    iput v10, v1, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
+
+    iget-object v2, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mContainer:Landroid/widget/LinearLayout;
+
+    invoke-virtual {v2, v1}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+
+    :cond_11
+    iget-object v1, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaView:Landroid/view/View;
+
+    if-eqz v1, :cond_12
+
+    const/16 v2, 0x8
+
+    invoke-virtual {v1, v2}, Landroid/view/View;->setVisibility(I)V
+
+    :cond_12
+    if-eqz v5, :cond_21
+
+    invoke-virtual {v5, v10}, Landroid/widget/LinearLayout;->setVisibility(I)V
+
+    iget-object v1, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+
+    check-cast v1, Lcom/android/keyguard/KeyguardSecAbsKeyInputView;
+
+    const v2, 0x7f0a03aa
+
+    invoke-virtual {v1, v2}, Landroid/widget/LinearLayout;->findViewById(I)Landroid/view/View;
+
+    move-result-object v1
+
+    invoke-virtual {v15, v1}, Lcom/android/keyguard/EmergencyButtonController;->setEmergencyView(Landroid/view/View;)V
+
+    goto/16 :goto_8
+
+    :cond_13
+    if-eqz v1, :cond_20
+
+    const/4 v4, 0x2
+
+    if-ne v1, v4, :cond_14
+
+    goto/16 :goto_7
+
+    :cond_14
     invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
     move-result-object v1
@@ -2777,29 +2770,29 @@
 
     invoke-virtual {v4}, Landroid/graphics/Rect;->width()I
 
-    move-result v15
+    move-result v11
 
     invoke-virtual {v4}, Landroid/graphics/Rect;->height()I
 
     move-result v4
 
-    invoke-static {v15, v4}, Ljava/lang/Math;->max(II)I
+    invoke-static {v11, v4}, Ljava/lang/Math;->max(II)I
 
     move-result v4
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    move-result-object v15
+    move-result-object v11
 
-    invoke-static {v4, v15}, Lcom/android/keyguard/SecurityUtils;->calculateLandscapeViewWidth(ILandroid/content/Context;)I
+    invoke-static {v4, v11}, Lcom/android/keyguard/SecurityUtils;->calculateLandscapeViewWidth(ILandroid/content/Context;)I
 
     move-result v4
 
-    const v15, 0x7f0704fb
+    const v11, 0x7f0704fb
 
-    invoke-virtual {v1, v15}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v1, v11}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v15
+    move-result v11
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->getSecurityViewId()I
 
@@ -2809,74 +2802,72 @@
 
     move-result v16
 
-    if-eqz v14, :cond_11
+    if-eqz v14, :cond_15
 
-    const v5, 0x800053
+    const v8, 0x800053
 
-    invoke-virtual {v14, v5}, Landroid/widget/LinearLayout;->setGravity(I)V
+    invoke-virtual {v14, v8}, Landroid/widget/LinearLayout;->setGravity(I)V
 
-    invoke-virtual {v14, v13}, Landroid/widget/LinearLayout;->setOrientation(I)V
+    invoke-virtual {v14, v10}, Landroid/widget/LinearLayout;->setOrientation(I)V
 
     invoke-virtual {v14}, Landroid/view/ViewGroup;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    move-result-object v5
+    move-result-object v8
 
-    instance-of v5, v5, Landroid/widget/FrameLayout$LayoutParams;
+    instance-of v8, v8, Landroid/widget/FrameLayout$LayoutParams;
 
-    if-eqz v5, :cond_11
+    if-eqz v8, :cond_15
 
     invoke-virtual {v14}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    move-result-object v5
+    move-result-object v8
 
-    check-cast v5, Landroid/widget/FrameLayout$LayoutParams;
+    check-cast v8, Landroid/widget/FrameLayout$LayoutParams;
 
-    iput v9, v5, Landroid/widget/FrameLayout$LayoutParams;->width:I
+    iput v12, v8, Landroid/widget/FrameLayout$LayoutParams;->width:I
 
-    invoke-virtual {v14, v5}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v14, v8}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :cond_11
-    iget-object v5, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mSplitTouchView:Landroid/widget/LinearLayout;
+    :cond_15
+    iget-object v8, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mSplitTouchView:Landroid/widget/LinearLayout;
 
-    if-eqz v5, :cond_12
+    if-eqz v8, :cond_16
 
-    invoke-virtual {v5}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v8}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
     move-result-object v14
 
     check-cast v14, Landroid/widget/LinearLayout$LayoutParams;
 
-    iput v13, v14, Landroid/widget/LinearLayout$LayoutParams;->width:I
+    iput v10, v14, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    iput v13, v14, Landroid/widget/LinearLayout$LayoutParams;->height:I
+    iput v10, v14, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    const/4 v8, 0x0
+    const/4 v10, 0x0
 
-    iput v8, v14, Landroid/widget/LinearLayout$LayoutParams;->weight:F
+    iput v10, v14, Landroid/widget/LinearLayout$LayoutParams;->weight:F
 
-    invoke-virtual {v5, v14}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v8, v14}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :cond_12
-    iget-object v5, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mHintText:Lcom/android/keyguard/KeyguardHintTextArea;
+    :cond_16
+    iget-object v8, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mHintText:Lcom/android/keyguard/KeyguardHintTextArea;
 
-    if-eqz v5, :cond_13
+    if-eqz v8, :cond_17
 
-    const/16 v8, 0x8
+    const/16 v10, 0x8
 
-    invoke-virtual {v5, v8}, Lcom/android/keyguard/KeyguardHintTextArea;->setVisibility(I)V
+    invoke-virtual {v8, v10}, Lcom/android/keyguard/KeyguardHintTextArea;->setVisibility(I)V
 
-    :cond_13
-    const v5, 0x7f0704ff
-
-    if-eqz v11, :cond_17
+    :cond_17
+    if-eqz v13, :cond_1b
 
-    if-eqz v7, :cond_17
+    if-eqz v7, :cond_1b
 
-    invoke-virtual {v11}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v13}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    move-result-object v8
+    move-result-object v10
 
-    check-cast v8, Landroid/widget/LinearLayout$LayoutParams;
+    check-cast v10, Landroid/widget/LinearLayout$LayoutParams;
 
     invoke-virtual {v7}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -2884,43 +2875,47 @@
 
     check-cast v14, Landroid/widget/LinearLayout$LayoutParams;
 
-    iput v4, v8, Landroid/widget/LinearLayout$LayoutParams;->width:I
+    iput v4, v10, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    iput v9, v8, Landroid/widget/LinearLayout$LayoutParams;->height:I
+    iput v12, v10, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    iput v13, v8, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
+    const/4 v8, 0x0
+
+    iput v8, v10, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
 
-    invoke-virtual {v11, v8}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v13, v10}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     iput v4, v14, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    iput v9, v14, Landroid/widget/LinearLayout$LayoutParams;->height:I
+    iput v12, v14, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    iput v13, v14, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
+    iput v8, v14, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
 
     invoke-virtual {v7, v14}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    invoke-virtual {v7, v13}, Landroid/widget/LinearLayout;->setVisibility(I)V
+    invoke-virtual {v7, v8}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
     const/16 v4, 0x11
 
-    if-eqz v16, :cond_14
+    if-eqz v16, :cond_18
+
+    const/4 v10, 0x1
 
-    invoke-virtual {v0, v11, v10}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->setLandscapeLayoutPadding(Landroid/widget/LinearLayout;Z)V
+    invoke-virtual {v0, v13, v10}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->setLandscapeLayoutPadding(Landroid/widget/LinearLayout;Z)V
 
-    invoke-virtual {v0, v7, v13}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->setLandscapeLayoutPadding(Landroid/widget/LinearLayout;Z)V
+    invoke-virtual {v0, v7, v8}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->setLandscapeLayoutPadding(Landroid/widget/LinearLayout;Z)V
 
     invoke-virtual {v7, v4}, Landroid/widget/LinearLayout;->setGravity(I)V
 
-    goto :goto_4
+    goto :goto_5
 
-    :cond_14
-    invoke-virtual {v11, v13, v15, v15, v15}, Landroid/widget/LinearLayout;->setPadding(IIII)V
+    :cond_18
+    invoke-virtual {v13, v8, v11, v11, v11}, Landroid/widget/LinearLayout;->setPadding(IIII)V
 
-    :goto_4
+    :goto_5
     iget-object v7, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mContainer:Landroid/widget/LinearLayout;
 
-    if-eqz v7, :cond_17
+    if-eqz v7, :cond_1b
 
     invoke-virtual {v7}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -2928,36 +2923,38 @@
 
     check-cast v7, Landroid/widget/LinearLayout$LayoutParams;
 
-    const/4 v8, -0x2
+    const/4 v10, -0x2
+
+    iput v10, v7, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    iput v8, v7, Landroid/widget/LinearLayout$LayoutParams;->width:I
+    iput v10, v7, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    iput v8, v7, Landroid/widget/LinearLayout$LayoutParams;->height:I
+    if-eqz v16, :cond_19
 
-    if-eqz v16, :cond_15
+    iput v8, v7, Landroid/widget/LinearLayout$LayoutParams;->leftMargin:I
 
-    iput v13, v7, Landroid/widget/LinearLayout$LayoutParams;->leftMargin:I
+    iput v8, v7, Landroid/widget/LinearLayout$LayoutParams;->rightMargin:I
 
-    iput v13, v7, Landroid/widget/LinearLayout$LayoutParams;->rightMargin:I
+    iput v8, v7, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
 
-    iput v13, v7, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
+    const v8, 0x7f0704ff
 
-    invoke-virtual {v1, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v1, v8}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v8
+    move-result v10
 
-    iput v8, v7, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
+    iput v10, v7, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
 
     iget-object v8, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mContainer:Landroid/widget/LinearLayout;
 
     invoke-virtual {v8, v4}, Landroid/widget/LinearLayout;->setGravity(I)V
 
-    goto :goto_5
+    goto :goto_6
 
-    :cond_15
+    :cond_19
     sget-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_LOCK:Z
 
-    if-eqz v4, :cond_16
+    if-eqz v4, :cond_1a
 
     const-class v4, Lcom/android/systemui/keyguard/DisplayLifecycle;
 
@@ -2969,7 +2966,7 @@
 
     iget-boolean v4, v4, Lcom/android/systemui/keyguard/DisplayLifecycle;->mIsFolderOpened:Z
 
-    if-nez v4, :cond_16
+    if-nez v4, :cond_1a
 
     const v4, 0x7f0704c0
 
@@ -2979,9 +2976,9 @@
 
     iput v4, v7, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
 
-    goto :goto_5
+    goto :goto_6
 
-    :cond_16
+    :cond_1a
     const v4, 0x7f070511
 
     invoke-virtual {v1, v4}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
@@ -2990,19 +2987,19 @@
 
     iput v4, v7, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
 
-    :goto_5
+    :goto_6
     iget-object v4, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mContainer:Landroid/widget/LinearLayout;
 
     invoke-virtual {v4, v7}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :cond_17
-    if-eqz v6, :cond_18
+    :cond_1b
+    if-eqz v6, :cond_1c
 
     invoke-static {v2}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isPINSecurityView(I)Z
 
     move-result v2
 
-    if-eqz v2, :cond_18
+    if-eqz v2, :cond_1c
 
     invoke-virtual {v6}, Landroid/view/ViewGroup;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -3028,16 +3025,16 @@
 
     iget v7, v2, Landroid/view/ViewGroup$MarginLayoutParams;->rightMargin:I
 
-    iget v9, v2, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I
+    iget v10, v2, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I
 
-    invoke-virtual {v2, v4, v8, v7, v9}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
+    invoke-virtual {v2, v4, v8, v7, v10}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
 
     invoke-virtual {v6, v2}, Landroid/view/ViewGroup;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :cond_18
+    :cond_1c
     iget-object v2, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaView:Landroid/view/View;
 
-    if-eqz v2, :cond_19
+    if-eqz v2, :cond_1d
 
     invoke-virtual {v2}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -3045,65 +3042,65 @@
 
     check-cast v2, Landroid/view/ViewGroup$MarginLayoutParams;
 
-    invoke-virtual {v2, v13, v13, v13, v13}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
+    const/4 v4, 0x0
 
-    iget-object v4, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaView:Landroid/view/View;
+    invoke-virtual {v2, v4, v4, v4, v4}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
 
-    invoke-virtual {v4, v2}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    iget-object v6, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaView:Landroid/view/View;
+
+    invoke-virtual {v6, v2}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     iget-object v2, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaView:Landroid/view/View;
 
-    invoke-virtual {v2, v13}, Landroid/view/View;->setVisibility(I)V
+    invoke-virtual {v2, v4}, Landroid/view/View;->setVisibility(I)V
 
     iget-object v2, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaView:Landroid/view/View;
 
-    const v4, 0x7f0a03a9
+    const v6, 0x7f0a03a9
 
-    invoke-virtual {v2, v4}, Landroid/view/View;->findViewById(I)Landroid/view/View;
+    invoke-virtual {v2, v6}, Landroid/view/View;->findViewById(I)Landroid/view/View;
 
     move-result-object v2
 
-    iget-object v4, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEmergencyButtonController:Lcom/android/keyguard/EmergencyButtonController;
-
-    invoke-virtual {v4, v2}, Lcom/android/keyguard/EmergencyButtonController;->setEmergencyView(Landroid/view/View;)V
+    invoke-virtual {v15, v2}, Lcom/android/keyguard/EmergencyButtonController;->setEmergencyView(Landroid/view/View;)V
 
-    if-eqz v16, :cond_19
+    if-eqz v16, :cond_1d
 
     iget-object v2, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mDummyEcaSpace:Landroid/widget/Space;
 
-    if-eqz v2, :cond_19
+    if-eqz v2, :cond_1d
 
     invoke-virtual {v2}, Landroid/widget/Space;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    move-result-object v4
+    move-result-object v6
 
-    check-cast v4, Landroid/view/ViewGroup$MarginLayoutParams;
+    check-cast v6, Landroid/view/ViewGroup$MarginLayoutParams;
 
-    invoke-virtual {v1, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    const v7, 0x7f0704ff
 
-    move-result v1
+    invoke-virtual {v1, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    invoke-virtual {v4, v13, v13, v13, v1}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
+    move-result v1
 
-    invoke-virtual {v2, v4}, Landroid/widget/Space;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v6, v4, v4, v4, v1}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
 
-    invoke-virtual {v2, v13}, Landroid/widget/Space;->setVisibility(I)V
+    invoke-virtual {v2, v6}, Landroid/widget/Space;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :cond_19
-    iget-object v1, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaFlexContainer:Landroid/widget/LinearLayout;
+    invoke-virtual {v2, v4}, Landroid/widget/Space;->setVisibility(I)V
 
-    const/16 v2, 0x8
+    :cond_1d
+    const/16 v1, 0x8
 
-    if-eqz v1, :cond_1a
+    if-eqz v5, :cond_1e
 
-    invoke-virtual {v1, v2}, Landroid/widget/LinearLayout;->setVisibility(I)V
+    invoke-virtual {v5, v1}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
-    :cond_1a
-    if-eqz v12, :cond_1b
+    :cond_1e
+    if-eqz v9, :cond_1f
 
-    invoke-virtual {v12, v2}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
+    invoke-virtual {v9, v1}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
 
-    :cond_1b
+    :cond_1f
     invoke-interface {v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->getLockoutBiometricAttemptDeadline()J
 
     move-result-wide v1
@@ -3112,18 +3109,18 @@
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardInputViewController;->updatePrevInfoTextSize()V
 
-    goto :goto_7
+    goto :goto_8
 
-    :cond_1c
-    :goto_6
+    :cond_20
+    :goto_7
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->updatePortraitLayout(I)V
 
-    :cond_1d
-    :goto_7
+    :cond_21
+    :goto_8
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->updateLayoutForAttemptRemainingBeforeWipe()V
 
-    :cond_1e
-    :goto_8
+    :cond_22
+    :goto_9
     return-void
 .end method
 
@@ -3563,11 +3560,11 @@
 
     const/4 v10, -0x2
 
-    if-eqz v9, :cond_12
+    if-eqz v9, :cond_10
 
     iget-object v11, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mInputContainer:Landroid/widget/LinearLayout;
 
-    if-eqz v11, :cond_12
+    if-eqz v11, :cond_10
 
     invoke-virtual {v9}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -3627,7 +3624,7 @@
 
     iget-object v4, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mContainer:Landroid/widget/LinearLayout;
 
-    if-eqz v4, :cond_11
+    if-eqz v4, :cond_f
 
     invoke-virtual {v4}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -3637,7 +3634,7 @@
 
     iget-object v15, v0, Lcom/android/keyguard/KeyguardAbsKeyInputViewController;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    if-eqz v2, :cond_a
+    if-eqz v2, :cond_9
 
     iput v8, v4, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
@@ -3670,38 +3667,7 @@
 
     iput v3, v4, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
 
-    invoke-interface {v15}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
-
-    move-result v3
-
-    if-eqz v3, :cond_9
-
-    invoke-static {}, Lcom/android/systemui/util/DeviceState;->isInDisplayFpSensorPositionHigh()Z
-
-    move-result v3
-
-    if-eqz v3, :cond_9
-
-    iget v3, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mSecondsRemaining:I
-
-    if-ne v3, v8, :cond_9
-
-    iget-boolean v3, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mIsImeShown:Z
-
-    if-nez v3, :cond_9
-
-    const/4 v14, 0x1
-
-    invoke-virtual {v0, v14}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->getInDisplayFpContainerBottomMargin(Z)I
-
-    move-result v3
-
-    iput v3, v4, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
-
-    goto/16 :goto_6
-
-    :cond_9
-    const/4 v14, 0x1
+    invoke-interface {v15}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
     const v3, 0x7f0704ff
 
@@ -3713,43 +3679,18 @@
 
     goto :goto_6
 
-    :cond_a
-    const/4 v14, 0x1
-
+    :cond_9
     iput v10, v4, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
     iput v10, v4, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
     iput v5, v4, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
 
-    invoke-interface {v15}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
-
-    move-result v15
-
-    if-eqz v15, :cond_b
-
-    iget v15, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mSecondsRemaining:I
-
-    if-ne v15, v8, :cond_b
-
-    invoke-static {}, Lcom/android/systemui/util/DeviceState;->isInDisplayFpSensorPositionHigh()Z
-
-    move-result v15
+    invoke-interface {v15}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    if-eqz v15, :cond_b
-
-    invoke-virtual {v0, v5}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->getInDisplayFpContainerBottomMargin(Z)I
-
-    move-result v3
-
-    iput v3, v4, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
-
-    goto :goto_6
-
-    :cond_b
-    if-eqz v3, :cond_10
+    if-eqz v3, :cond_e
 
-    if-eqz v6, :cond_f
+    if-eqz v6, :cond_d
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isLandscapeDisplay()Z
 
@@ -3757,33 +3698,33 @@
 
     const v6, 0x7f0704be
 
-    if-eqz v3, :cond_e
+    if-eqz v3, :cond_c
 
     invoke-virtual {v1, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v3
 
-    const v15, 0x7f0704bf
+    const v14, 0x7f0704bf
 
-    invoke-virtual {v1, v15}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v1, v14}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v14
+    move-result v15
 
-    if-ne v3, v14, :cond_c
+    if-ne v3, v15, :cond_a
 
     const/4 v3, 0x1
 
     goto :goto_4
 
-    :cond_c
+    :cond_a
     move v3, v5
 
     :goto_4
-    if-nez v3, :cond_d
+    if-nez v3, :cond_b
 
-    move v6, v15
+    move v6, v14
 
-    :cond_d
+    :cond_b
     invoke-virtual {v1, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v3
@@ -3792,7 +3733,7 @@
 
     goto :goto_5
 
-    :cond_e
+    :cond_c
     invoke-virtual {v1, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v3
@@ -3806,7 +3747,7 @@
 
     goto :goto_6
 
-    :cond_f
+    :cond_d
     const v3, 0x7f0704c0
 
     invoke-virtual {v1, v3}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
@@ -3817,7 +3758,7 @@
 
     goto :goto_6
 
-    :cond_10
+    :cond_e
     const v3, 0x7f070511
 
     invoke-virtual {v1, v3}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
@@ -3831,23 +3772,23 @@
 
     invoke-virtual {v3, v4}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :cond_11
+    :cond_f
     invoke-virtual {v9, v12}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     invoke-virtual {v11, v13}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     invoke-virtual {v11, v5}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
-    :cond_12
+    :cond_10
     iget-object v3, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mPasswordEntryBoxLayout:Landroid/view/ViewGroup;
 
-    if-eqz v3, :cond_13
+    if-eqz v3, :cond_11
 
     invoke-static/range {p1 .. p1}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isPINSecurityView(I)Z
 
     move-result v4
 
-    if-eqz v4, :cond_13
+    if-eqz v4, :cond_11
 
     invoke-virtual {v3}, Landroid/view/ViewGroup;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -3865,10 +3806,10 @@
 
     invoke-virtual {v3, v4}, Landroid/view/ViewGroup;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :cond_13
+    :cond_11
     iget-object v3, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaView:Landroid/view/View;
 
-    if-eqz v3, :cond_18
+    if-eqz v3, :cond_16
 
     invoke-virtual {v3}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -3880,7 +3821,7 @@
 
     iput v10, v3, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    if-eqz v2, :cond_14
+    if-eqz v2, :cond_12
 
     const v4, 0x7f070500
 
@@ -3888,28 +3829,28 @@
 
     goto :goto_8
 
-    :cond_14
+    :cond_12
     const v4, 0x7f0a0522
 
     move/from16 v6, p1
 
-    if-ne v6, v4, :cond_15
+    if-ne v6, v4, :cond_13
 
     const/4 v4, 0x1
 
     goto :goto_7
 
-    :cond_15
+    :cond_13
     move v4, v5
 
     :goto_7
-    if-eqz v4, :cond_16
+    if-eqz v4, :cond_14
 
     const v4, 0x7f0704b8
 
     goto :goto_8
 
-    :cond_16
+    :cond_14
     const v4, 0x7f070513
 
     :goto_8
@@ -3927,11 +3868,11 @@
 
     iget-object v3, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaFlexContainer:Landroid/widget/LinearLayout;
 
-    if-eqz v3, :cond_17
+    if-eqz v3, :cond_15
 
     invoke-virtual {v3, v1}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
-    :cond_17
+    :cond_15
     iget-object v3, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mEcaView:Landroid/view/View;
 
     invoke-virtual {v3, v5}, Landroid/view/View;->setVisibility(I)V
@@ -3948,34 +3889,34 @@
 
     invoke-virtual {v4, v3}, Lcom/android/keyguard/EmergencyButtonController;->setEmergencyView(Landroid/view/View;)V
 
-    if-eqz v2, :cond_19
+    if-eqz v2, :cond_17
 
     iget-object v2, v0, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->mDummyEcaSpace:Landroid/widget/Space;
 
-    if-eqz v2, :cond_19
+    if-eqz v2, :cond_17
 
     invoke-virtual {v2, v1}, Landroid/widget/Space;->setVisibility(I)V
 
     goto :goto_9
 
-    :cond_18
+    :cond_16
     move/from16 v6, p1
 
-    :cond_19
+    :cond_17
     :goto_9
-    if-eqz v7, :cond_1a
+    if-eqz v7, :cond_18
 
     invoke-static/range {p1 .. p1}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isPINSecurityView(I)Z
 
     move-result v1
 
-    if-eqz v1, :cond_1a
+    if-eqz v1, :cond_18
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecAbsKeyInputViewController;->isAllowedToAdjustSecurityView()Z
 
     move-result v1
 
-    if-eqz v1, :cond_1a
+    if-eqz v1, :cond_18
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
@@ -3995,14 +3936,14 @@
 
     invoke-virtual {v2, v5, v1}, Landroid/widget/TextView;->setTextSize(IF)V
 
-    :cond_1a
+    :cond_18
     iget-object v1, v0, Lcom/android/keyguard/KeyguardInputViewController;->mSubMessageAreaController:Lcom/android/keyguard/KeyguardSecMessageAreaController;
 
-    if-eqz v1, :cond_1b
+    if-eqz v1, :cond_19
 
     invoke-virtual {v1, v5}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
 
-    :cond_1b
+    :cond_19
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardInputViewController;->updatePrevInfoTextSize()V
 
     return-void
diff --git a/smali/com/android/keyguard/KeyguardSecPatternViewController.smali b/smali/com/android/keyguard/KeyguardSecPatternViewController.smali
index e7263d753..9a3c21c39 100644
--- a/smali/com/android/keyguard/KeyguardSecPatternViewController.smali
+++ b/smali/com/android/keyguard/KeyguardSecPatternViewController.smali
@@ -1441,7 +1441,7 @@
 .end method
 
 .method public final updateLayout(I)V
-    .locals 18
+    .locals 19
 
     move-object/from16 v0, p0
 
@@ -1455,21 +1455,23 @@
 
     const v3, 0x7f0a03a9
 
-    iget-object v4, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mEcaView:Landroid/view/View;
+    const/4 v4, -0x2
 
-    const/4 v5, 0x0
+    iget-object v5, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mContainer:Landroid/widget/LinearLayout;
+
+    iget-object v6, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mBottomView:Landroid/widget/LinearLayout;
 
-    iget-object v6, v0, Lcom/android/keyguard/KeyguardPatternViewController;->mLockPatternView:Lcom/android/internal/widget/LockPatternView;
+    iget-object v7, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mEcaView:Landroid/view/View;
 
-    const/4 v7, -0x1
+    const/4 v8, 0x0
 
-    iget-object v8, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mContainer:Landroid/widget/LinearLayout;
+    iget-object v9, v0, Lcom/android/keyguard/KeyguardPatternViewController;->mLockPatternView:Lcom/android/internal/widget/LockPatternView;
 
-    iget-object v9, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mMessageArea:Landroid/widget/LinearLayout;
+    const/4 v10, -0x1
 
-    iget-object v10, v0, Lcom/android/keyguard/KeyguardInputViewController;->mMessageAreaController:Lcom/android/keyguard/KeyguardSecMessageAreaController;
+    iget-object v11, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mMessageArea:Landroid/widget/LinearLayout;
 
-    iget-object v11, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mBottomView:Landroid/widget/LinearLayout;
+    iget-object v12, v0, Lcom/android/keyguard/KeyguardInputViewController;->mMessageAreaController:Lcom/android/keyguard/KeyguardSecMessageAreaController;
 
     if-eqz v2, :cond_5
 
@@ -1477,9 +1479,9 @@
 
     move-result-object v0
 
-    if-eqz v11, :cond_0
+    if-eqz v6, :cond_0
 
-    invoke-virtual {v11}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v6}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
     move-result-object v1
 
@@ -1491,12 +1493,12 @@
 
     iput v2, v1, Landroid/view/ViewGroup$LayoutParams;->width:I
 
-    invoke-virtual {v11, v1}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v6, v1}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_0
-    if-eqz v10, :cond_1
+    if-eqz v12, :cond_1
 
-    invoke-virtual {v10}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v12}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
     move-result-object v1
 
@@ -1510,34 +1512,32 @@
 
     iput v2, v1, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I
 
-    invoke-virtual {v10, v1}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v12, v1}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_1
-    if-eqz v9, :cond_2
+    if-eqz v11, :cond_2
 
-    invoke-virtual {v9}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v11}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
     move-result-object v1
 
     check-cast v1, Landroid/widget/LinearLayout$LayoutParams;
 
-    iput v7, v1, Landroid/widget/LinearLayout$LayoutParams;->width:I
+    iput v10, v1, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    const/4 v2, -0x2
+    iput v4, v1, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    iput v2, v1, Landroid/widget/LinearLayout$LayoutParams;->height:I
-
-    invoke-virtual {v9, v1}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v11, v1}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_2
-    if-eqz v8, :cond_3
+    if-eqz v5, :cond_3
 
-    invoke-virtual {v8, v5}, Landroid/widget/LinearLayout;->setVisibility(I)V
+    invoke-virtual {v5, v8}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
     :cond_3
-    if-eqz v6, :cond_4
+    if-eqz v9, :cond_4
 
-    invoke-virtual {v6}, Lcom/android/internal/widget/LockPatternView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v9}, Lcom/android/internal/widget/LockPatternView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
     move-result-object v1
 
@@ -1567,12 +1567,12 @@
 
     iput v2, v1, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
 
-    invoke-virtual {v6, v1}, Lcom/android/internal/widget/LockPatternView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v9, v1}, Lcom/android/internal/widget/LockPatternView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_4
-    if-eqz v4, :cond_11
+    if-eqz v7, :cond_16
 
-    invoke-virtual {v4}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v7}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
     move-result-object v1
 
@@ -1580,27 +1580,27 @@
 
     iget v2, v1, Landroid/view/ViewGroup$MarginLayoutParams;->leftMargin:I
 
-    iget v5, v1, Landroid/view/ViewGroup$MarginLayoutParams;->topMargin:I
+    iget v4, v1, Landroid/view/ViewGroup$MarginLayoutParams;->topMargin:I
 
-    iget v6, v1, Landroid/view/ViewGroup$MarginLayoutParams;->rightMargin:I
+    iget v5, v1, Landroid/view/ViewGroup$MarginLayoutParams;->rightMargin:I
 
-    const v7, 0x7f070508
+    const v6, 0x7f070508
 
-    invoke-virtual {v0, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v0, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v7
+    move-result v6
 
-    invoke-virtual {v1, v2, v5, v6, v7}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
+    invoke-virtual {v1, v2, v4, v5, v6}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
 
-    invoke-virtual {v4, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v7, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    invoke-virtual {v4, v3}, Landroid/view/View;->findViewById(I)Landroid/view/View;
+    invoke-virtual {v7, v3}, Landroid/view/View;->findViewById(I)Landroid/view/View;
 
     move-result-object v1
 
     check-cast v1, Lcom/android/keyguard/EmergencyButton;
 
-    if-eqz v1, :cond_11
+    if-eqz v1, :cond_16
 
     invoke-virtual {v1}, Landroid/widget/Button;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
@@ -1616,309 +1616,417 @@
 
     invoke-virtual {v1, v2}, Landroid/widget/Button;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    goto/16 :goto_3
+    goto/16 :goto_4
 
     :cond_5
     iget-object v2, v0, Lcom/android/keyguard/KeyguardPatternViewController;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
     invoke-interface {v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isDualDisplayPolicyAllowed()Z
 
-    move-result v12
+    move-result v13
+
+    iget-object v14, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mEmergencyButtonController:Lcom/android/keyguard/EmergencyButtonController;
 
-    if-eqz v12, :cond_6
+    const/16 v15, 0x8
+
+    iget-object v3, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mEcaFlexContainer:Landroid/widget/LinearLayout;
+
+    if-eqz v13, :cond_a
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecPatternViewController;->updatePortraitLayout()V
 
-    goto/16 :goto_2
+    invoke-interface {v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isTableMode()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_15
+
+    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
+
+    move-result-object v1
+
+    if-eqz v12, :cond_6
+
+    invoke-virtual {v12}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/view/ViewGroup$MarginLayoutParams;
+
+    iput v8, v2, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I
+
+    invoke-virtual {v12, v2}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_6
-    if-eqz v1, :cond_10
+    if-eqz v11, :cond_7
+
+    invoke-virtual {v11}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/widget/LinearLayout$LayoutParams;
+
+    iput v10, v2, Landroid/widget/LinearLayout$LayoutParams;->width:I
+
+    iput v4, v2, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    const/4 v12, 0x2
+    const v4, 0x7f070563
 
-    if-ne v1, v12, :cond_7
+    invoke-virtual {v1, v4}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    goto/16 :goto_1
+    move-result v4
+
+    iput v4, v2, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
+
+    invoke-virtual {v11, v2}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_7
+    if-eqz v9, :cond_8
+
+    invoke-virtual {v9}, Lcom/android/internal/widget/LockPatternView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/widget/FrameLayout$LayoutParams;
+
+    const v4, 0x7f070562
+
+    invoke-virtual {v1, v4}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+
+    move-result v4
+
+    iput v4, v2, Landroid/widget/FrameLayout$LayoutParams;->width:I
+
+    const v4, 0x7f070561
+
+    invoke-virtual {v1, v4}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+
+    move-result v1
+
+    iput v1, v2, Landroid/widget/FrameLayout$LayoutParams;->height:I
+
+    iput v8, v2, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
+
+    invoke-virtual {v9, v2}, Lcom/android/internal/widget/LockPatternView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+
+    :cond_8
+    if-eqz v7, :cond_9
+
+    invoke-virtual {v7, v15}, Landroid/view/View;->setVisibility(I)V
+
+    :cond_9
+    if-eqz v3, :cond_15
+
+    invoke-virtual {v3, v8}, Landroid/widget/LinearLayout;->setVisibility(I)V
+
+    iget-object v1, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+
+    check-cast v1, Lcom/android/keyguard/KeyguardSecPatternView;
+
+    const v2, 0x7f0a03aa
+
+    invoke-virtual {v1, v2}, Landroid/widget/LinearLayout;->findViewById(I)Landroid/view/View;
+
+    move-result-object v1
+
+    invoke-virtual {v14, v1}, Lcom/android/keyguard/EmergencyButtonController;->setEmergencyView(Landroid/view/View;)V
+
+    goto/16 :goto_3
+
+    :cond_a
+    if-eqz v1, :cond_14
+
+    const/4 v4, 0x2
+
+    if-ne v1, v4, :cond_b
+
+    goto/16 :goto_2
+
+    :cond_b
     invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
     move-result-object v1
 
     invoke-virtual {v1}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
 
-    move-result-object v12
+    move-result-object v4
 
-    iget-object v12, v12, Landroid/content/res/Configuration;->windowConfiguration:Landroid/app/WindowConfiguration;
+    iget-object v4, v4, Landroid/content/res/Configuration;->windowConfiguration:Landroid/app/WindowConfiguration;
 
-    invoke-virtual {v12}, Landroid/app/WindowConfiguration;->getBounds()Landroid/graphics/Rect;
+    invoke-virtual {v4}, Landroid/app/WindowConfiguration;->getBounds()Landroid/graphics/Rect;
 
-    move-result-object v12
+    move-result-object v4
 
-    invoke-virtual {v12}, Landroid/graphics/Rect;->width()I
+    invoke-virtual {v4}, Landroid/graphics/Rect;->width()I
 
     move-result v13
 
-    invoke-virtual {v12}, Landroid/graphics/Rect;->height()I
+    invoke-virtual {v4}, Landroid/graphics/Rect;->height()I
 
-    move-result v14
+    move-result v15
 
-    invoke-static {v13, v14}, Ljava/lang/Math;->max(II)I
+    invoke-static {v13, v15}, Ljava/lang/Math;->max(II)I
 
     move-result v13
 
-    invoke-virtual {v12}, Landroid/graphics/Rect;->width()I
+    invoke-virtual {v4}, Landroid/graphics/Rect;->width()I
 
-    move-result v14
+    move-result v15
 
-    invoke-virtual {v12}, Landroid/graphics/Rect;->height()I
+    invoke-virtual {v4}, Landroid/graphics/Rect;->height()I
 
-    move-result v12
+    move-result v4
 
-    invoke-static {v14, v12}, Ljava/lang/Math;->min(II)I
+    invoke-static {v15, v4}, Ljava/lang/Math;->min(II)I
 
-    move-result v12
+    move-result v4
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    move-result-object v14
+    move-result-object v15
 
-    invoke-static {v13, v14}, Lcom/android/keyguard/SecurityUtils;->calculateLandscapeViewWidth(ILandroid/content/Context;)I
+    invoke-static {v13, v15}, Lcom/android/keyguard/SecurityUtils;->calculateLandscapeViewWidth(ILandroid/content/Context;)I
 
     move-result v13
 
-    const v14, 0x7f0704fb
+    const v15, 0x7f0704fb
 
-    invoke-virtual {v1, v14}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v1, v15}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v14
+    move-result v15
 
-    iget-object v15, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mSplitTouchView:Landroid/widget/LinearLayout;
+    iget-object v10, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mSplitTouchView:Landroid/widget/LinearLayout;
 
-    if-eqz v15, :cond_8
+    if-eqz v10, :cond_c
 
-    invoke-virtual {v15}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v10}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
     move-result-object v16
 
-    move-object/from16 v3, v16
+    move-object/from16 v17, v2
 
-    check-cast v3, Landroid/widget/LinearLayout$LayoutParams;
+    move-object/from16 v2, v16
 
-    iput v5, v3, Landroid/widget/LinearLayout$LayoutParams;->width:I
+    check-cast v2, Landroid/widget/LinearLayout$LayoutParams;
 
-    iput v5, v3, Landroid/widget/LinearLayout$LayoutParams;->height:I
+    iput v8, v2, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    const/4 v7, 0x0
+    iput v8, v2, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    iput v7, v3, Landroid/widget/LinearLayout$LayoutParams;->weight:F
+    const/4 v8, 0x0
 
-    invoke-virtual {v15, v3}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    iput v8, v2, Landroid/widget/LinearLayout$LayoutParams;->weight:F
 
-    :cond_8
-    if-eqz v6, :cond_9
+    invoke-virtual {v10, v2}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    iget-object v7, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mSecurityView:Landroid/widget/LinearLayout;
+    goto :goto_0
 
-    if-eqz v7, :cond_9
+    :cond_c
+    move-object/from16 v17, v2
 
-    invoke-virtual {v6}, Lcom/android/internal/widget/LockPatternView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    :goto_0
+    if-eqz v9, :cond_d
 
-    move-result-object v15
+    iget-object v8, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mSecurityView:Landroid/widget/LinearLayout;
 
-    check-cast v15, Landroid/widget/FrameLayout$LayoutParams;
+    if-eqz v8, :cond_d
 
-    const v5, 0x7f07050b
+    invoke-virtual {v9}, Lcom/android/internal/widget/LockPatternView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    invoke-virtual {v1, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    move-result-object v10
+
+    check-cast v10, Landroid/widget/FrameLayout$LayoutParams;
 
-    move-result v17
+    const v2, 0x7f07050b
 
-    sub-int v12, v12, v17
+    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    const v3, 0x7f070407
+    move-result v18
 
-    invoke-virtual {v1, v3}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    sub-int v4, v4, v18
 
-    move-result v3
+    const v2, 0x7f070407
 
-    sub-int/2addr v12, v3
+    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    mul-int/lit8 v3, v14, 0x2
+    move-result v2
+
+    sub-int/2addr v4, v2
+
+    mul-int/lit8 v2, v15, 0x2
 
-    sub-int/2addr v12, v3
+    sub-int/2addr v4, v2
 
-    iput v12, v15, Landroid/widget/FrameLayout$LayoutParams;->height:I
+    iput v4, v10, Landroid/widget/FrameLayout$LayoutParams;->height:I
 
-    iput v12, v15, Landroid/widget/FrameLayout$LayoutParams;->width:I
+    iput v4, v10, Landroid/widget/FrameLayout$LayoutParams;->width:I
 
-    invoke-virtual {v1, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    const v2, 0x7f07050b
+
+    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v1
 
-    iput v1, v15, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
+    iput v1, v10, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
 
     const/16 v1, 0x11
 
-    invoke-virtual {v7, v1}, Landroid/widget/LinearLayout;->setGravity(I)V
+    invoke-virtual {v8, v1}, Landroid/widget/LinearLayout;->setGravity(I)V
 
     const/4 v1, 0x0
 
-    invoke-virtual {v7, v1}, Landroid/widget/LinearLayout;->setOrientation(I)V
+    invoke-virtual {v8, v1}, Landroid/widget/LinearLayout;->setOrientation(I)V
 
-    invoke-virtual {v6, v15}, Lcom/android/internal/widget/LockPatternView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v9, v10}, Lcom/android/internal/widget/LockPatternView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    goto :goto_0
+    goto :goto_1
 
-    :cond_9
-    move v1, v5
+    :cond_d
+    const/4 v1, 0x0
 
-    :goto_0
-    if-eqz v10, :cond_a
+    :goto_1
+    if-eqz v12, :cond_e
 
-    invoke-virtual {v10}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v12}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    move-result-object v3
+    move-result-object v2
 
-    check-cast v3, Landroid/view/ViewGroup$MarginLayoutParams;
+    check-cast v2, Landroid/view/ViewGroup$MarginLayoutParams;
 
-    iput v1, v3, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I
+    iput v1, v2, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I
 
-    invoke-virtual {v10, v3}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v12, v2}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :cond_a
-    if-eqz v9, :cond_b
+    :cond_e
+    if-eqz v11, :cond_f
 
-    if-eqz v8, :cond_b
+    if-eqz v5, :cond_f
 
-    invoke-virtual {v9}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v11}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    move-result-object v3
+    move-result-object v2
 
-    check-cast v3, Landroid/widget/LinearLayout$LayoutParams;
+    check-cast v2, Landroid/widget/LinearLayout$LayoutParams;
 
-    invoke-virtual {v8}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v5}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    move-result-object v5
+    move-result-object v4
 
-    check-cast v5, Landroid/widget/LinearLayout$LayoutParams;
+    check-cast v4, Landroid/widget/LinearLayout$LayoutParams;
 
-    invoke-virtual {v9, v1, v14, v14, v14}, Landroid/widget/LinearLayout;->setPadding(IIII)V
+    invoke-virtual {v11, v1, v15, v15, v15}, Landroid/widget/LinearLayout;->setPadding(IIII)V
 
-    invoke-virtual {v8, v1, v14, v1, v14}, Landroid/widget/LinearLayout;->setPadding(IIII)V
+    invoke-virtual {v5, v1, v15, v1, v15}, Landroid/widget/LinearLayout;->setPadding(IIII)V
 
-    iput v13, v3, Landroid/widget/LinearLayout$LayoutParams;->width:I
+    iput v13, v2, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    const/4 v6, -0x1
+    const/4 v8, -0x1
 
-    iput v6, v3, Landroid/widget/LinearLayout$LayoutParams;->height:I
+    iput v8, v2, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    iput v1, v3, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
+    iput v1, v2, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
 
-    iput v13, v5, Landroid/widget/LinearLayout$LayoutParams;->width:I
+    iput v13, v4, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    iput v6, v5, Landroid/widget/LinearLayout$LayoutParams;->height:I
+    iput v8, v4, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    const/16 v6, 0x11
+    const/16 v8, 0x11
 
-    invoke-virtual {v8, v6}, Landroid/widget/LinearLayout;->setGravity(I)V
+    invoke-virtual {v5, v8}, Landroid/widget/LinearLayout;->setGravity(I)V
 
-    invoke-virtual {v8, v1}, Landroid/widget/LinearLayout;->setVisibility(I)V
+    invoke-virtual {v5, v1}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
-    invoke-virtual {v9, v3}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v11, v2}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    invoke-virtual {v8, v5}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v5, v4}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :cond_b
-    if-eqz v11, :cond_c
+    :cond_f
+    if-eqz v6, :cond_10
 
-    invoke-virtual {v11, v1}, Landroid/widget/LinearLayout;->setOrientation(I)V
+    invoke-virtual {v6, v1}, Landroid/widget/LinearLayout;->setOrientation(I)V
 
-    invoke-virtual {v11}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v6}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
     move-result-object v1
 
     check-cast v1, Landroid/widget/FrameLayout$LayoutParams;
 
-    const/4 v3, -0x1
+    const/4 v2, -0x1
 
-    iput v3, v1, Landroid/widget/FrameLayout$LayoutParams;->width:I
+    iput v2, v1, Landroid/widget/FrameLayout$LayoutParams;->width:I
 
-    invoke-virtual {v11, v1}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v6, v1}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :cond_c
-    if-eqz v4, :cond_d
+    :cond_10
+    if-eqz v7, :cond_11
 
-    invoke-virtual {v4}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    invoke-virtual {v7}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
     move-result-object v1
 
     check-cast v1, Landroid/view/ViewGroup$MarginLayoutParams;
 
-    iget v3, v1, Landroid/view/ViewGroup$MarginLayoutParams;->leftMargin:I
+    iget v2, v1, Landroid/view/ViewGroup$MarginLayoutParams;->leftMargin:I
 
-    iget v5, v1, Landroid/view/ViewGroup$MarginLayoutParams;->topMargin:I
+    iget v4, v1, Landroid/view/ViewGroup$MarginLayoutParams;->topMargin:I
 
-    iget v6, v1, Landroid/view/ViewGroup$MarginLayoutParams;->rightMargin:I
+    iget v5, v1, Landroid/view/ViewGroup$MarginLayoutParams;->rightMargin:I
 
-    const/4 v7, 0x0
+    const/4 v6, 0x0
 
-    invoke-virtual {v1, v3, v5, v6, v7}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
+    invoke-virtual {v1, v2, v4, v5, v6}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
 
-    invoke-virtual {v4, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v7, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    invoke-virtual {v4, v7}, Landroid/view/View;->setVisibility(I)V
+    invoke-virtual {v7, v6}, Landroid/view/View;->setVisibility(I)V
 
     const v1, 0x7f0a03a9
 
-    invoke-virtual {v4, v1}, Landroid/view/View;->findViewById(I)Landroid/view/View;
+    invoke-virtual {v7, v1}, Landroid/view/View;->findViewById(I)Landroid/view/View;
 
     move-result-object v1
 
-    iget-object v3, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mEmergencyButtonController:Lcom/android/keyguard/EmergencyButtonController;
+    invoke-virtual {v14, v1}, Lcom/android/keyguard/EmergencyButtonController;->setEmergencyView(Landroid/view/View;)V
 
-    invoke-virtual {v3, v1}, Lcom/android/keyguard/EmergencyButtonController;->setEmergencyView(Landroid/view/View;)V
-
-    :cond_d
+    :cond_11
     const/16 v1, 0x8
 
-    iget-object v3, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mEcaFlexContainer:Landroid/widget/LinearLayout;
-
-    if-eqz v3, :cond_e
+    if-eqz v3, :cond_12
 
     invoke-virtual {v3, v1}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
-    :cond_e
-    invoke-interface {v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->is2StepVerification()Z
+    :cond_12
+    invoke-interface/range {v17 .. v17}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->is2StepVerification()Z
 
     move-result v2
 
-    if-eqz v2, :cond_f
+    if-eqz v2, :cond_13
 
     iget-object v2, v0, Lcom/android/keyguard/KeyguardInputViewController;->mSubMessageAreaController:Lcom/android/keyguard/KeyguardSecMessageAreaController;
 
-    if-eqz v2, :cond_f
+    if-eqz v2, :cond_13
 
     invoke-virtual {v2, v1}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
 
-    :cond_f
+    :cond_13
     iget-object v2, v0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mHintText:Lcom/android/keyguard/KeyguardHintTextArea;
 
     invoke-virtual {v2, v1}, Lcom/android/keyguard/KeyguardHintTextArea;->setVisibility(I)V
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardInputViewController;->updatePrevInfoTextSize()V
 
-    goto :goto_2
+    goto :goto_3
 
-    :cond_10
-    :goto_1
+    :cond_14
+    :goto_2
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecPatternViewController;->updatePortraitLayout()V
 
-    :goto_2
+    :cond_15
+    :goto_3
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecPatternViewController;->updateLayoutForAttemptRemainingBeforeWipe()V
 
-    :cond_11
-    :goto_3
+    :cond_16
+    :goto_4
     return-void
 .end method
 
@@ -2159,7 +2267,7 @@
 .end method
 
 .method public final updatePortraitLayout()V
-    .locals 13
+    .locals 10
 
     invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
@@ -2188,302 +2296,236 @@
     invoke-virtual {v2, v3}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_0
-    const v2, 0x7f0a03a9
-
-    const v3, 0x7f070507
-
-    iget-object v4, p0, Lcom/android/keyguard/KeyguardPatternViewController;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    const/4 v5, 0x1
-
-    iget-object v6, p0, Lcom/android/keyguard/KeyguardPatternViewController;->mLockPatternView:Lcom/android/internal/widget/LockPatternView;
-
-    iget-object v7, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mEcaView:Landroid/view/View;
-
-    const/4 v8, 0x0
-
-    if-eqz v6, :cond_3
-
-    iget-object v9, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mSecurityView:Landroid/widget/LinearLayout;
-
-    if-eqz v9, :cond_3
-
-    invoke-virtual {v6}, Lcom/android/internal/widget/LockPatternView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
-
-    move-result-object v10
-
-    check-cast v10, Landroid/widget/FrameLayout$LayoutParams;
-
-    const/16 v11, 0x51
-
-    invoke-virtual {v9, v11}, Landroid/widget/LinearLayout;->setGravity(I)V
-
-    invoke-virtual {v9, v5}, Landroid/widget/LinearLayout;->setOrientation(I)V
-
-    const v9, 0x7f07050d
-
-    invoke-virtual {v0, v9}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result v9
-
-    iput v9, v10, Landroid/widget/FrameLayout$LayoutParams;->width:I
-
-    const v9, 0x7f070509
-
-    invoke-virtual {v0, v9}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    iget-object v2, p0, Lcom/android/keyguard/KeyguardPatternViewController;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    move-result v9
+    const/4 v3, 0x1
 
-    iput v9, v10, Landroid/widget/FrameLayout$LayoutParams;->height:I
+    iget-object v4, p0, Lcom/android/keyguard/KeyguardPatternViewController;->mLockPatternView:Lcom/android/internal/widget/LockPatternView;
 
-    invoke-interface {v4}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
+    if-eqz v4, :cond_1
 
-    move-result v9
+    iget-object v5, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mSecurityView:Landroid/widget/LinearLayout;
 
-    const v11, 0x7f07050b
+    if-eqz v5, :cond_1
 
-    if-eqz v9, :cond_2
+    invoke-virtual {v4}, Lcom/android/internal/widget/LockPatternView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    invoke-static {}, Lcom/android/systemui/util/DeviceState;->isInDisplayFpSensorPositionHigh()Z
+    move-result-object v6
 
-    move-result v9
+    check-cast v6, Landroid/widget/FrameLayout$LayoutParams;
 
-    if-eqz v9, :cond_2
+    const/16 v7, 0x51
 
-    iget v9, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mSecondsRemaining:I
+    invoke-virtual {v5, v7}, Landroid/widget/LinearLayout;->setGravity(I)V
 
-    if-ne v9, v1, :cond_2
+    invoke-virtual {v5, v3}, Landroid/widget/LinearLayout;->setOrientation(I)V
 
-    sget v9, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
+    const v5, 0x7f07050d
 
-    invoke-virtual {v0, v11}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v0, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v11
+    move-result v5
 
-    add-int/2addr v11, v9
+    iput v5, v6, Landroid/widget/FrameLayout$LayoutParams;->width:I
 
-    invoke-virtual {v0, v3}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    const v5, 0x7f070509
 
-    move-result v9
+    invoke-virtual {v0, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    sub-int/2addr v11, v9
+    move-result v5
 
-    const v9, 0x1050255
+    iput v5, v6, Landroid/widget/FrameLayout$LayoutParams;->height:I
 
-    invoke-virtual {v0, v9}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-interface {v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    move-result v9
+    const v5, 0x7f07050b
 
-    sub-int/2addr v11, v9
+    invoke-virtual {v0, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    if-eqz v7, :cond_1
+    move-result v5
 
-    invoke-virtual {v7, v2}, Landroid/view/View;->findViewById(I)Landroid/view/View;
+    iput v5, v6, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
 
-    move-result-object v9
+    invoke-virtual {v4, v6}, Lcom/android/internal/widget/LockPatternView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    invoke-virtual {v9}, Landroid/view/View;->getVisibility()I
+    :cond_1
+    iget-object v4, p0, Lcom/android/keyguard/KeyguardInputViewController;->mMessageAreaController:Lcom/android/keyguard/KeyguardSecMessageAreaController;
 
-    move-result v9
+    if-eqz v4, :cond_2
 
-    if-nez v9, :cond_1
+    invoke-virtual {v4}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    const v9, 0x7f070407
+    move-result-object v5
 
-    invoke-virtual {v0, v9}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    check-cast v5, Landroid/view/ViewGroup$MarginLayoutParams;
 
-    move-result v9
+    const v6, 0x7f07050f
 
-    goto :goto_0
+    invoke-virtual {v0, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    :cond_1
-    move v9, v8
+    move-result v6
 
-    :goto_0
-    sub-int/2addr v11, v9
+    iput v6, v5, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I
 
-    goto :goto_1
+    invoke-virtual {v4, v5}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
     :cond_2
-    invoke-virtual {v0, v11}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result v11
+    const/4 v4, 0x0
 
-    :goto_1
-    iput v11, v10, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I
+    iget-object v5, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mMessageArea:Landroid/widget/LinearLayout;
 
-    invoke-virtual {v6, v10}, Lcom/android/internal/widget/LockPatternView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    if-eqz v5, :cond_4
 
-    :cond_3
-    iget-object v6, p0, Lcom/android/keyguard/KeyguardInputViewController;->mMessageAreaController:Lcom/android/keyguard/KeyguardSecMessageAreaController;
+    iget-object v6, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mContainer:Landroid/widget/LinearLayout;
 
     if-eqz v6, :cond_4
 
-    invoke-virtual {v6}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
-
-    move-result-object v9
-
-    check-cast v9, Landroid/view/ViewGroup$MarginLayoutParams;
-
-    const v10, 0x7f07050f
-
-    invoke-virtual {v0, v10}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result v10
-
-    iput v10, v9, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I
-
-    invoke-virtual {v6, v9}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
-
-    :cond_4
-    iget-object v6, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mMessageArea:Landroid/widget/LinearLayout;
-
-    if-eqz v6, :cond_6
+    invoke-virtual {v5}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    iget-object v9, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mContainer:Landroid/widget/LinearLayout;
+    move-result-object v7
 
-    if-eqz v9, :cond_6
+    check-cast v7, Landroid/widget/LinearLayout$LayoutParams;
 
     invoke-virtual {v6}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    move-result-object v10
+    move-result-object v8
 
-    check-cast v10, Landroid/widget/LinearLayout$LayoutParams;
+    check-cast v8, Landroid/widget/LinearLayout$LayoutParams;
 
-    invoke-virtual {v9}, Landroid/widget/LinearLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    sget-boolean v9, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_LOCK:Z
 
-    move-result-object v11
+    if-eqz v9, :cond_3
 
-    check-cast v11, Landroid/widget/LinearLayout$LayoutParams;
+    const-class v9, Lcom/android/systemui/keyguard/DisplayLifecycle;
 
-    sget-boolean v12, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_LOCK:Z
+    invoke-static {v9}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    if-eqz v12, :cond_5
+    move-result-object v9
 
-    const-class v12, Lcom/android/systemui/keyguard/DisplayLifecycle;
+    check-cast v9, Lcom/android/systemui/keyguard/DisplayLifecycle;
 
-    invoke-static {v12}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
+    iget-boolean v9, v9, Lcom/android/systemui/keyguard/DisplayLifecycle;->mIsFolderOpened:Z
 
-    move-result-object v12
+    if-eqz v9, :cond_3
 
-    check-cast v12, Lcom/android/systemui/keyguard/DisplayLifecycle;
+    move v9, v4
 
-    iget-boolean v12, v12, Lcom/android/systemui/keyguard/DisplayLifecycle;->mIsFolderOpened:Z
+    goto :goto_0
 
-    if-eqz v12, :cond_5
+    :cond_3
+    const v9, 0x7f0704fb
 
-    move v12, v8
+    invoke-virtual {v0, v9}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    goto :goto_2
+    move-result v9
 
-    :cond_5
-    const v12, 0x7f0704fb
+    :goto_0
+    invoke-virtual {v5, v9, v4, v9, v4}, Landroid/widget/LinearLayout;->setPadding(IIII)V
 
-    invoke-virtual {v0, v12}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v6, v4, v4, v4, v4}, Landroid/widget/LinearLayout;->setPadding(IIII)V
 
-    move-result v12
+    iput v1, v7, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    :goto_2
-    invoke-virtual {v6, v12, v8, v12, v8}, Landroid/widget/LinearLayout;->setPadding(IIII)V
+    const/4 v9, -0x2
 
-    invoke-virtual {v9, v8, v8, v8, v8}, Landroid/widget/LinearLayout;->setPadding(IIII)V
+    iput v9, v7, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    iput v1, v10, Landroid/widget/LinearLayout$LayoutParams;->width:I
+    iput v4, v7, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
 
-    const/4 v12, -0x2
+    iput v1, v8, Landroid/widget/LinearLayout$LayoutParams;->width:I
 
-    iput v12, v10, Landroid/widget/LinearLayout$LayoutParams;->height:I
+    iput v9, v8, Landroid/widget/LinearLayout$LayoutParams;->height:I
 
-    iput v8, v10, Landroid/widget/LinearLayout$LayoutParams;->bottomMargin:I
+    invoke-virtual {v6, v4}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
-    iput v1, v11, Landroid/widget/LinearLayout$LayoutParams;->width:I
+    invoke-virtual {v5, v7}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    iput v12, v11, Landroid/widget/LinearLayout$LayoutParams;->height:I
+    invoke-virtual {v6, v8}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    invoke-virtual {v9, v8}, Landroid/widget/LinearLayout;->setVisibility(I)V
+    :cond_4
+    iget-object v1, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mBottomView:Landroid/widget/LinearLayout;
 
-    invoke-virtual {v6, v10}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    if-eqz v1, :cond_5
 
-    invoke-virtual {v9, v11}, Landroid/widget/LinearLayout;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    const/16 v5, 0x50
 
-    :cond_6
-    iget-object v1, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mBottomView:Landroid/widget/LinearLayout;
+    invoke-virtual {v1, v5}, Landroid/widget/LinearLayout;->setGravity(I)V
 
-    if-eqz v1, :cond_7
+    invoke-virtual {v1, v3}, Landroid/widget/LinearLayout;->setOrientation(I)V
 
-    const/16 v6, 0x50
-
-    invoke-virtual {v1, v6}, Landroid/widget/LinearLayout;->setGravity(I)V
+    :cond_5
+    iget-object v1, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mEcaView:Landroid/view/View;
 
-    invoke-virtual {v1, v5}, Landroid/widget/LinearLayout;->setOrientation(I)V
+    if-eqz v1, :cond_6
 
-    :cond_7
-    if-eqz v7, :cond_8
+    invoke-virtual {v1}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
 
-    invoke-virtual {v7}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
+    move-result-object v3
 
-    move-result-object v1
+    check-cast v3, Landroid/view/ViewGroup$MarginLayoutParams;
 
-    check-cast v1, Landroid/view/ViewGroup$MarginLayoutParams;
+    iget v5, v3, Landroid/view/ViewGroup$MarginLayoutParams;->leftMargin:I
 
-    iget v5, v1, Landroid/view/ViewGroup$MarginLayoutParams;->leftMargin:I
+    iget v6, v3, Landroid/view/ViewGroup$MarginLayoutParams;->topMargin:I
 
-    iget v6, v1, Landroid/view/ViewGroup$MarginLayoutParams;->topMargin:I
+    iget v7, v3, Landroid/view/ViewGroup$MarginLayoutParams;->rightMargin:I
 
-    iget v9, v1, Landroid/view/ViewGroup$MarginLayoutParams;->rightMargin:I
+    const v8, 0x7f070507
 
-    invoke-virtual {v0, v3}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v0, v8}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v0
 
-    invoke-virtual {v1, v5, v6, v9, v0}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
+    invoke-virtual {v3, v5, v6, v7, v0}, Landroid/view/ViewGroup$MarginLayoutParams;->setMargins(IIII)V
 
-    invoke-virtual {v7, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
+    invoke-virtual {v1, v3}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    invoke-virtual {v7, v8}, Landroid/view/View;->setVisibility(I)V
+    invoke-virtual {v1, v4}, Landroid/view/View;->setVisibility(I)V
 
     iget-object v0, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mEmergencyButtonController:Lcom/android/keyguard/EmergencyButtonController;
 
-    invoke-virtual {v7, v2}, Landroid/view/View;->findViewById(I)Landroid/view/View;
+    const v3, 0x7f0a03a9
+
+    invoke-virtual {v1, v3}, Landroid/view/View;->findViewById(I)Landroid/view/View;
 
     move-result-object v1
 
     invoke-virtual {v0, v1}, Lcom/android/keyguard/EmergencyButtonController;->setEmergencyView(Landroid/view/View;)V
 
-    :cond_8
+    :cond_6
     iget-object v0, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mEcaFlexContainer:Landroid/widget/LinearLayout;
 
-    if-eqz v0, :cond_9
+    if-eqz v0, :cond_7
 
     const/16 v1, 0x8
 
     invoke-virtual {v0, v1}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
-    :cond_9
-    invoke-interface {v4}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->is2StepVerification()Z
+    :cond_7
+    invoke-interface {v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->is2StepVerification()Z
 
     move-result v0
 
-    if-eqz v0, :cond_a
+    if-eqz v0, :cond_8
 
     iget-object v0, p0, Lcom/android/keyguard/KeyguardInputViewController;->mSubMessageAreaController:Lcom/android/keyguard/KeyguardSecMessageAreaController;
 
-    if-eqz v0, :cond_a
+    if-eqz v0, :cond_8
 
-    invoke-virtual {v0, v8}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
+    invoke-virtual {v0, v4}, Lcom/android/keyguard/KeyguardSecMessageAreaController;->setVisibility(I)V
 
-    :cond_a
+    :cond_8
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecPatternViewController;->isHintText()Z
 
     move-result v0
 
-    if-eqz v0, :cond_b
+    if-eqz v0, :cond_9
 
     iget-object v0, p0, Lcom/android/keyguard/KeyguardSecPatternViewController;->mHintText:Lcom/android/keyguard/KeyguardHintTextArea;
 
-    invoke-virtual {v0, v8}, Lcom/android/keyguard/KeyguardHintTextArea;->setVisibility(I)V
+    invoke-virtual {v0, v4}, Lcom/android/keyguard/KeyguardHintTextArea;->setVisibility(I)V
 
-    :cond_b
+    :cond_9
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardInputViewController;->updatePrevInfoTextSize()V
 
     return-void
diff --git a/smali/com/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode.smali b/smali/com/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode.smali
index a449811f3..f8cb28bd0 100644
--- a/smali/com/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode.smali
+++ b/smali/com/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode.smali
@@ -96,7 +96,7 @@
 .end method
 
 .method public final updateSecurityViewPosition(IZ)V
-    .locals 9
+    .locals 8
 
     if-eqz p2, :cond_0
 
@@ -181,45 +181,33 @@
 
     check-cast v2, Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    invoke-interface {v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
+    invoke-interface {v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    move-result v2
-
-    if-eqz v2, :cond_3
-
-    sget v2, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    goto :goto_2
+    const/4 v2, 0x1
 
-    :cond_3
-    move v2, v3
+    const/4 v4, 0x2
 
-    :goto_2
-    const/4 v4, 0x1
+    if-eqz p1, :cond_4
 
-    const/4 v5, 0x2
+    if-eq p1, v4, :cond_3
 
-    if-eqz p1, :cond_5
+    goto :goto_3
 
-    if-eq p1, v5, :cond_4
+    :cond_3
+    if-ne v0, v2, :cond_5
 
-    goto :goto_4
+    goto :goto_2
 
     :cond_4
-    if-ne v0, v4, :cond_6
+    const/4 v5, 0x3
 
-    goto :goto_3
-
-    :cond_5
-    const/4 v6, 0x3
+    if-ne v0, v5, :cond_5
 
-    if-ne v0, v6, :cond_6
+    :goto_2
+    add-int/lit8 v1, v1, 0x0
 
+    :cond_5
     :goto_3
-    add-int/2addr v1, v2
-
-    :cond_6
-    :goto_4
     move v6, v1
 
     iget-object v0, p0, Lcom/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode;->mView:Landroidx/constraintlayout/widget/ConstraintLayout;
@@ -230,7 +218,7 @@
 
     sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_NAVBAR_ENABLED:Z
 
-    if-eqz v1, :cond_7
+    if-eqz v1, :cond_6
 
     const v1, 0x1050255
 
@@ -238,23 +226,25 @@
 
     move-result v1
 
-    goto :goto_5
+    move v7, v1
 
-    :cond_7
-    move v1, v3
+    goto :goto_4
 
-    :goto_5
-    iget-object v2, p0, Lcom/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode;->mView:Landroidx/constraintlayout/widget/ConstraintLayout;
+    :cond_6
+    move v7, v3
 
-    invoke-virtual {v2}, Landroid/view/ViewGroup;->getContext()Landroid/content/Context;
+    :goto_4
+    iget-object v1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode;->mView:Landroidx/constraintlayout/widget/ConstraintLayout;
 
-    move-result-object v2
+    invoke-virtual {v1}, Landroid/view/ViewGroup;->getContext()Landroid/content/Context;
 
-    invoke-static {v2}, Lcom/android/systemui/util/DeviceState;->shouldEnableKeyguardScreenRotation(Landroid/content/Context;)Z
+    move-result-object v1
 
-    move-result v2
+    invoke-static {v1}, Lcom/android/systemui/util/DeviceState;->shouldEnableKeyguardScreenRotation(Landroid/content/Context;)Z
 
-    if-eqz v2, :cond_8
+    move-result v1
+
+    if-eqz v1, :cond_7
 
     invoke-virtual {v0}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
 
@@ -270,72 +260,23 @@
 
     move-result v0
 
-    goto :goto_6
+    goto :goto_5
 
-    :cond_8
+    :cond_7
     move v0, v3
 
-    :goto_6
-    const-class v2, Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-static {v2}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
-
-    move-result-object v2
-
-    check-cast v2, Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-interface {v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
-
-    move-result v2
-
-    if-eqz v2, :cond_9
-
-    sget v2, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
-
-    move-result v7
-
-    if-eqz v7, :cond_a
-
-    iget-object v7, p0, Lcom/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode;->mView:Landroidx/constraintlayout/widget/ConstraintLayout;
-
-    invoke-virtual {v7}, Landroid/view/ViewGroup;->getResources()Landroid/content/res/Resources;
-
-    move-result-object v7
-
-    const v8, 0x7f0704af
-
-    invoke-virtual {v7, v8}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result v7
-
-    add-int/2addr v2, v7
-
-    goto :goto_7
-
-    :cond_9
-    move v2, v3
-
-    :cond_a
-    :goto_7
-    if-nez v0, :cond_c
-
-    if-nez v2, :cond_b
+    :goto_5
+    const-class v1, Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    goto :goto_8
+    invoke-static {v1}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    :cond_b
-    move v0, v2
+    move-result-object v1
 
-    goto :goto_9
+    check-cast v1, Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    :cond_c
-    :goto_8
-    move v0, v1
+    invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    :goto_9
-    if-nez p1, :cond_d
+    if-nez p1, :cond_8
 
     iget-object p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode;->mViewFlipper:Lcom/android/keyguard/KeyguardSecurityViewFlipper;
 
@@ -353,10 +294,10 @@
 
     invoke-virtual/range {v1 .. v6}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIIII)V
 
-    goto :goto_a
+    goto :goto_6
 
-    :cond_d
-    if-ne p1, v5, :cond_e
+    :cond_8
+    if-ne p1, v4, :cond_9
 
     iget-object p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode;->mViewFlipper:Lcom/android/keyguard/KeyguardSecurityViewFlipper;
 
@@ -374,16 +315,16 @@
 
     invoke-virtual/range {v1 .. v6}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIIII)V
 
-    goto :goto_a
+    goto :goto_6
 
-    :cond_e
+    :cond_9
     iget-object p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode;->mViewFlipper:Lcom/android/keyguard/KeyguardSecurityViewFlipper;
 
     invoke-virtual {p1}, Landroid/widget/ViewFlipper;->getId()I
 
     move-result p1
 
-    invoke-virtual {p2, p1, v4, v3, v4}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
+    invoke-virtual {p2, p1, v2, v3, v2}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
 
     iget-object p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode;->mViewFlipper:Lcom/android/keyguard/KeyguardSecurityViewFlipper;
 
@@ -391,9 +332,9 @@
 
     move-result p1
 
-    invoke-virtual {p2, p1, v5, v3, v5}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
+    invoke-virtual {p2, p1, v4, v3, v4}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
 
-    :goto_a
+    :goto_6
     iget-object p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainer$ArrowViewMode;->mViewFlipper:Lcom/android/keyguard/KeyguardSecurityViewFlipper;
 
     invoke-virtual {p1}, Landroid/widget/ViewFlipper;->getId()I
@@ -408,7 +349,7 @@
 
     move-object v1, p2
 
-    move v6, v0
+    move v6, v7
 
     invoke-virtual/range {v1 .. v6}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIIII)V
 
diff --git a/smali/com/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener.smali b/smali/com/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener.smali
index cfe339e0a..e5bafc3a8 100644
--- a/smali/com/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener.smali
+++ b/smali/com/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener.smali
@@ -42,17 +42,15 @@
 
     move-result p1
 
-    const/4 v0, 0x1
+    const/4 v0, 0x0
 
-    const/4 v1, 0x0
-
-    if-eqz p1, :cond_7
+    if-eqz p1, :cond_6
 
     sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_NAVBAR_ENABLED:Z
 
     if-eqz p1, :cond_0
 
-    move p1, v1
+    move p1, v0
 
     goto :goto_0
 
@@ -70,162 +68,116 @@
     :goto_0
     invoke-static {}, Landroid/view/WindowInsets$Type;->ime()I
 
-    move-result v2
+    move-result v1
 
-    invoke-virtual {p2, v2}, Landroid/view/WindowInsets;->getInsets(I)Landroid/graphics/Insets;
+    invoke-virtual {p2, v1}, Landroid/view/WindowInsets;->getInsets(I)Landroid/graphics/Insets;
 
-    move-result-object v2
+    move-result-object v1
 
-    iget v2, v2, Landroid/graphics/Insets;->bottom:I
+    iget v1, v1, Landroid/graphics/Insets;->bottom:I
 
-    iget-object v3, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
+    iget-object v2, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
 
-    iget v4, v3, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mImeBottom:I
+    iget v3, v2, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mImeBottom:I
 
-    if-eq v4, v2, :cond_6
+    if-eq v3, v1, :cond_5
 
-    iput v2, v3, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mImeBottom:I
+    iput v1, v2, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mImeBottom:I
 
-    if-eqz v2, :cond_1
+    const/4 v3, 0x1
 
-    move v4, v0
+    if-eqz v1, :cond_1
+
+    move v4, v3
 
     goto :goto_1
 
     :cond_1
-    move v4, v1
+    move v4, v0
 
     :goto_1
-    iput-boolean v4, v3, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsImeShown:Z
+    iput-boolean v4, v2, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsImeShown:Z
 
-    invoke-virtual {v3}, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->updateLayoutMargins()V
+    invoke-virtual {v2}, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->updateLayoutMargins()V
 
-    iget-object v3, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
+    iget-object v2, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
 
-    invoke-virtual {v3}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    invoke-virtual {v2}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    move-result-object v3
+    move-result-object v2
 
     iget-object v4, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
 
     iget v4, v4, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mImeBottom:I
 
-    invoke-virtual {v3}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    invoke-virtual {v2}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v3
+    move-result-object v2
 
-    invoke-virtual {v3}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
+    invoke-virtual {v2}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
 
-    move-result-object v3
+    move-result-object v2
 
-    iget-object v3, v3, Landroid/content/res/Configuration;->windowConfiguration:Landroid/app/WindowConfiguration;
+    iget-object v2, v2, Landroid/content/res/Configuration;->windowConfiguration:Landroid/app/WindowConfiguration;
 
-    invoke-virtual {v3}, Landroid/app/WindowConfiguration;->getRotation()I
+    invoke-virtual {v2}, Landroid/app/WindowConfiguration;->getRotation()I
 
-    move-result v3
+    move-result v2
 
-    invoke-static {v3}, Lcom/android/systemui/util/DeviceState;->getRotation(I)I
+    invoke-static {v2}, Lcom/android/systemui/util/DeviceState;->getRotation(I)I
 
-    move-result v3
+    move-result v2
 
-    if-eq v3, v0, :cond_3
+    if-eq v2, v3, :cond_3
 
     const/4 v5, 0x3
 
-    if-ne v3, v5, :cond_2
+    if-ne v2, v5, :cond_2
 
     goto :goto_2
 
     :cond_2
-    move v0, v1
+    move v3, v0
 
     :cond_3
     :goto_2
-    sget-object v3, Lcom/android/keyguard/SecurityUtils;->sImeHeight:[I
+    sget-object v2, Lcom/android/keyguard/SecurityUtils;->sImeHeight:[I
 
-    aget v5, v3, v0
+    aget v5, v2, v3
 
     if-eqz v5, :cond_4
 
     if-eq v5, v4, :cond_5
 
     :cond_4
-    aput v4, v3, v0
+    aput v4, v2, v3
 
     :cond_5
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v0, :cond_6
-
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
-
-    iget-object v3, v0, Lcom/android/keyguard/KeyguardSecurityContainerController;->mUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    iget-boolean v0, v0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsImeShown:Z
-
-    invoke-interface {v3, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->updateSIPShownState(Z)V
-
-    :cond_6
-    invoke-static {p1, v2}, Ljava/lang/Integer;->max(II)I
+    invoke-static {p1, v1}, Ljava/lang/Integer;->max(II)I
 
     move-result p1
 
-    goto :goto_4
-
-    :cond_7
-    sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz p1, :cond_9
-
-    invoke-static {}, Landroid/view/WindowInsets$Type;->ime()I
-
-    move-result p1
-
-    invoke-virtual {p2, p1}, Landroid/view/WindowInsets;->getInsets(I)Landroid/graphics/Insets;
-
-    move-result-object p1
-
-    iget p1, p1, Landroid/graphics/Insets;->bottom:I
-
-    iget-object v2, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
-
-    iget v3, v2, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mImeBottom:I
-
-    if-eq v3, p1, :cond_9
-
-    iput p1, v2, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mImeBottom:I
-
-    if-eqz p1, :cond_8
-
     goto :goto_3
 
-    :cond_8
-    move v0, v1
-
-    :goto_3
-    iput-boolean v0, v2, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsImeShown:Z
-
-    iget-object p1, v2, Lcom/android/keyguard/KeyguardSecurityContainerController;->mUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-interface {p1, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->updateSIPShownState(Z)V
+    :cond_6
+    sget-object p1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_9
-    move p1, v1
+    move p1, v0
 
-    :goto_4
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
+    :goto_3
+    iget-object v1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
 
-    iget-object v0, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v1, v1, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    move-object v2, v0
+    move-object v2, v1
 
     check-cast v2, Lcom/android/keyguard/KeyguardSecSecurityContainer;
 
-    check-cast v0, Lcom/android/keyguard/KeyguardSecSecurityContainer;
+    check-cast v1, Lcom/android/keyguard/KeyguardSecSecurityContainer;
 
-    invoke-virtual {v0}, Landroid/view/ViewGroup;->getPaddingLeft()I
+    invoke-virtual {v1}, Landroid/view/ViewGroup;->getPaddingLeft()I
 
-    move-result v0
+    move-result v1
 
     iget-object v3, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController$OnApplyWindowInsetsListener;->this$0:Lcom/android/keyguard/KeyguardSecSecurityContainerController;
 
@@ -247,9 +199,9 @@
 
     move-result p0
 
-    invoke-virtual {v2, v0, v3, p0, p1}, Landroid/view/ViewGroup;->setPadding(IIII)V
+    invoke-virtual {v2, v1, v3, p0, p1}, Landroid/view/ViewGroup;->setPadding(IIII)V
 
-    invoke-virtual {p2, v1, v1, v1, p1}, Landroid/view/WindowInsets;->inset(IIII)Landroid/view/WindowInsets;
+    invoke-virtual {p2, v0, v0, v0, p1}, Landroid/view/WindowInsets;->inset(IIII)Landroid/view/WindowInsets;
 
     move-result-object p0
 
diff --git a/smali/com/android/keyguard/KeyguardSecSecurityContainerController.smali b/smali/com/android/keyguard/KeyguardSecSecurityContainerController.smali
index 81ee3482e..f97a60e2d 100644
--- a/smali/com/android/keyguard/KeyguardSecSecurityContainerController.smali
+++ b/smali/com/android/keyguard/KeyguardSecSecurityContainerController.smali
@@ -2915,93 +2915,66 @@
 
     move-result v0
 
-    if-eqz v0, :cond_11
+    if-eqz v0, :cond_f
 
-    sget v0, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
+    sget-object v0, Lcom/android/systemui/util/DeviceState;->sDisplaySize:Landroid/graphics/Point;
 
     invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v1
+    move-result-object v0
 
-    const v6, 0x7f0704af
+    const v1, 0x7f0704af
 
-    invoke-virtual {v1, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v0, v1}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v1
+    invoke-interface {v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    add-int/2addr v1, v0
+    if-eq p1, v2, :cond_d
 
-    invoke-interface {v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
+    const/4 v0, 0x2
 
-    move-result v0
+    if-eq p1, v0, :cond_d
 
-    if-eqz v0, :cond_c
+    if-eq p1, v4, :cond_d
 
-    invoke-interface {v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isHiddenInputContainer()Z
+    iget-boolean p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsPassword:Z
 
-    move-result v0
+    if-eqz p1, :cond_c
 
-    if-nez v0, :cond_c
+    iget-boolean p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsImeShown:Z
 
-    move v0, v2
+    if-eqz p1, :cond_c
 
     goto :goto_7
 
     :cond_c
-    move v0, v3
-
-    :goto_7
-    if-eq p1, v2, :cond_f
-
-    const/4 v2, 0x2
-
-    if-eq p1, v2, :cond_f
-
-    if-eq p1, v4, :cond_f
-
-    iget-boolean p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsPassword:Z
-
-    if-eqz p1, :cond_d
-
-    iget-boolean p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsImeShown:Z
-
-    if-eqz p1, :cond_d
+    iget p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mNavigationBarHeight:I
 
     goto :goto_8
 
     :cond_d
-    if-eqz v0, :cond_e
-
-    goto :goto_9
-
-    :cond_e
-    iget v1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mNavigationBarHeight:I
-
-    goto :goto_9
-
-    :cond_f
     iget-boolean p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsPassword:Z
 
-    if-eqz p1, :cond_10
+    if-eqz p1, :cond_e
 
     iget-boolean p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsImeShown:Z
 
-    if-eqz p1, :cond_10
+    if-eqz p1, :cond_e
 
-    :goto_8
-    move v1, v3
+    :goto_7
+    move p1, v3
 
-    goto :goto_9
+    goto :goto_8
 
-    :cond_10
-    iget v1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mNavigationBarHeight:I
+    :cond_e
+    iget p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mNavigationBarHeight:I
 
-    :goto_9
-    invoke-virtual {p0, v3, v3, v1}, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->updateLayoutParams(III)V
+    :goto_8
+    invoke-virtual {p0, v3, v3, p1}, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->updateLayoutParams(III)V
 
     return-void
 
-    :cond_11
+    :cond_f
     invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
     move-result-object v0
@@ -3010,66 +2983,42 @@
 
     move-result v0
 
-    if-nez v0, :cond_12
-
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-nez v0, :cond_12
+    if-nez v0, :cond_10
 
     iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mNeedsInput:Z
 
-    if-eqz v0, :cond_12
+    if-eqz v0, :cond_10
 
     sget-object v0, Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;->KNOXGUARD:Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;
 
-    if-eq v1, v0, :cond_12
+    if-eq v1, v0, :cond_10
 
     move p1, v3
 
     move v0, p1
 
-    goto :goto_f
-
-    :cond_12
-    sget v0, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    invoke-interface {v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
-
-    move-result v1
-
-    if-eqz v1, :cond_13
-
-    invoke-interface {v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isHiddenInputContainer()Z
-
-    move-result v1
-
-    if-nez v1, :cond_13
-
-    move v1, v2
-
-    goto :goto_a
+    goto :goto_c
 
-    :cond_13
-    move v1, v3
+    :cond_10
+    invoke-interface {v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    :goto_a
     invoke-interface {v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isHiddenInputContainer()Z
 
-    move-result v5
+    move-result v0
 
-    if-eqz v5, :cond_14
+    if-eqz v0, :cond_11
 
-    move v5, v3
+    move v0, v3
 
-    goto :goto_b
+    goto :goto_9
 
-    :cond_14
-    iget v5, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mNavigationBarHeight:I
+    :cond_11
+    iget v0, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mNavigationBarHeight:I
 
-    :goto_b
-    if-eq p1, v2, :cond_19
+    :goto_9
+    if-eq p1, v2, :cond_14
 
-    if-eq p1, v4, :cond_17
+    if-eq p1, v4, :cond_14
 
     invoke-static {}, Lcom/android/systemui/util/DeviceState;->isInDisplayFpSensorPositionHigh()Z
 
@@ -3077,66 +3026,40 @@
 
     xor-int/2addr p1, v2
 
-    and-int/2addr p1, v1
-
-    iget-boolean v1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsPassword:Z
+    and-int/2addr p1, v3
 
-    if-eqz v1, :cond_15
+    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsPassword:Z
 
-    iget-boolean v1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsImeShown:Z
+    if-eqz v0, :cond_12
 
-    if-eqz v1, :cond_15
+    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mIsImeShown:Z
 
-    move v0, v3
+    if-eqz v0, :cond_12
 
-    goto :goto_c
+    goto :goto_a
 
-    :cond_15
-    if-eqz p1, :cond_16
+    :cond_12
+    if-eqz p1, :cond_13
 
-    goto :goto_c
+    :goto_a
+    move p1, v3
 
-    :cond_16
-    iget v0, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mNavigationBarHeight:I
+    goto :goto_b
 
-    :goto_c
-    move p1, v0
+    :cond_13
+    iget p1, p0, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->mNavigationBarHeight:I
 
+    :goto_b
     move v0, v3
 
-    goto :goto_f
-
-    :cond_17
-    if-eqz v1, :cond_18
-
-    goto :goto_d
-
-    :cond_18
-    move v0, v5
-
-    :goto_d
-    move v7, v5
-
-    move v5, v0
-
-    move v0, v7
-
-    goto :goto_e
-
-    :cond_19
-    if-eqz v1, :cond_1a
-
-    goto :goto_e
-
-    :cond_1a
-    move v0, v5
+    goto :goto_c
 
-    :goto_e
+    :cond_14
     move p1, v3
 
-    move v3, v5
+    move v3, v0
 
-    :goto_f
+    :goto_c
     invoke-virtual {p0, v3, v0, p1}, Lcom/android/keyguard/KeyguardSecSecurityContainerController;->updateLayoutParams(III)V
 
     return-void
diff --git a/smali/com/android/keyguard/KeyguardSecUpdateMonitor.smali b/smali/com/android/keyguard/KeyguardSecUpdateMonitor.smali
index afb87813d..bf907b91b 100644
--- a/smali/com/android/keyguard/KeyguardSecUpdateMonitor.smali
+++ b/smali/com/android/keyguard/KeyguardSecUpdateMonitor.smali
@@ -598,12 +598,10 @@
     return p0
 .end method
 
-.method public isInDisplayFingerprintMarginAccepted()Z
+.method public isInDisplayFingerprintMarginAccepted()V
     .locals 0
 
-    const/4 p0, 0x0
-
-    return p0
+    return-void
 .end method
 
 .method public isKeyguardUnlocking()Z
@@ -766,6 +764,14 @@
     return p0
 .end method
 
+.method public isTableMode()Z
+    .locals 0
+
+    const/4 p0, 0x0
+
+    return p0
+.end method
+
 .method public isTimerRunning()Z
     .locals 0
 
@@ -940,6 +946,12 @@
     return-void
 .end method
 
+.method public setShowingKeepScreenOnPopup(Z)V
+    .locals 0
+
+    return-void
+.end method
+
 .method public setUnlockingKeyguard(Z)V
     .locals 0
 
@@ -988,12 +1000,6 @@
     return-void
 .end method
 
-.method public updateSIPShownState(Z)V
-    .locals 0
-
-    return-void
-.end method
-
 .method public updateUserUnlockNotification(I)V
     .locals 0
 
diff --git a/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda16.smali b/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda16.smali
index 61e01829d..cc0243328 100644
--- a/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda16.smali
+++ b/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda16.smali
@@ -28,12 +28,10 @@
 
 # virtual methods
 .method public final onChanged(Landroid/net/Uri;)V
-    .locals 1
+    .locals 0
 
     iget p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda16;->$r8$classId:I
 
-    const/4 v0, 0x2
-
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda16;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
 
     packed-switch p1, :pswitch_data_0
@@ -58,22 +56,21 @@
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchLockModeChanged()V
 
     :cond_0
-    sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz p1, :cond_1
-
-    invoke-virtual {p0, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
+    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_1
     return-void
 
     :goto_0
-    invoke-virtual {p0, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
+    const/4 p1, 0x2
+
+    invoke-virtual {p0, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
 
     sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     return-void
 
+    nop
+
     :pswitch_data_0
     .packed-switch 0x0
         :pswitch_0
diff --git a/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda17.smali b/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda17.smali
index 0f12cc79d..2aaa99d8b 100644
--- a/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda17.smali
+++ b/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda17.smali
@@ -40,26 +40,15 @@
 
     const/4 v1, 0x1
 
-    if-ne p1, v1, :cond_2
+    if-ne p1, v1, :cond_1
 
     :cond_0
-    sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
+    sget-object p1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    if-eqz p1, :cond_1
-
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFingerprintOptionEnabled()Z
-
-    move-result p1
-
-    if-eqz p1, :cond_1
-
-    invoke-virtual {p0, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
-
-    :cond_1
     sget-object p1, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_COCKTAIL_BAR_SHOWING_CHANGED:Lcom/android/keyguard/FaceAuthUiEvent;
 
     invoke-virtual {p0, v0, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
 
-    :cond_2
+    :cond_1
     return-void
 .end method
diff --git a/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8.smali b/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8.smali
index 473c6192a..25873609f 100644
--- a/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8.smali
+++ b/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8.smali
@@ -32,20 +32,21 @@
 
     iget v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->$r8$classId:I
 
-    const/4 v1, 0x0
+    const/4 v1, 0x2
 
-    const/4 v2, 0x2
+    const/4 v2, 0x0
 
     packed-switch v0, :pswitch_data_0
 
+    :pswitch_0
     goto/16 :goto_0
 
-    :pswitch_0
+    :pswitch_1
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
 
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFastUnlockController:Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;
 
-    new-array v0, v1, [Ljava/lang/Object;
+    new-array v0, v2, [Ljava/lang/Object;
 
     const-string/jumbo v1, "onFpAuthenticationSucceeded end"
 
@@ -53,7 +54,7 @@
 
     return-void
 
-    :pswitch_1
+    :pswitch_2
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
 
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFaceOptionEnabled()Z
@@ -73,7 +74,7 @@
     invoke-virtual {p0, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->stopListeningForFace(Lcom/android/keyguard/FaceAuthUiEvent;)V
 
     :cond_0
-    invoke-virtual {p0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setFaceAuthenticated(Z)V
+    invoke-virtual {p0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setFaceAuthenticated(Z)V
 
     iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFaceManager:Landroid/hardware/face/FaceManager;
 
@@ -92,12 +93,12 @@
     :cond_1
     return-void
 
-    :pswitch_2
+    :pswitch_3
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
 
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFastUnlockController:Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;
 
-    new-array v0, v1, [Ljava/lang/Object;
+    new-array v0, v2, [Ljava/lang/Object;
 
     const-string/jumbo v1, "onFaceAuthenticationSucceeded end"
 
@@ -105,7 +106,7 @@
 
     return-void
 
-    :pswitch_3
+    :pswitch_4
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
 
     iget-boolean v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mDeviceInteractive:Z
@@ -154,27 +155,22 @@
     :cond_3
     return-void
 
-    :pswitch_4
+    :pswitch_5
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
 
     invoke-virtual {p0}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
-    const-string v0, "KeyguardFingerprint"
-
-    const-string v1, "Waiting window focus change"
+    const-string p0, "KeyguardFingerprint"
 
-    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+    const-string v0, "Waiting window focus change"
 
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
+    invoke-static {p0, v0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    if-eqz v0, :cond_4
+    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    invoke-virtual {p0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
-
-    :cond_4
     return-void
 
-    :pswitch_5
+    :pswitch_6
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
 
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mLooperSlowLogController:Lcom/android/systemui/uithreadmonitor/LooperSlowLogController;
@@ -199,7 +195,7 @@
 
     return-void
 
-    :pswitch_6
+    :pswitch_7
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
 
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mLooperSlowLogController:Lcom/android/systemui/uithreadmonitor/LooperSlowLogController;
@@ -224,32 +220,25 @@
 
     return-void
 
-    :pswitch_7
+    :pswitch_8
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
 
     invoke-virtual {p0}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
     sget-object v0, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_FULL_SCREEN_FACE_WIDGET:Lcom/android/keyguard/FaceAuthUiEvent;
 
-    invoke-virtual {p0, v2, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateBiometricListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
+    invoke-virtual {p0, v1, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateBiometricListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
 
     return-void
 
-    :pswitch_8
+    :pswitch_9
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
 
     invoke-virtual {p0}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
     sget-object v0, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_WINDOW_FOCUS_CHANGED:Lcom/android/keyguard/FaceAuthUiEvent;
 
-    invoke-virtual {p0, v2, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
-
-    return-void
-
-    :pswitch_9
-    iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;->f$0:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;
-
-    invoke-virtual {p0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
+    invoke-virtual {p0, v1, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
 
     return-void
 
@@ -283,15 +272,18 @@
 
     invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
 
-    move-result-wide v2
+    move-result-wide v0
 
-    invoke-virtual {p0, v2, v3, v1, v1}, Landroid/os/PowerManager;->userActivity(JII)V
+    invoke-virtual {p0, v0, v1, v2, v2}, Landroid/os/PowerManager;->userActivity(JII)V
 
     return-void
 
+    nop
+
     :pswitch_data_0
     .packed-switch 0x0
         :pswitch_a
+        :pswitch_0
         :pswitch_9
         :pswitch_8
         :pswitch_7
@@ -301,6 +293,5 @@
         :pswitch_3
         :pswitch_2
         :pswitch_1
-        :pswitch_0
     .end packed-switch
 .end method
diff --git a/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticOutline0.smali b/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticOutline0.smali
index 622397e7f..846a8f586 100644
--- a/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticOutline0.smali
+++ b/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticOutline0.smali
@@ -102,6 +102,24 @@
     return-void
 .end method
 
+.method public static m(Ljava/lang/String;ZLjava/lang/String;)V
+    .locals 1
+
+    new-instance v0, Ljava/lang/StringBuilder;
+
+    invoke-direct {v0, p0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+
+    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object p0
+
+    invoke-static {p2, p0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
 .method public static m(Ljava/lang/StringBuilder;ILjava/lang/String;ILjava/lang/String;)V
     .locals 0
 
diff --git a/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl.smali b/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl.smali
index 868aa0e4f..45c44424f 100644
--- a/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl.smali
+++ b/smali/com/android/keyguard/KeyguardSecUpdateMonitorImpl.smali
@@ -74,8 +74,6 @@
 
 .field public mForceStartFinger:Z
 
-.field public mFpInDisplayState:I
-
 .field public final mFpMessages:Ljava/util/concurrent/ConcurrentLinkedQueue;
 
 .field public final mFpMsgConsumer:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda11;
@@ -104,8 +102,6 @@
 
 .field public mIsEarlyWakeUp:Z
 
-.field public mIsFODStrictMode:Z
-
 .field public mIsFPCanceledByForegroundApp:Z
 
 .field public mIsFPCanceledByProximity:Z
@@ -124,8 +120,6 @@
 
 .field public mIsOwnerInfoEnabled:Z
 
-.field public mIsPanelExpandingStarted:Z
-
 .field public mIsQsFullyExpanded:Z
 
 .field public mIsRearSelfie:Z
@@ -142,6 +136,8 @@
 
 .field public mIsStartFacePossible:Z
 
+.field public mIsTableMode:Z
+
 .field public mKeyguardBatteryStatus:Lcom/android/systemui/statusbar/KeyguardBatteryStatus;
 
 .field public mKeyguardDismissActionType:Lcom/android/keyguard/KeyguardConstants$KeyguardDismissActionType;
@@ -190,8 +186,6 @@
 
 .field public mRemoteLockSimulationInfo:Lcom/android/internal/widget/RemoteLockInfo;
 
-.field public mSIPShown:Z
-
 .field public final mSecureLockChangedCallback:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$2;
 
 .field public mSemFaceCancelSignal:Landroid/os/CancellationSignal;
@@ -222,8 +216,6 @@
 
 .field public final mWaitingFocusRunnable:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;
 
-.field public final mWindowManagerService:Landroid/view/IWindowManager;
-
 
 # direct methods
 .method public constructor <init>(Lcom/android/internal/app/IBatteryStats;Landroid/app/NotificationManager;Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;Lcom/android/systemui/uithreadmonitor/BinderCallMonitor;Lcom/android/systemui/uithreadmonitor/LooperSlowLogController;Lcom/android/systemui/util/SettingsHelper;Landroid/app/AlarmManager;Landroid/os/PowerManager;Ldagger/Lazy;Ldagger/Lazy;Ldagger/Lazy;Ldagger/Lazy;Landroid/view/IWindowManager;Ldagger/Lazy;Landroid/content/Context;Lcom/android/systemui/settings/UserTracker;Landroid/os/Looper;Lcom/android/systemui/broadcast/BroadcastDispatcher;Lcom/android/systemui/util/settings/SecureSettings;Lcom/android/systemui/dump/DumpManager;Ljava/util/concurrent/Executor;Ljava/util/concurrent/Executor;Lcom/android/systemui/plugins/statusbar/StatusBarStateController;Lcom/android/internal/widget/LockPatternUtils;Lcom/android/systemui/biometrics/AuthController;Lcom/android/systemui/telephony/TelephonyListenerManager;Lcom/android/internal/jank/InteractionJankMonitor;Lcom/android/internal/util/LatencyTracker;Lcom/android/keyguard/ActiveUnlockConfig;Lcom/android/keyguard/logging/KeyguardUpdateMonitorLogger;Lcom/android/internal/logging/UiEventLogger;Ljavax/inject/Provider;Landroid/app/trust/TrustManager;Landroid/telephony/SubscriptionManager;Landroid/os/UserManager;Landroid/service/dreams/IDreamManager;Landroid/app/admin/DevicePolicyManager;Landroid/hardware/SensorPrivacyManager;Landroid/telephony/TelephonyManager;Landroid/content/pm/PackageManager;Landroid/hardware/face/FaceManager;Landroid/hardware/fingerprint/FingerprintManager;Landroid/hardware/biometrics/BiometricManager;Lcom/android/keyguard/FaceWakeUpTriggersConfig;Landroid/telephony/CarrierConfigManager;Lcom/android/systemui/statusbar/policy/DevicePostureController;Ljava/util/Optional;)V
@@ -495,12 +487,8 @@
 
     iput-object v1, v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mESimRemoved:[Z
 
-    iput v4, v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFpInDisplayState:I
-
     iput-boolean v4, v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsShortcutLaunchInProgress:Z
 
-    iput-boolean v4, v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsPanelExpandingStarted:Z
-
     iput v4, v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mCocktailBarWindowType:I
 
     new-instance v1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda16;
@@ -984,15 +972,8 @@
 
     invoke-virtual {v5, v0, v1}, Lcom/android/systemui/broadcast/BroadcastDispatcher;->registerReceiver(Landroid/content/IntentFilter;Landroid/content/BroadcastReceiver;)V
 
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v0, :cond_4
-
-    move-object/from16 v1, p13
-
-    iput-object v1, v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mWindowManagerService:Landroid/view/IWindowManager;
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_4
     move-object/from16 v1, p14
 
     iput-object v1, v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mKeyguardEditModeControllerLazy:Ldagger/Lazy;
@@ -1154,9 +1135,7 @@
 
     invoke-virtual {v1, v0}, Landroid/util/SparseIntArray;->delete(I)V
 
-    const/4 v1, 0x0
-
-    invoke-virtual {p0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setFodStrictMode(Z)V
+    sget-object v1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     :cond_1
     const-class v1, Lcom/android/systemui/UiOffloadThread;
@@ -4662,6 +4641,38 @@
     return-void
 .end method
 
+.method public final handleDlsViewMode(I)V
+    .locals 2
+
+    new-instance v0, Ljava/lang/StringBuilder;
+
+    const-string v1, "handleDlsViewMode(), mode="
+
+    invoke-direct {v0, v1}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v0
+
+    const-string v1, "KeyguardUpdateMonitor"
+
+    invoke-static {v1, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    new-instance v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda9;
+
+    const/4 v1, 0x5
+
+    invoke-direct {v0, p1, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda9;-><init>(II)V
+
+    const/4 p1, 0x0
+
+    invoke-virtual {p0, p1, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
+
+    return-void
+.end method
+
 .method public final handleDreamingStateChanged(I)V
     .locals 7
 
@@ -4815,6 +4826,22 @@
     return-void
 .end method
 
+.method public final handleEmergencyStateChanged(I)V
+    .locals 2
+
+    new-instance v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda9;
+
+    const/4 v1, 0x3
+
+    invoke-direct {v0, p1, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda9;-><init>(II)V
+
+    const/4 p1, 0x0
+
+    invoke-virtual {p0, p1, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
+
+    return-void
+.end method
+
 .method public final handleFaceAuthFailed()V
     .locals 2
 
@@ -4876,25 +4903,8 @@
     sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     :goto_0
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v0, :cond_1
-
-    iget v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mFingerprintRunningState:I
-
-    const/4 v1, 0x1
-
-    if-ne v0, v1, :cond_1
-
-    const-string v0, "KeyguardFingerprint"
-
-    const-string v1, "Face onAuthenticationSucceeded. FP will be stop!"
-
-    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->stopListeningForFingerprint()V
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_1
     new-instance v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda19;
 
     const/4 v1, 0x0
@@ -4917,11 +4927,11 @@
 
     sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_COVER:Z
 
-    if-eqz p1, :cond_2
+    if-eqz p1, :cond_1
 
     iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mNeedSubBioAuth:Z
 
-    :cond_2
+    :cond_1
     return-void
 .end method
 
@@ -5528,17 +5538,17 @@
 
     iget-boolean v3, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsSkipFPResponse:Z
 
-    const-string v4, "KeyguardFingerprint"
+    const/4 v4, 0x0
 
-    const/4 v5, 0x0
+    const-string v5, "KeyguardFingerprint"
 
     if-eqz v3, :cond_0
 
-    iput-boolean v5, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsSkipFPResponse:Z
+    iput-boolean v4, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsSkipFPResponse:Z
 
     const-string v0, "handleFingerprintHelp( skipped FP response )"
 
-    invoke-static {v4, v0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-static {v5, v0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
     return-void
 
@@ -5557,7 +5567,7 @@
 
     const-string v1, "handleFingerprintHelp( unlock is not allowed. )"
 
-    invoke-static {v4, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-static {v5, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->stopListeningForFingerprint()V
 
@@ -5578,20 +5588,20 @@
 
     if-nez v7, :cond_2
 
-    if-eq v1, v8, :cond_11
+    if-eq v1, v8, :cond_12
 
     iget-object v2, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mPowerManager:Landroid/os/PowerManager;
 
     invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
 
-    move-result-wide v6
+    move-result-wide v5
 
-    invoke-virtual {v2, v6, v7, v5, v5}, Landroid/os/PowerManager;->userActivity(JII)V
+    invoke-virtual {v2, v5, v6, v4, v4}, Landroid/os/PowerManager;->userActivity(JII)V
 
     goto/16 :goto_7
 
     :cond_2
-    if-eq v1, v8, :cond_13
+    if-eq v1, v8, :cond_14
 
     const/16 v7, 0x3ed
 
@@ -5614,7 +5624,7 @@
 
     move-result v2
 
-    invoke-virtual {v1, v2, v5}, Landroid/util/SparseIntArray;->get(II)I
+    invoke-virtual {v1, v2, v4}, Landroid/util/SparseIntArray;->get(II)I
 
     move-result v1
 
@@ -5642,7 +5652,7 @@
 
     const-string v6, " )"
 
-    invoke-static {v2, v6, v4}, Landroidx/exifinterface/media/ExifInterface$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/String;)V
+    invoke-static {v2, v6, v5}, Landroidx/exifinterface/media/ExifInterface$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/String;)V
 
     const/16 v2, 0x32
 
@@ -5673,7 +5683,7 @@
     goto :goto_0
 
     :cond_4
-    move v3, v5
+    move v3, v4
 
     :goto_0
     if-eqz v3, :cond_5
@@ -5710,19 +5720,19 @@
 
     invoke-direct {v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda24;-><init>()V
 
-    const v4, 0x7f13087e
+    const v5, 0x7f13087e
 
-    invoke-virtual {v2, v4, v3}, Lcom/android/systemui/statusbar/phone/SystemUIDialog;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)V
+    invoke-virtual {v2, v5, v3}, Lcom/android/systemui/statusbar/phone/SystemUIDialog;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)V
 
     new-instance v13, Landroid/widget/CheckBox;
 
     new-instance v3, Landroid/view/ContextThemeWrapper;
 
-    iget-object v4, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mContext:Landroid/content/Context;
+    iget-object v5, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mContext:Landroid/content/Context;
 
     const v6, 0x7f14055f
 
-    invoke-direct {v3, v4, v6}, Landroid/view/ContextThemeWrapper;-><init>(Landroid/content/Context;I)V
+    invoke-direct {v3, v5, v6}, Landroid/view/ContextThemeWrapper;-><init>(Landroid/content/Context;I)V
 
     invoke-direct {v13, v3}, Landroid/widget/CheckBox;-><init>(Landroid/content/Context;)V
 
@@ -5740,7 +5750,7 @@
 
     move-result v3
 
-    invoke-virtual {v13, v3, v5, v5, v5}, Landroid/widget/CheckBox;->setPadding(IIII)V
+    invoke-virtual {v13, v3, v4, v4, v4}, Landroid/widget/CheckBox;->setPadding(IIII)V
 
     new-instance v3, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda25;
 
@@ -5766,7 +5776,7 @@
 
     invoke-virtual/range {v12 .. v17}, Landroid/app/AlertDialog;->setView(Landroid/view/View;IIII)V
 
-    invoke-virtual {v2, v5}, Landroid/app/AlertDialog;->setCancelable(Z)V
+    invoke-virtual {v2, v4}, Landroid/app/AlertDialog;->setCancelable(Z)V
 
     invoke-virtual {v2}, Landroid/app/AlertDialog;->show()V
 
@@ -5775,12 +5785,12 @@
     :cond_5
     const-string v1, "Skip to show fingerprint sensor block popup"
 
-    invoke-static {v4, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-static {v5, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     :goto_1
     invoke-virtual {v0, v7}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
 
-    invoke-virtual {v0, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setFodStrictMode(Z)V
+    sget-object v1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     goto :goto_2
 
@@ -5789,7 +5799,7 @@
 
     if-ne v1, v2, :cond_7
 
-    invoke-virtual {v0, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setFodStrictMode(Z)V
+    sget-object v1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     :cond_7
     :goto_2
@@ -5841,21 +5851,21 @@
 
     move-result-object v12
 
-    invoke-static {v4, v12}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-static {v5, v12}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->getFailedBiometricUnlockAttempts(I)I
 
-    move-result v4
+    move-result v5
 
     const/4 v12, 0x3
 
-    if-ne v4, v12, :cond_a
+    if-ne v5, v12, :cond_a
 
-    iget-object v4, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mKeyguardBatteryStatus:Lcom/android/systemui/statusbar/KeyguardBatteryStatus;
+    iget-object v5, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mKeyguardBatteryStatus:Lcom/android/systemui/statusbar/KeyguardBatteryStatus;
 
-    invoke-virtual {v4}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
+    invoke-virtual {v5}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
-    sget-object v4, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
+    sget-object v5, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     :cond_a
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->getFailedBiometricUnlockAttempts(I)I
@@ -5871,11 +5881,11 @@
 
     if-nez v2, :cond_c
 
-    move v5, v3
+    move v4, v3
 
     :cond_c
     :goto_3
-    if-eqz v5, :cond_10
+    if-eqz v4, :cond_11
 
     new-instance v2, Lcom/samsung/android/aod/AODToast$Builder;
 
@@ -5917,15 +5927,17 @@
 
     move-result-object v6
 
-    if-eqz v8, :cond_d
+    if-eqz v8, :cond_e
 
-    sget-object v5, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
+    sget-boolean v5, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
+
+    if-eqz v5, :cond_d
 
     invoke-static {v6}, Landroidx/constraintlayout/core/ArrayLinkedVariables$$ExternalSyntheticOutline0;->m(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v5
 
-    const v6, 0x7f13096e
+    const v6, 0x7f13096f
 
     invoke-static {v4, v6, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticOutline0;->m(Landroid/content/Context;ILjava/lang/StringBuilder;)Ljava/lang/String;
 
@@ -5934,6 +5946,19 @@
     goto :goto_5
 
     :cond_d
+    invoke-static {v6}, Landroidx/constraintlayout/core/ArrayLinkedVariables$$ExternalSyntheticOutline0;->m(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const v6, 0x7f13096e
+
+    invoke-static {v4, v6, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticOutline0;->m(Landroid/content/Context;ILjava/lang/StringBuilder;)Ljava/lang/String;
+
+    move-result-object v4
+
+    goto :goto_5
+
+    :cond_e
     sget-object v8, Lcom/android/keyguard/KeyguardTextBuilder$2;->$SwitchMap$com$android$keyguard$KeyguardSecurityModel$SecurityMode:[I
 
     invoke-virtual {v5}, Ljava/lang/Enum;->ordinal()I
@@ -5942,9 +5967,9 @@
 
     aget v5, v8, v5
 
-    if-eq v5, v3, :cond_f
+    if-eq v5, v3, :cond_10
 
-    if-eq v5, v7, :cond_e
+    if-eq v5, v7, :cond_f
 
     const v5, 0x7f13096c
 
@@ -5954,7 +5979,7 @@
 
     goto :goto_4
 
-    :cond_e
+    :cond_f
     const v5, 0x7f13096b
 
     invoke-virtual {v4, v5}, Landroid/content/Context;->getString(I)Ljava/lang/String;
@@ -5963,7 +5988,7 @@
 
     goto :goto_4
 
-    :cond_f
+    :cond_10
     const v5, 0x7f13096d
 
     invoke-virtual {v4, v5}, Landroid/content/Context;->getString(I)Ljava/lang/String;
@@ -5980,11 +6005,11 @@
 
     goto :goto_6
 
-    :cond_10
+    :cond_11
     move-object v2, v9
 
     :goto_6
-    if-eqz v2, :cond_11
+    if-eqz v2, :cond_12
 
     const-wide/16 v10, 0x2710
 
@@ -6002,7 +6027,7 @@
 
     invoke-virtual {v4, v2}, Lcom/samsung/android/aod/AODManager;->requestAODToast(Lcom/samsung/android/aod/AODToast;)V
 
-    :cond_11
+    :cond_12
     :goto_7
     new-instance v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda15;
 
@@ -6022,18 +6047,18 @@
 
     iget-object v0, v0, Lcom/android/systemui/doze/PluginAODManager;->mAODPlugin:Lcom/android/systemui/plugins/aod/PluginAOD;
 
-    if-eqz v0, :cond_12
+    if-eqz v0, :cond_13
 
     invoke-interface {v0, v10, v11}, Lcom/android/systemui/plugins/aod/PluginAOD;->hideChargingInfoByFinger(J)V
 
-    :cond_12
+    :cond_13
     return-void
 
-    :cond_13
+    :cond_14
     :goto_8
     const-string v0, "handleFingerprintHelp( skip TSP block/unblock )"
 
-    invoke-static {v4, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-static {v5, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     return-void
 .end method
@@ -6139,6 +6164,35 @@
     return-void
 .end method
 
+.method public final handlePackageDataCleared(Ljava/lang/String;)V
+    .locals 2
+
+    const-string v0, "com.android.settings"
+
+    invoke-virtual {v0, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_0
+
+    iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSettingsHelper:Lcom/android/systemui/util/SettingsHelper;
+
+    invoke-virtual {v0}, Lcom/android/systemui/util/SettingsHelper;->readSettingsDB()V
+
+    :cond_0
+    new-instance v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda23;
+
+    const/4 v1, 0x0
+
+    invoke-direct {v0, p1, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda23;-><init>(Ljava/lang/String;I)V
+
+    const/4 p1, 0x0
+
+    invoke-virtual {p0, p1, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
+
+    return-void
+.end method
+
 .method public final handlePackageRemoved(Ljava/lang/String;Z)V
     .locals 2
 
@@ -6362,32 +6416,21 @@
     invoke-virtual {p0, v3, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
     :cond_9
-    sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz p1, :cond_a
-
-    iget-object p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFpm:Landroid/hardware/fingerprint/FingerprintManager;
-
-    if-eqz p1, :cond_a
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
-
-    invoke-virtual {p1, v0}, Landroid/hardware/fingerprint/FingerprintManager;->semShowBouncerScreen(I)I
+    sget-object p1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_a
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isKeyguardVisible()Z
 
     move-result p1
 
-    if-nez p1, :cond_b
+    if-nez p1, :cond_a
 
     iget-boolean p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
 
-    if-nez p1, :cond_b
+    if-nez p1, :cond_a
 
     invoke-virtual {p0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setUnlockingKeyguard(Z)V
 
-    :cond_b
+    :cond_a
     invoke-virtual {p0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setShortcutLaunchInProgress(Z)V
 
     sget-object p1, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_PRIMARY_BOUNCER_SHOWN:Lcom/android/keyguard/FaceAuthUiEvent;
@@ -6396,7 +6439,7 @@
 
     iget-boolean p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
 
-    if-eqz p1, :cond_c
+    if-eqz p1, :cond_b
 
     sget-object p1, Lcom/android/systemui/util/SystemUIAnalytics;->sCurrentScreenID:Ljava/lang/String;
 
@@ -6406,7 +6449,7 @@
 
     invoke-static {p1, p2, v0}, Lcom/android/systemui/util/SystemUIAnalytics;->sendEventLog(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    :cond_c
+    :cond_b
     iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mPluginAODManagerLazy:Ldagger/Lazy;
 
     invoke-interface {p0}, Ldagger/Lazy;->get()Ljava/lang/Object;
@@ -6452,6 +6495,50 @@
     return-void
 .end method
 
+.method public final handleReconnectPluginFaceWidget()V
+    .locals 7
+
+    sget-boolean v0, Landroid/os/Build;->IS_USERDEBUG:Z
+
+    if-nez v0, :cond_0
+
+    sget-boolean v0, Landroid/os/Build;->IS_ENG:Z
+
+    if-eqz v0, :cond_1
+
+    :cond_0
+    iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mPluginFaceWidgetManagerLazy:Ldagger/Lazy;
+
+    invoke-interface {p0}, Ldagger/Lazy;->get()Ljava/lang/Object;
+
+    move-result-object p0
+
+    move-object v2, p0
+
+    check-cast v2, Lcom/android/systemui/facewidget/plugin/PluginFaceWidgetManager;
+
+    iget-object p0, v2, Lcom/android/systemui/facewidget/plugin/PluginFaceWidgetManager;->mPluginManager:Lcom/android/systemui/plugins/PluginManager;
+
+    invoke-interface {p0, v2}, Lcom/android/systemui/plugins/PluginManager;->removePluginListener(Lcom/android/systemui/plugins/PluginListener;)V
+
+    iget-object v0, v2, Lcom/android/systemui/facewidget/plugin/PluginFaceWidgetManager;->mPluginManager:Lcom/android/systemui/plugins/PluginManager;
+
+    const-string v1, "com.samsung.systemui.action.PLUGIN_FACE_WIDGET"
+
+    const-class v3, Lcom/android/systemui/plugins/keyguardstatusview/PluginKeyguardStatusView;
+
+    const/4 v4, 0x0
+
+    const/4 v5, 0x1
+
+    const/4 v6, 0x0
+
+    invoke-interface/range {v0 .. v6}, Lcom/android/systemui/plugins/PluginManager;->addPluginListener(Ljava/lang/String;Lcom/android/systemui/plugins/PluginListener;Ljava/lang/Class;ZZI)V
+
+    :cond_1
+    return-void
+.end method
+
 .method public final handleSecMessage(Landroid/os/Message;)V
     .locals 25
 
@@ -6465,7 +6552,7 @@
 
     const/4 v4, 0x2
 
-    if-eq v2, v3, :cond_64
+    if-eq v2, v3, :cond_65
 
     const/16 v3, 0x465
 
@@ -6473,11 +6560,11 @@
 
     const/4 v6, 0x0
 
-    if-eq v2, v3, :cond_62
+    if-eq v2, v3, :cond_63
 
     const/16 v3, 0x5dd
 
-    if-eq v2, v3, :cond_61
+    if-eq v2, v3, :cond_62
 
     const/4 v3, 0x7
 
@@ -6505,15 +6592,15 @@
 
     packed-switch v2, :pswitch_data_3
 
-    packed-switch v2, :pswitch_data_4
-
     const/4 v3, 0x0
 
+    packed-switch v2, :pswitch_data_4
+
     packed-switch v2, :pswitch_data_5
 
     packed-switch v2, :pswitch_data_6
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_0
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->getLockoutAttemptDeadline()J
@@ -6538,7 +6625,7 @@
 
     invoke-virtual {v0, v6}, Lcom/android/systemui/util/DesktopManagerImpl;->notifyKeyguardLockout(Z)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :cond_0
     invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J
@@ -6555,7 +6642,7 @@
 
     invoke-virtual {v0, v7, v1, v2}, Landroid/os/Handler;->sendEmptyMessageDelayed(IJ)Z
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_1
     iget v1, v1, Landroid/os/Message;->arg1:I
@@ -6635,41 +6722,16 @@
     invoke-virtual {v0, v6, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
 
     :cond_3
-    sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v1, :cond_4
-
-    iget-boolean v1, v0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mKeyguardShowing:Z
-
-    if-eqz v1, :cond_4
-
-    iget-object v1, v0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
-
-    iget-object v2, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mWaitingFocusRunnable:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;
-
-    invoke-virtual {v1, v2}, Landroid/os/Handler;->hasCallbacks(Ljava/lang/Runnable;)Z
-
-    move-result v1
-
-    if-nez v1, :cond_4
-
-    iget-object v1, v0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
-
-    iget-object v0, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mWaitingFocusRunnable:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;
-
-    const-wide/16 v2, 0x1f4
-
-    invoke-virtual {v1, v0, v2, v3}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_4
     invoke-static {}, Landroid/os/Trace;->endSection()V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_2
     invoke-virtual {v0, v6}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setIsRunningBlackMemo(Z)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_3
     new-instance v1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda7;
@@ -6678,12 +6740,12 @@
 
     invoke-virtual {v0, v11, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_4
     invoke-virtual {v0, v11}, Lcom/android/keyguard/KeyguardUpdateMonitor;->callbacksRefreshCarrierInfo(Landroid/content/Intent;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_5
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -6708,20 +6770,20 @@
 
     move-result v2
 
-    if-eqz v2, :cond_5
+    if-eqz v2, :cond_4
 
     sget-object v2, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_STOPPED_PREV_CREDENTIAL_VIEW:Lcom/android/keyguard/FaceAuthUiEvent;
 
     invoke-virtual {v0, v5, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateBiometricListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
 
-    :cond_5
+    :cond_4
     new-instance v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda20;
 
     invoke-direct {v2, v1, v6}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda20;-><init>(Ljava/lang/Object;I)V
 
     invoke-virtual {v0, v11, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_6
     new-instance v1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda7;
@@ -6730,7 +6792,7 @@
 
     invoke-virtual {v0, v11, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_7
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -6755,7 +6817,7 @@
 
     move-result v3
 
-    if-eqz v3, :cond_6
+    if-eqz v3, :cond_5
 
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateLockscreenDisabled(I)Z
 
@@ -6765,7 +6827,7 @@
 
     goto :goto_0
 
-    :cond_6
+    :cond_5
     move v3, v6
 
     :goto_0
@@ -6773,7 +6835,7 @@
 
     move-result v4
 
-    if-eqz v4, :cond_7
+    if-eqz v4, :cond_6
 
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateCredentialType(I)Z
 
@@ -6783,7 +6845,7 @@
 
     goto :goto_1
 
-    :cond_7
+    :cond_6
     move v4, v6
 
     :goto_1
@@ -6791,7 +6853,7 @@
 
     move-result v7
 
-    if-eqz v7, :cond_8
+    if-eqz v7, :cond_7
 
     invoke-virtual {v0, v2, v6}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFMMLock(IZ)Z
 
@@ -6799,12 +6861,12 @@
 
     or-int/2addr v4, v7
 
-    :cond_8
+    :cond_7
     invoke-static {v1, v10}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->containsFlag(II)Z
 
     move-result v7
 
-    if-eqz v7, :cond_9
+    if-eqz v7, :cond_8
 
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateCarrierLock(I)Z
 
@@ -6812,14 +6874,14 @@
 
     or-int/2addr v4, v7
 
-    :cond_9
+    :cond_8
     const/16 v7, 0x10
 
     invoke-static {v1, v7}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->containsFlag(II)Z
 
     move-result v7
 
-    if-eqz v7, :cond_a
+    if-eqz v7, :cond_9
 
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateBiometricsOptionState(I)Z
 
@@ -6827,14 +6889,14 @@
 
     or-int/2addr v4, v7
 
-    :cond_a
+    :cond_9
     const/16 v7, 0x20
 
     invoke-static {v1, v7}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->containsFlag(II)Z
 
     move-result v7
 
-    if-eqz v7, :cond_b
+    if-eqz v7, :cond_a
 
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateSecureLockTimeout(I)Z
 
@@ -6842,14 +6904,14 @@
 
     or-int/2addr v4, v7
 
-    :cond_b
+    :cond_a
     const/16 v7, 0x40
 
     invoke-static {v1, v7}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->containsFlag(II)Z
 
     move-result v7
 
-    if-eqz v7, :cond_c
+    if-eqz v7, :cond_b
 
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateBiometricLockTimeout(I)Z
 
@@ -6857,12 +6919,12 @@
 
     or-int/2addr v4, v7
 
-    :cond_c
+    :cond_b
     invoke-static {v1, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->containsFlag(II)Z
 
     move-result v7
 
-    if-eqz v7, :cond_1b
+    if-eqz v7, :cond_1a
 
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateCredentialType(I)Z
 
@@ -6886,22 +6948,22 @@
 
     or-int/2addr v7, v8
 
-    if-nez v7, :cond_e
+    if-nez v7, :cond_d
 
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateBiometricsOptionState(I)Z
 
     move-result v7
 
-    if-eqz v7, :cond_d
+    if-eqz v7, :cond_c
 
     goto :goto_2
 
-    :cond_d
+    :cond_c
     move v7, v6
 
     goto :goto_3
 
-    :cond_e
+    :cond_d
     :goto_2
     move v7, v5
 
@@ -6959,21 +7021,21 @@
 
     and-int/2addr v10, v12
 
-    if-eqz v10, :cond_f
+    if-eqz v10, :cond_e
 
     move v10, v5
 
     goto :goto_4
 
-    :cond_f
+    :cond_e
     move v10, v6
 
     :goto_4
-    if-eqz v10, :cond_10
+    if-eqz v10, :cond_f
 
     invoke-virtual {v7}, Ljava/lang/Object;->toString()Ljava/lang/String;
 
-    :cond_10
+    :cond_f
     iget-object v12, v8, Landroidx/localbroadcastmanager/content/LocalBroadcastManager;->mActions:Ljava/util/HashMap;
 
     invoke-virtual {v7}, Landroid/content/Intent;->getAction()Ljava/lang/String;
@@ -6988,19 +7050,19 @@
 
     check-cast v15, Ljava/util/ArrayList;
 
-    if-eqz v15, :cond_1a
+    if-eqz v15, :cond_19
 
-    if-eqz v10, :cond_11
+    if-eqz v10, :cond_10
 
     invoke-virtual {v15}, Ljava/lang/Object;->toString()Ljava/lang/String;
 
-    :cond_11
+    :cond_10
     :goto_5
     invoke-virtual {v15}, Ljava/util/ArrayList;->size()I
 
     move-result v12
 
-    if-ge v6, v12, :cond_17
+    if-ge v6, v12, :cond_16
 
     invoke-virtual {v15, v6}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;
 
@@ -7010,22 +7072,22 @@
 
     check-cast v14, Landroidx/localbroadcastmanager/content/LocalBroadcastManager$ReceiverRecord;
 
-    if-eqz v10, :cond_12
+    if-eqz v10, :cond_11
 
     iget-object v12, v14, Landroidx/localbroadcastmanager/content/LocalBroadcastManager$ReceiverRecord;->filter:Landroid/content/IntentFilter;
 
     invoke-static {v12}, Ljava/util/Objects;->toString(Ljava/lang/Object;)Ljava/lang/String;
 
-    :cond_12
+    :cond_11
     iget-boolean v12, v14, Landroidx/localbroadcastmanager/content/LocalBroadcastManager$ReceiverRecord;->broadcasting:Z
 
-    if-eqz v12, :cond_13
+    if-eqz v12, :cond_12
 
     move-object/from16 v24, v15
 
     goto :goto_6
 
-    :cond_13
+    :cond_12
     iget-object v12, v14, Landroidx/localbroadcastmanager/content/LocalBroadcastManager$ReceiverRecord;->filter:Landroid/content/IntentFilter;
 
     const-string v18, "LocalBroadcastManager"
@@ -7048,27 +7110,27 @@
 
     move-result v12
 
-    if-ltz v12, :cond_16
+    if-ltz v12, :cond_15
 
-    if-eqz v10, :cond_14
+    if-eqz v10, :cond_13
 
     invoke-static {v12}, Ljava/lang/Integer;->toHexString(I)Ljava/lang/String;
 
-    :cond_14
-    if-nez v11, :cond_15
+    :cond_13
+    if-nez v11, :cond_14
 
     new-instance v11, Ljava/util/ArrayList;
 
     invoke-direct {v11}, Ljava/util/ArrayList;-><init>()V
 
-    :cond_15
+    :cond_14
     invoke-virtual {v11, v5}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
 
     const/4 v12, 0x1
 
     iput-boolean v12, v5, Landroidx/localbroadcastmanager/content/LocalBroadcastManager$ReceiverRecord;->broadcasting:Z
 
-    :cond_16
+    :cond_15
     :goto_6
     add-int/lit8 v6, v6, 0x1
 
@@ -7078,8 +7140,8 @@
 
     goto :goto_5
 
-    :cond_17
-    if-eqz v11, :cond_1a
+    :cond_16
+    if-eqz v11, :cond_19
 
     const/4 v5, 0x0
 
@@ -7088,7 +7150,7 @@
 
     move-result v6
 
-    if-ge v5, v6, :cond_18
+    if-ge v5, v6, :cond_17
 
     invoke-virtual {v11, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;
 
@@ -7104,7 +7166,7 @@
 
     goto :goto_7
 
-    :cond_18
+    :cond_17
     iget-object v5, v8, Landroidx/localbroadcastmanager/content/LocalBroadcastManager;->mPendingBroadcasts:Ljava/util/ArrayList;
 
     new-instance v6, Landroidx/localbroadcastmanager/content/LocalBroadcastManager$BroadcastRecord;
@@ -7121,18 +7183,18 @@
 
     move-result v5
 
-    if-nez v5, :cond_19
+    if-nez v5, :cond_18
 
     iget-object v5, v8, Landroidx/localbroadcastmanager/content/LocalBroadcastManager;->mHandler:Landroidx/localbroadcastmanager/content/LocalBroadcastManager$1;
 
     invoke-virtual {v5, v6}, Landroid/os/Handler;->sendEmptyMessage(I)Z
 
-    :cond_19
+    :cond_18
     monitor-exit v9
 
     goto :goto_8
 
-    :cond_1a
+    :cond_19
     monitor-exit v9
 
     goto :goto_8
@@ -7146,7 +7208,7 @@
 
     throw v0
 
-    :cond_1b
+    :cond_1a
     :goto_8
     const/16 v5, 0x80
 
@@ -7154,7 +7216,7 @@
 
     move-result v5
 
-    if-eqz v5, :cond_1c
+    if-eqz v5, :cond_1b
 
     invoke-virtual {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateOwnerInfo(I)Z
 
@@ -7164,7 +7226,7 @@
 
     goto :goto_9
 
-    :cond_1c
+    :cond_1b
     const/4 v2, 0x0
 
     :goto_9
@@ -7174,7 +7236,7 @@
 
     move-result v5
 
-    if-eqz v5, :cond_1d
+    if-eqz v5, :cond_1c
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateDeviceOwnerInfo()Z
 
@@ -7182,7 +7244,7 @@
 
     or-int/2addr v2, v5
 
-    :cond_1d
+    :cond_1c
     const-string v5, "KeyguardUpdateMonitor"
 
     const-string v6, "handleSecureStateChanged secureState : "
@@ -7197,7 +7259,7 @@
 
     invoke-static {v1, v2, v5}, Landroidx/appcompat/widget/ActionBarContextView$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ZLjava/lang/String;)V
 
-    if-eqz v4, :cond_1e
+    if-eqz v4, :cond_1d
 
     new-instance v1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda7;
 
@@ -7217,11 +7279,11 @@
 
     goto :goto_a
 
-    :cond_1e
+    :cond_1d
     const/4 v4, 0x0
 
     :goto_a
-    if-eqz v3, :cond_1f
+    if-eqz v3, :cond_1e
 
     new-instance v1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda11;
 
@@ -7231,7 +7293,7 @@
 
     invoke-virtual {v0, v4, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    :cond_1f
+    :cond_1e
     if-eqz v2, :cond_67
 
     new-instance v1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda7;
@@ -7242,7 +7304,7 @@
 
     invoke-virtual {v0, v4, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_8
     const-string v1, "handleUpdateLockModeCallback, userID = "
@@ -7266,7 +7328,7 @@
     :try_start_1
     iget-object v3, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mLockSettingsService:Lcom/android/internal/widget/ILockSettings;
 
-    if-nez v3, :cond_20
+    if-nez v3, :cond_1f
 
     const-string v3, "lock_settings"
 
@@ -7280,7 +7342,7 @@
 
     iput-object v3, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mLockSettingsService:Lcom/android/internal/widget/ILockSettings;
 
-    :cond_20
+    :cond_1f
     iget-object v3, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mLockSettingsService:Lcom/android/internal/widget/ILockSettings;
 
     iget-object v0, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSecureLockChangedCallback:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$2;
@@ -7301,7 +7363,7 @@
     :try_end_1
     .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_1} :catch_0
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :catch_0
     move-exception v0
@@ -7320,7 +7382,7 @@
 
     invoke-static {v4, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_9
     const-string v1, "KeyguardUpdateMonitor"
@@ -7337,7 +7399,7 @@
 
     invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_a
     const/4 v2, 0x2
@@ -7358,7 +7420,7 @@
 
     invoke-virtual {v0, v1, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_b
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -7382,9 +7444,9 @@
 
     const-string v6, "KeyguardFace"
 
-    if-eqz v4, :cond_34
+    if-eqz v4, :cond_33
 
-    if-ne v4, v1, :cond_21
+    if-ne v4, v1, :cond_20
 
     const-string v7, "handleFaceAuth faceMsg index = "
 
@@ -7398,33 +7460,33 @@
 
     invoke-static {v7, v11, v6}, Landroidx/recyclerview/widget/RecyclerView$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ILjava/lang/String;)V
 
-    :cond_21
+    :cond_20
     iget v7, v4, Lcom/android/keyguard/SecFaceMsg;->type:I
 
-    if-eqz v7, :cond_31
+    if-eqz v7, :cond_30
 
     const/4 v11, 0x1
 
-    if-eq v7, v11, :cond_2f
+    if-eq v7, v11, :cond_2e
 
     const/4 v11, 0x2
 
-    if-eq v7, v11, :cond_2c
+    if-eq v7, v11, :cond_2b
 
-    if-eq v7, v9, :cond_27
+    if-eq v7, v9, :cond_26
 
-    if-eq v7, v12, :cond_22
+    if-eq v7, v12, :cond_21
 
     goto :goto_b
 
-    :cond_22
+    :cond_21
     iget v4, v4, Lcom/android/keyguard/SecFaceMsg;->arg:I
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFaceDetectionRunning()Z
 
     move-result v7
 
-    if-nez v7, :cond_23
+    if-nez v7, :cond_22
 
     const-string/jumbo v4, "onAuthenticationAcquired(), Face is not running"
 
@@ -7432,31 +7494,31 @@
 
     goto/16 :goto_f
 
-    :cond_23
+    :cond_22
     iget-boolean v7, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFaceReady:Z
 
-    if-nez v7, :cond_24
+    if-nez v7, :cond_23
 
     const/4 v7, 0x1
 
     iput-boolean v7, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFaceReady:Z
 
-    :cond_24
+    :cond_23
     const-string/jumbo v7, "onAuthenticationAcquired(), acquireInfo="
 
     invoke-static {v7, v4, v6}, Landroidx/appcompat/widget/ListPopupWindow$$ExternalSyntheticOutline0;->m(Ljava/lang/String;ILjava/lang/String;)V
 
     const/4 v6, 0x2
 
-    if-eq v4, v6, :cond_26
+    if-eq v4, v6, :cond_25
 
-    if-eq v4, v9, :cond_25
+    if-eq v4, v9, :cond_24
 
-    if-eq v4, v12, :cond_25
+    if-eq v4, v12, :cond_24
 
-    if-eq v4, v5, :cond_25
+    if-eq v4, v5, :cond_24
 
-    if-eq v4, v8, :cond_25
+    if-eq v4, v8, :cond_24
 
     packed-switch v4, :pswitch_data_7
 
@@ -7464,7 +7526,7 @@
 
     goto :goto_c
 
-    :cond_25
+    :cond_24
     :pswitch_c
     const/4 v6, 0x0
 
@@ -7472,7 +7534,7 @@
 
     goto :goto_c
 
-    :cond_26
+    :cond_25
     const/4 v6, 0x1
 
     iput-boolean v6, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mTimeoutWithoutFace:Z
@@ -7492,7 +7554,7 @@
 
     move-result v6
 
-    if-eqz v6, :cond_33
+    if-eqz v6, :cond_32
 
     sget-object v6, Lcom/android/keyguard/ActiveUnlockConfig$ActiveUnlockRequestOrigin;->BIOMETRIC_FAIL:Lcom/android/keyguard/ActiveUnlockConfig$ActiveUnlockRequestOrigin;
 
@@ -7512,12 +7574,12 @@
 
     goto/16 :goto_f
 
-    :cond_27
+    :cond_26
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFaceDetectionRunning()Z
 
     move-result v4
 
-    if-nez v4, :cond_28
+    if-nez v4, :cond_27
 
     const-string/jumbo v4, "onAuthenticationFailed(), Face is not running"
 
@@ -7525,7 +7587,7 @@
 
     goto/16 :goto_f
 
-    :cond_28
+    :cond_27
     const-string/jumbo v4, "onAuthenticationFailed()"
 
     invoke-static {v6, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
@@ -7540,31 +7602,31 @@
 
     move-result v4
 
-    if-eqz v4, :cond_29
+    if-eqz v4, :cond_28
 
     const-string v4, "bypass"
 
     goto :goto_d
 
-    :cond_29
+    :cond_28
     iget-boolean v4, v0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mAlternateBouncerShowing:Z
 
-    if-eqz v4, :cond_2a
+    if-eqz v4, :cond_29
 
     const-string v4, "alternateBouncer"
 
     goto :goto_d
 
-    :cond_2a
+    :cond_29
     iget-boolean v4, v0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
 
-    if-eqz v4, :cond_2b
+    if-eqz v4, :cond_2a
 
     const-string v4, "bouncer"
 
     goto :goto_d
 
-    :cond_2b
+    :cond_2a
     const-string/jumbo v4, "udfpsFpDown"
 
     :goto_d
@@ -7582,14 +7644,14 @@
 
     goto/16 :goto_f
 
-    :cond_2c
+    :cond_2b
     iget-object v4, v4, Lcom/android/keyguard/SecFaceMsg;->result:Lcom/samsung/android/bio/face/SemBioFaceManager$AuthenticationResult;
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFaceDetectionRunning()Z
 
     move-result v7
 
-    if-nez v7, :cond_2d
+    if-nez v7, :cond_2c
 
     const-string/jumbo v4, "onAuthenticationSucceeded(), Face is not running"
 
@@ -7597,10 +7659,10 @@
 
     goto/16 :goto_f
 
-    :cond_2d
+    :cond_2c
     iget-boolean v7, v0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mKeyguardGoingAway:Z
 
-    if-eqz v7, :cond_2e
+    if-eqz v7, :cond_2d
 
     const-string/jumbo v4, "onAuthenticationSucceeded() - return, goingAway is true"
 
@@ -7608,7 +7670,7 @@
 
     goto/16 :goto_f
 
-    :cond_2e
+    :cond_2d
     const-class v7, Lcom/android/systemui/statusbar/phone/CentralSurfaces;
 
     invoke-static {v7}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
@@ -7667,7 +7729,7 @@
 
     goto :goto_f
 
-    :cond_2f
+    :cond_2e
     iget v7, v4, Lcom/android/keyguard/SecFaceMsg;->arg:I
 
     iget-object v4, v4, Lcom/android/keyguard/SecFaceMsg;->msgString:Ljava/lang/CharSequence;
@@ -7676,7 +7738,7 @@
 
     move-result v11
 
-    if-nez v11, :cond_30
+    if-nez v11, :cond_2f
 
     const-string/jumbo v4, "onAuthenticationHelp(), Face is not running"
 
@@ -7684,7 +7746,7 @@
 
     goto :goto_f
 
-    :cond_30
+    :cond_2f
     new-instance v11, Ljava/lang/StringBuilder;
 
     const-string/jumbo v13, "onAuthenticationHelp(), helpCode="
@@ -7713,18 +7775,18 @@
 
     goto :goto_f
 
-    :cond_31
+    :cond_30
     iget v6, v4, Lcom/android/keyguard/SecFaceMsg;->arg:I
 
     iget-object v4, v4, Lcom/android/keyguard/SecFaceMsg;->msgString:Ljava/lang/CharSequence;
 
-    if-nez v4, :cond_32
+    if-nez v4, :cond_31
 
     const/4 v4, 0x0
 
     goto :goto_e
 
-    :cond_32
+    :cond_31
     invoke-interface {v4}, Ljava/lang/CharSequence;->toString()Ljava/lang/String;
 
     move-result-object v4
@@ -7744,7 +7806,7 @@
 
     move-result v4
 
-    if-eqz v4, :cond_33
+    if-eqz v4, :cond_32
 
     sget-object v4, Lcom/android/keyguard/ActiveUnlockConfig$ActiveUnlockRequestOrigin;->BIOMETRIC_FAIL:Lcom/android/keyguard/ActiveUnlockConfig$ActiveUnlockRequestOrigin;
 
@@ -7762,13 +7824,13 @@
 
     invoke-virtual {v0, v4, v6}, Lcom/android/keyguard/KeyguardUpdateMonitor;->requestActiveUnlock(Lcom/android/keyguard/ActiveUnlockConfig$ActiveUnlockRequestOrigin;Ljava/lang/String;)V
 
-    :cond_33
+    :cond_32
     :goto_f
     add-int/lit8 v3, v3, 0x1
 
     goto/16 :goto_b
 
-    :cond_34
+    :cond_33
     const-string v0, "handleFaceAuth dispatchCount = "
 
     invoke-static {v0, v3}, Landroid/support/v4/media/MediaBrowserCompat$MediaBrowserImplBase$$ExternalSyntheticOutline0;->m(Ljava/lang/String;I)Ljava/lang/String;
@@ -7781,7 +7843,7 @@
 
     invoke-static {v2, v6, v0, v1}, Lcom/android/systemui/util/LogUtil;->endTime(ILjava/lang/String;Ljava/lang/String;[Ljava/lang/Object;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_d
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -7805,9 +7867,9 @@
 
     const-string v8, "KeyguardFingerprint"
 
-    if-eqz v6, :cond_47
+    if-eqz v6, :cond_46
 
-    if-ne v6, v1, :cond_35
+    if-ne v6, v1, :cond_34
 
     const-string v11, "handleFingerprintAuth fpMsg index = "
 
@@ -7821,7 +7883,7 @@
 
     invoke-static {v11, v12, v8}, Landroidx/recyclerview/widget/RecyclerView$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ILjava/lang/String;)V
 
-    :cond_35
+    :cond_34
     iget v11, v6, Lcom/android/keyguard/SecFpMsg;->type:I
 
     const-string v12, ")"
@@ -7841,7 +7903,7 @@
 
     iget v6, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFingerprintAuthenticationSequence:I
 
-    if-eq v6, v3, :cond_36
+    if-eq v6, v3, :cond_35
 
     const-string/jumbo v6, "onUdfpsFingerUp() - return, sequence error ("
 
@@ -7855,7 +7917,7 @@
 
     goto/16 :goto_12
 
-    :cond_36
+    :cond_35
     const-string/jumbo v3, "onUdfpsFingerUp()"
 
     invoke-static {v8, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
@@ -7879,7 +7941,7 @@
 
     iget v11, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFingerprintAuthenticationSequence:I
 
-    if-eq v11, v6, :cond_37
+    if-eq v11, v6, :cond_36
 
     const-string/jumbo v3, "onUdfpsFingerDown() - return, sequence error ("
 
@@ -7893,7 +7955,7 @@
 
     goto/16 :goto_12
 
-    :cond_37
+    :cond_36
     const-string/jumbo v6, "onUdfpsFingerDown()"
 
     invoke-static {v8, v6}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
@@ -7915,7 +7977,7 @@
 
     iget v11, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFingerprintAuthenticationSequence:I
 
-    if-eq v11, v3, :cond_38
+    if-eq v11, v3, :cond_37
 
     const-string/jumbo v6, "onAuthenticationAcquired() - return, sequence error ("
 
@@ -7929,7 +7991,7 @@
 
     goto/16 :goto_12
 
-    :cond_38
+    :cond_37
     new-instance v3, Ljava/lang/StringBuilder;
 
     const-string/jumbo v11, "onAuthenticationAcquired( "
@@ -7957,7 +8019,7 @@
 
     iget v6, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFingerprintAuthenticationSequence:I
 
-    if-eq v6, v3, :cond_39
+    if-eq v6, v3, :cond_38
 
     const-string/jumbo v6, "onAuthenticationFailed() - return, sequence error ("
 
@@ -7971,12 +8033,12 @@
 
     goto/16 :goto_12
 
-    :cond_39
+    :cond_38
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isTimerRunning()Z
 
     move-result v3
 
-    if-eqz v3, :cond_3a
+    if-eqz v3, :cond_39
 
     const-string/jumbo v3, "onAuthenticationFailed() - return, isTimerRunning is true"
 
@@ -7984,7 +8046,7 @@
 
     goto/16 :goto_12
 
-    :cond_3a
+    :cond_39
     const-string/jumbo v3, "onAuthenticationFailed()"
 
     invoke-static {v8, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
@@ -8010,7 +8072,7 @@
 
     iget v11, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFingerprintAuthenticationSequence:I
 
-    if-eq v11, v3, :cond_3b
+    if-eq v11, v3, :cond_3a
 
     const-string/jumbo v6, "onAuthenticationSucceeded() - return, sequence error ("
 
@@ -8024,12 +8086,12 @@
 
     goto/16 :goto_12
 
-    :cond_3b
+    :cond_3a
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isTimerRunning()Z
 
     move-result v3
 
-    if-eqz v3, :cond_3c
+    if-eqz v3, :cond_3b
 
     const-string/jumbo v3, "onAuthenticationSucceeded() - return, isTimerRunning is true"
 
@@ -8037,10 +8099,10 @@
 
     goto/16 :goto_12
 
-    :cond_3c
+    :cond_3b
     iget-boolean v3, v0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mKeyguardGoingAway:Z
 
-    if-eqz v3, :cond_3d
+    if-eqz v3, :cond_3c
 
     const-string/jumbo v3, "onAuthenticationSucceeded() - return, goingAway is true"
 
@@ -8048,7 +8110,7 @@
 
     goto/16 :goto_12
 
-    :cond_3d
+    :cond_3c
     invoke-virtual {v6}, Landroid/hardware/fingerprint/FingerprintManager$AuthenticationResult;->isStrongBiometric()Z
 
     move-result v3
@@ -8138,7 +8200,7 @@
 
     iget v14, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFingerprintAuthenticationSequence:I
 
-    if-eq v14, v3, :cond_3e
+    if-eq v14, v3, :cond_3d
 
     const-string/jumbo v6, "onAuthenticationHelp() - return, sequence error ("
 
@@ -8152,12 +8214,12 @@
 
     goto/16 :goto_12
 
-    :cond_3e
+    :cond_3d
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isTimerRunning()Z
 
     move-result v3
 
-    if-eqz v3, :cond_3f
+    if-eqz v3, :cond_3e
 
     const-string/jumbo v3, "onAuthenticationHelp() - return, isTimerRunning is true"
 
@@ -8165,7 +8227,7 @@
 
     goto/16 :goto_12
 
-    :cond_3f
+    :cond_3e
     new-instance v3, Ljava/lang/StringBuilder;
 
     const-string/jumbo v12, "onAuthenticationHelp( helpMsgId = "
@@ -8192,49 +8254,49 @@
 
     const/4 v3, 0x1
 
-    if-eq v11, v3, :cond_44
+    if-eq v11, v3, :cond_43
 
     const/4 v3, 0x2
 
-    if-eq v11, v3, :cond_43
+    if-eq v11, v3, :cond_42
 
-    if-eq v11, v9, :cond_42
+    if-eq v11, v9, :cond_41
 
-    if-eq v11, v5, :cond_41
+    if-eq v11, v5, :cond_40
 
-    if-eq v11, v7, :cond_40
+    if-eq v11, v7, :cond_3f
 
     goto :goto_11
 
-    :cond_40
+    :cond_3f
     const-string v3, "7"
 
     invoke-virtual {v0, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->sendFingerprintSALog(Ljava/lang/String;)V
 
     goto :goto_11
 
-    :cond_41
+    :cond_40
     const-string v3, "3"
 
     invoke-virtual {v0, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->sendFingerprintSALog(Ljava/lang/String;)V
 
     goto :goto_11
 
-    :cond_42
+    :cond_41
     const-string v3, "6"
 
     invoke-virtual {v0, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->sendFingerprintSALog(Ljava/lang/String;)V
 
     goto :goto_11
 
-    :cond_43
+    :cond_42
     const-string v3, "5"
 
     invoke-virtual {v0, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->sendFingerprintSALog(Ljava/lang/String;)V
 
     goto :goto_11
 
-    :cond_44
+    :cond_43
     const-string v3, "4"
 
     invoke-virtual {v0, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->sendFingerprintSALog(Ljava/lang/String;)V
@@ -8257,7 +8319,7 @@
 
     iget v14, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFingerprintAuthenticationSequence:I
 
-    if-eq v14, v3, :cond_45
+    if-eq v14, v3, :cond_44
 
     const-string/jumbo v6, "onAuthenticationError() - return, sequence error ("
 
@@ -8271,12 +8333,12 @@
 
     goto :goto_12
 
-    :cond_45
+    :cond_44
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isTimerRunning()Z
 
     move-result v3
 
-    if-eqz v3, :cond_46
+    if-eqz v3, :cond_45
 
     const-string/jumbo v3, "onAuthenticationError() - return, isTimerRunning is true"
 
@@ -8284,7 +8346,7 @@
 
     goto :goto_12
 
-    :cond_46
+    :cond_45
     const-string/jumbo v3, "onAuthenticationError()"
 
     invoke-static {v8, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
@@ -8302,14 +8364,14 @@
 
     goto/16 :goto_10
 
-    :cond_47
+    :cond_46
     iget-object v1, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFpMessages:Ljava/util/concurrent/ConcurrentLinkedQueue;
 
     invoke-virtual {v1}, Ljava/util/concurrent/ConcurrentLinkedQueue;->size()I
 
     move-result v1
 
-    if-lez v1, :cond_48
+    if-lez v1, :cond_47
 
     iget-object v1, v0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
 
@@ -8319,7 +8381,7 @@
 
     move-result v1
 
-    if-nez v1, :cond_48
+    if-nez v1, :cond_47
 
     new-instance v1, Ljava/lang/StringBuilder;
 
@@ -8345,7 +8407,7 @@
 
     invoke-virtual {v0, v3}, Landroid/os/Handler;->sendEmptyMessage(I)Z
 
-    :cond_48
+    :cond_47
     const-string v0, "handleFingerprintAuth dispatchCount = "
 
     invoke-static {v0, v4}, Landroid/support/v4/media/MediaBrowserCompat$MediaBrowserImplBase$$ExternalSyntheticOutline0;->m(Ljava/lang/String;I)Ljava/lang/String;
@@ -8358,7 +8420,7 @@
 
     invoke-static {v2, v8, v0, v1}, Lcom/android/systemui/util/LogUtil;->endTime(ILjava/lang/String;Ljava/lang/String;[Ljava/lang/Object;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_15
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -8407,43 +8469,33 @@
 
     move-result v1
 
-    if-nez v1, :cond_49
-
-    goto/16 :goto_1a
-
-    :cond_49
-    sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v1, :cond_4a
-
-    const/4 v1, 0x2
+    if-nez v1, :cond_48
 
-    invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
+    goto/16 :goto_19
 
-    goto :goto_13
+    :cond_48
+    sget-object v1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_4a
-    const/4 v1, 0x2
+    sget-object v1, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_QS_FULLY_EXPANDED:Lcom/android/keyguard/FaceAuthUiEvent;
 
-    :goto_13
-    sget-object v2, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_QS_FULLY_EXPANDED:Lcom/android/keyguard/FaceAuthUiEvent;
+    const/4 v2, 0x2
 
-    invoke-virtual {v0, v1, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
+    invoke-virtual {v0, v2, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_16
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFaceDetectionRunning()Z
 
     move-result v1
 
-    if-eqz v1, :cond_4b
+    if-eqz v1, :cond_49
 
     sget-object v1, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_STOPPED_USER_INPUT_ON_BOUNCER:Lcom/android/keyguard/FaceAuthUiEvent;
 
     invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->stopListeningForFace(Lcom/android/keyguard/FaceAuthUiEvent;)V
 
-    :cond_4b
+    :cond_49
     new-instance v1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda7;
 
     invoke-direct {v1, v12}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda7;-><init>(I)V
@@ -8452,7 +8504,7 @@
 
     invoke-virtual {v0, v2, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_17
     iget v2, v1, Landroid/os/Message;->arg1:I
@@ -8463,160 +8515,290 @@
 
     check-cast v1, Landroid/telephony/ServiceState;
 
-    invoke-virtual {v0, v2, v3, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleServiceStateChange(IILandroid/telephony/ServiceState;)V
+    const-string v4, "handleServiceStateChange(subId="
 
-    goto/16 :goto_1a
+    const-string v6, ", slotId="
 
-    :pswitch_18
-    iget v2, v1, Landroid/os/Message;->arg1:I
+    const-string v7, ", serviceState="
 
-    iget v1, v1, Landroid/os/Message;->arg2:I
+    invoke-static {v4, v2, v6, v3, v7}, Landroidx/recyclerview/widget/GridLayoutManager$$ExternalSyntheticOutline0;->m(Ljava/lang/String;ILjava/lang/String;ILjava/lang/String;)Ljava/lang/StringBuilder;
 
-    const/4 v3, 0x1
+    move-result-object v4
 
-    if-ne v1, v3, :cond_4c
+    invoke-virtual {v4, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    const/4 v5, 0x1
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    goto :goto_14
+    move-result-object v4
 
-    :cond_4c
-    const/4 v5, 0x0
+    const-string v6, "KeyguardUpdateMonitor"
 
-    :goto_14
-    invoke-virtual {v0, v2, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleDualDarInnerLockScreenStateChanged(IZ)V
+    invoke-static {v6, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    goto/16 :goto_1a
+    sget-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_DISABLE_EMERGENCY_CALL_WHEN_OFFLINE:Z
 
-    :pswitch_19
-    sget-object v1, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_SUB_SCREEN:Lcom/android/keyguard/FaceAuthUiEvent;
+    if-eqz v4, :cond_4e
 
-    const/4 v2, 0x2
+    iget-object v4, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mServiceStatesBySlotId:Ljava/util/HashMap;
 
-    invoke-virtual {v0, v2, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateBiometricListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
+    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    goto/16 :goto_1a
+    move-result-object v3
 
-    :pswitch_1a
-    const/4 v1, 0x2
+    invoke-virtual {v4, v3, v1}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
 
-    invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
+    iget-object v3, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mServiceStatesBySlotId:Ljava/util/HashMap;
 
-    goto/16 :goto_1a
+    invoke-virtual {v3}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
 
-    :pswitch_1b
-    const-class v0, Lcom/android/systemui/keyguard/DisplayLifecycle;
+    move-result-object v3
 
-    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
+    invoke-interface {v3}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
 
-    move-result-object v0
+    move-result-object v3
 
-    check-cast v0, Lcom/android/systemui/keyguard/DisplayLifecycle;
+    :cond_4a
+    invoke-interface {v3}, Ljava/util/Iterator;->hasNext()Z
 
-    invoke-virtual {v0}, Lcom/android/systemui/keyguard/DisplayLifecycle;->updateSmartViewFitToActiveDisplay()V
+    move-result v4
 
-    goto/16 :goto_1a
+    if-eqz v4, :cond_4d
 
-    :pswitch_1c
-    iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
+    invoke-interface {v3}, Ljava/util/Iterator;->next()Ljava/lang/Object;
 
-    check-cast v1, Ljava/lang/String;
+    move-result-object v4
 
-    new-instance v2, Ljava/lang/StringBuilder;
+    check-cast v4, Ljava/util/Map$Entry;
 
-    const-string v3, "handleFailToUnlockSimulation unlockType : "
+    invoke-interface {v4}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
 
-    invoke-direct {v2, v3}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
+    move-result-object v4
 
-    invoke-virtual {v2, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    check-cast v4, Landroid/telephony/ServiceState;
 
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    if-eqz v4, :cond_4a
 
-    move-result-object v2
+    invoke-virtual {v4}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    const-string v3, "KeyguardUpdateMonitor"
+    move-result v7
 
-    invoke-static {v3, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    const/4 v8, 0x1
 
-    invoke-virtual {v1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
+    if-eq v7, v8, :cond_4b
 
-    const-string v2, "finger"
+    invoke-virtual {v4}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+    move-result v7
 
-    move-result v2
+    if-ne v7, v9, :cond_4c
 
-    const-string/jumbo v3, "onAuthenticationFailed()"
+    :cond_4b
+    invoke-virtual {v4}, Landroid/telephony/ServiceState;->getVoiceRegState()I
 
-    if-nez v2, :cond_4e
+    move-result v7
 
-    const-string v2, "face"
+    if-ne v7, v8, :cond_4a
 
-    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+    invoke-virtual {v4}, Landroid/telephony/ServiceState;->isEmergencyOnly()Z
 
-    move-result v1
+    move-result v4
 
-    if-nez v1, :cond_4d
+    if-eqz v4, :cond_4a
 
-    new-instance v1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda11;
+    :cond_4c
+    const/4 v3, 0x0
 
-    invoke-direct {v1, v0, v9}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda11;-><init>(Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;I)V
+    goto :goto_13
 
-    const/4 v2, 0x0
+    :cond_4d
+    const/4 v3, 0x1
 
-    invoke-virtual {v0, v2, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
+    :goto_13
+    iget-boolean v4, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsOutOfService:Z
 
-    goto/16 :goto_1a
+    if-eq v4, v3, :cond_4e
 
-    :cond_4d
-    const-string v1, "KeyguardFace"
+    iput-boolean v3, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsOutOfService:Z
 
-    invoke-static {v1, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    new-instance v3, Ljava/lang/StringBuilder;
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleFaceAuthFailed()V
+    const-string/jumbo v4, "updateOfflineState isOutOfService : "
 
-    goto/16 :goto_1a
+    invoke-direct {v3, v4}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
 
-    :cond_4e
-    const-string v1, "KeyguardFingerprint"
+    iget-boolean v4, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsOutOfService:Z
 
-    invoke-static {v1, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleFingerprintAuthFailed()V
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    goto/16 :goto_1a
+    move-result-object v3
 
-    :pswitch_1d
-    iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
+    invoke-static {v6, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    check-cast v1, Ljava/lang/String;
+    new-instance v3, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda7;
 
-    sget-object v2, Lcom/android/systemui/keyguard/KeyguardUnlockInfo$UnlockTrigger;->TRIGGER_SHELL:Lcom/android/systemui/keyguard/KeyguardUnlockInfo$UnlockTrigger;
+    invoke-direct {v3, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda7;-><init>(I)V
 
-    invoke-static {v2}, Lcom/android/systemui/keyguard/KeyguardUnlockInfo;->setUnlockTrigger(Lcom/android/systemui/keyguard/KeyguardUnlockInfo$UnlockTrigger;)V
+    const/4 v4, 0x0
 
-    const-string v2, "finger"
+    invoke-virtual {v0, v4, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    invoke-virtual {v2, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+    :cond_4e
+    invoke-super {v0, v2, v1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->handleServiceStateChange(ILandroid/telephony/ServiceState;)V
 
-    move-result v3
+    goto/16 :goto_19
+
+    :pswitch_18
+    iget v2, v1, Landroid/os/Message;->arg1:I
+
+    iget v1, v1, Landroid/os/Message;->arg2:I
+
+    const/4 v3, 0x1
+
+    if-ne v1, v3, :cond_4f
+
+    const/4 v5, 0x1
+
+    goto :goto_14
+
+    :cond_4f
+    const/4 v5, 0x0
+
+    :goto_14
+    invoke-virtual {v0, v2, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleDualDarInnerLockScreenStateChanged(IZ)V
+
+    goto/16 :goto_19
+
+    :pswitch_19
+    sget-object v1, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_SUB_SCREEN:Lcom/android/keyguard/FaceAuthUiEvent;
+
+    const/4 v2, 0x2
+
+    invoke-virtual {v0, v2, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateBiometricListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
+
+    goto/16 :goto_19
+
+    :pswitch_1a
+    const/4 v1, 0x2
+
+    invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
+
+    goto/16 :goto_19
+
+    :pswitch_1b
+    const-class v0, Lcom/android/systemui/keyguard/DisplayLifecycle;
+
+    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
+
+    move-result-object v0
+
+    check-cast v0, Lcom/android/systemui/keyguard/DisplayLifecycle;
+
+    invoke-virtual {v0}, Lcom/android/systemui/keyguard/DisplayLifecycle;->updateSmartViewFitToActiveDisplay()V
+
+    goto/16 :goto_19
+
+    :pswitch_1c
+    iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
+
+    check-cast v1, Ljava/lang/String;
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    const-string v3, "handleFailToUnlockSimulation unlockType : "
+
+    invoke-direct {v2, v3}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v2, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    const-string v3, "KeyguardUpdateMonitor"
+
+    invoke-static {v3, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
+
+    const-string v2, "finger"
+
+    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    const-string/jumbo v3, "onAuthenticationFailed()"
+
+    if-nez v2, :cond_51
+
+    const-string v2, "face"
+
+    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_50
+
+    new-instance v1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda11;
+
+    invoke-direct {v1, v0, v9}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda11;-><init>(Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;I)V
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v0, v2, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
+
+    goto/16 :goto_19
+
+    :cond_50
+    const-string v1, "KeyguardFace"
+
+    invoke-static {v1, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleFaceAuthFailed()V
+
+    goto/16 :goto_19
+
+    :cond_51
+    const-string v1, "KeyguardFingerprint"
+
+    invoke-static {v1, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleFingerprintAuthFailed()V
+
+    goto/16 :goto_19
+
+    :pswitch_1d
+    iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
+
+    check-cast v1, Ljava/lang/String;
+
+    sget-object v2, Lcom/android/systemui/keyguard/KeyguardUnlockInfo$UnlockTrigger;->TRIGGER_SHELL:Lcom/android/systemui/keyguard/KeyguardUnlockInfo$UnlockTrigger;
+
+    invoke-static {v2}, Lcom/android/systemui/keyguard/KeyguardUnlockInfo;->setUnlockTrigger(Lcom/android/systemui/keyguard/KeyguardUnlockInfo$UnlockTrigger;)V
+
+    const-string v2, "finger"
+
+    invoke-virtual {v2, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v3
 
     const-string v4, "face"
 
-    if-nez v3, :cond_4f
+    if-nez v3, :cond_52
 
     invoke-virtual {v4, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v3
 
-    if-eqz v3, :cond_50
+    if-eqz v3, :cond_53
 
-    :cond_4f
+    :cond_52
     iget-object v3, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFastUnlockController:Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;
 
     invoke-virtual {v3}, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->setEnabled()V
 
-    :cond_50
+    :cond_53
     invoke-virtual {v1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
     invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
@@ -8625,13 +8807,13 @@
 
     const-string/jumbo v3, "onAuthenticationSucceeded()"
 
-    if-nez v2, :cond_52
+    if-nez v2, :cond_55
 
     invoke-virtual {v1, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v1
 
-    if-nez v1, :cond_51
+    if-nez v1, :cond_54
 
     iget-object v1, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mViewMediatorCallbackLazy:Ldagger/Lazy;
 
@@ -8651,9 +8833,9 @@
 
     invoke-interface {v1, v0}, Lcom/android/keyguard/ViewMediatorCallback;->keyguardDone(I)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
-    :cond_51
+    :cond_54
     const-string v1, "KeyguardFace"
 
     invoke-static {v1, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
@@ -8666,9 +8848,9 @@
 
     invoke-virtual {v0, v1, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleFaceAuthenticated(IZ)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
-    :cond_52
+    :cond_55
     const/4 v1, 0x0
 
     const-string v2, "KeyguardFingerprint"
@@ -8677,7 +8859,7 @@
 
     invoke-virtual {v0, v1, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleFingerprintAuthenticated(IZ)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_1e
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -8709,11 +8891,11 @@
 
     move-result v1
 
-    if-nez v1, :cond_53
+    if-nez v1, :cond_56
 
     goto :goto_15
 
-    :cond_53
+    :cond_56
     move v1, v12
 
     goto :goto_16
@@ -8725,11 +8907,11 @@
 
     move-result v1
 
-    if-nez v1, :cond_54
+    if-nez v1, :cond_57
 
     goto :goto_15
 
-    :cond_54
+    :cond_57
     move v1, v9
 
     goto :goto_16
@@ -8741,11 +8923,11 @@
 
     move-result v1
 
-    if-nez v1, :cond_55
+    if-nez v1, :cond_58
 
     goto :goto_15
 
-    :cond_55
+    :cond_58
     const/4 v1, 0x2
 
     goto :goto_16
@@ -8757,11 +8939,11 @@
 
     move-result v1
 
-    if-nez v1, :cond_56
+    if-nez v1, :cond_59
 
     goto :goto_15
 
-    :cond_56
+    :cond_59
     const/4 v1, 0x1
 
     goto :goto_16
@@ -8773,11 +8955,11 @@
 
     move-result v1
 
-    if-nez v1, :cond_57
+    if-nez v1, :cond_5a
 
     goto :goto_15
 
-    :cond_57
+    :cond_5a
     const/4 v1, 0x0
 
     goto :goto_16
@@ -8788,23 +8970,23 @@
     :goto_16
     const-string v3, "KeyguardUpdateMonitor"
 
-    if-eqz v1, :cond_5d
+    if-eqz v1, :cond_60
 
     const/4 v4, 0x1
 
-    if-eq v1, v4, :cond_5c
+    if-eq v1, v4, :cond_5f
 
     const/4 v4, 0x2
 
-    if-eq v1, v4, :cond_5a
+    if-eq v1, v4, :cond_5d
 
-    if-eq v1, v9, :cond_59
+    if-eq v1, v9, :cond_5c
 
-    if-eq v1, v12, :cond_58
+    if-eq v1, v12, :cond_5b
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
-    :cond_58
+    :cond_5b
     new-instance v1, Landroid/os/Bundle;
 
     invoke-direct {v1}, Landroid/os/Bundle;-><init>()V
@@ -8888,7 +9070,7 @@
     :try_end_2
     .catch Landroid/os/RemoteException; {:try_start_2 .. :try_end_2} :catch_1
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :catch_1
     move-exception v0
@@ -8907,9 +9089,9 @@
 
     invoke-static {v3, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
-    :cond_59
+    :cond_5c
     check-cast v2, Lcom/android/systemui/knox/KnoxStateMonitorImpl;
 
     iget-object v0, v2, Lcom/android/systemui/knox/KnoxStateMonitorImpl;->mEdmMonitor:Lcom/android/systemui/knox/EdmMonitor;
@@ -8922,20 +9104,20 @@
 
     invoke-virtual {v0, v1, v2}, Lcom/android/systemui/knox/EdmMonitor;->setAdminLock(ZZ)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
-    :cond_5a
+    :cond_5d
     const/4 v1, 0x0
 
     check-cast v2, Lcom/android/systemui/knox/KnoxStateMonitorImpl;
 
     iget-object v2, v2, Lcom/android/systemui/knox/KnoxStateMonitorImpl;->mEdmMonitor:Lcom/android/systemui/knox/EdmMonitor;
 
-    if-eqz v2, :cond_5b
+    if-eqz v2, :cond_5e
 
     invoke-virtual {v2, v1, v1}, Lcom/android/systemui/knox/EdmMonitor;->setAdminLock(ZZ)V
 
-    :cond_5b
+    :cond_5e
     :try_start_3
     iget-object v2, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mRemoteLockSimulationInfo:Lcom/android/internal/widget/RemoteLockInfo;
 
@@ -8963,7 +9145,7 @@
     :try_end_3
     .catch Landroid/os/RemoteException; {:try_start_3 .. :try_end_3} :catch_2
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :catch_2
     move-exception v0
@@ -8982,9 +9164,9 @@
 
     invoke-static {v3, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
-    :cond_5c
+    :cond_5f
     check-cast v2, Lcom/android/systemui/knox/KnoxStateMonitorImpl;
 
     iget-object v0, v2, Lcom/android/systemui/knox/KnoxStateMonitorImpl;->mEdmMonitor:Lcom/android/systemui/knox/EdmMonitor;
@@ -8997,9 +9179,9 @@
 
     invoke-virtual {v0, v2, v1}, Lcom/android/systemui/knox/EdmMonitor;->setAdminLock(ZZ)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
-    :cond_5d
+    :cond_60
     const/4 v2, 0x1
 
     new-instance v1, Lcom/android/internal/widget/RemoteLockInfo$Builder;
@@ -9049,7 +9231,7 @@
     :try_end_4
     .catch Landroid/os/RemoteException; {:try_start_4 .. :try_end_4} :catch_3
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :catch_3
     move-exception v0
@@ -9068,7 +9250,7 @@
 
     invoke-static {v3, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_1f
     iget-object v2, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -9077,24 +9259,24 @@
 
     iget v1, v1, Landroid/os/Message;->arg1:I
 
-    const/4 v3, 0x1
+    const/4 v4, 0x1
 
-    if-ne v1, v3, :cond_5e
+    if-ne v1, v4, :cond_61
 
-    move v5, v3
+    move v5, v4
 
     goto :goto_17
 
-    :cond_5e
-    const/4 v5, 0x0
+    :cond_61
+    move v5, v3
 
     :goto_17
     invoke-virtual {v0, v2, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handlePackageRemoved(Ljava/lang/String;Z)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_20
-    const/4 v3, 0x1
+    const/4 v4, 0x1
 
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
@@ -9102,13 +9284,13 @@
 
     new-instance v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda23;
 
-    invoke-direct {v2, v1, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda23;-><init>(Ljava/lang/String;I)V
+    invoke-direct {v2, v1, v4}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda23;-><init>(Ljava/lang/String;I)V
 
     const/4 v1, 0x0
 
     invoke-virtual {v0, v1, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_21
     const/4 v2, 0x0
@@ -9125,7 +9307,7 @@
 
     invoke-virtual {v0, v2, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_22
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -9136,55 +9318,14 @@
 
     move-result v1
 
-    new-instance v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda10;
-
-    const/4 v4, 0x1
-
-    invoke-direct {v2, v1, v4}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda10;-><init>(ZI)V
+    invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleUsbRestrictionChanged(Z)V
 
-    invoke-virtual {v0, v3, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
-
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_23
-    sget-boolean v1, Landroid/os/Build;->IS_USERDEBUG:Z
-
-    if-nez v1, :cond_5f
-
-    sget-boolean v1, Landroid/os/Build;->IS_ENG:Z
-
-    if-eqz v1, :cond_67
-
-    :cond_5f
-    iget-object v0, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mPluginFaceWidgetManagerLazy:Ldagger/Lazy;
-
-    invoke-interface {v0}, Ldagger/Lazy;->get()Ljava/lang/Object;
-
-    move-result-object v0
-
-    move-object v3, v0
-
-    check-cast v3, Lcom/android/systemui/facewidget/plugin/PluginFaceWidgetManager;
-
-    iget-object v0, v3, Lcom/android/systemui/facewidget/plugin/PluginFaceWidgetManager;->mPluginManager:Lcom/android/systemui/plugins/PluginManager;
-
-    invoke-interface {v0, v3}, Lcom/android/systemui/plugins/PluginManager;->removePluginListener(Lcom/android/systemui/plugins/PluginListener;)V
-
-    iget-object v1, v3, Lcom/android/systemui/facewidget/plugin/PluginFaceWidgetManager;->mPluginManager:Lcom/android/systemui/plugins/PluginManager;
-
-    const-string v2, "com.samsung.systemui.action.PLUGIN_FACE_WIDGET"
-
-    const-class v4, Lcom/android/systemui/plugins/keyguardstatusview/PluginKeyguardStatusView;
-
-    const/4 v5, 0x0
-
-    const/4 v6, 0x1
-
-    const/4 v7, 0x0
-
-    invoke-interface/range {v1 .. v7}, Lcom/android/systemui/plugins/PluginManager;->addPluginListener(Ljava/lang/String;Lcom/android/systemui/plugins/PluginListener;Ljava/lang/Class;ZZI)V
+    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleReconnectPluginFaceWidget()V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_24
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -9195,45 +9336,18 @@
 
     move-result v1
 
-    new-instance v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda9;
-
-    invoke-direct {v2, v1, v9}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda9;-><init>(II)V
-
-    const/4 v1, 0x0
-
-    invoke-virtual {v0, v1, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
+    invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleEmergencyStateChanged(I)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_25
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Ljava/lang/String;
 
-    const-string v2, "com.android.settings"
-
-    invoke-virtual {v2, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v2
-
-    if-eqz v2, :cond_60
-
-    iget-object v2, v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSettingsHelper:Lcom/android/systemui/util/SettingsHelper;
-
-    invoke-virtual {v2}, Lcom/android/systemui/util/SettingsHelper;->readSettingsDB()V
-
-    :cond_60
-    new-instance v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda23;
-
-    const/4 v3, 0x0
-
-    invoke-direct {v2, v1, v3}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda23;-><init>(Ljava/lang/String;I)V
-
-    const/4 v1, 0x0
-
-    invoke-virtual {v0, v1, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
+    invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handlePackageDataCleared(Ljava/lang/String;)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_26
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -9244,31 +9358,9 @@
 
     move-result v1
 
-    new-instance v2, Ljava/lang/StringBuilder;
-
-    const-string v3, "handleDlsViewMode(), mode="
-
-    invoke-direct {v2, v3}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
-
-    invoke-virtual {v2, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v2
-
-    const-string v3, "KeyguardUpdateMonitor"
-
-    invoke-static {v3, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    new-instance v2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda9;
-
-    invoke-direct {v2, v1, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda9;-><init>(II)V
-
-    const/4 v1, 0x0
-
-    invoke-virtual {v0, v1, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
+    invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleDlsViewMode(I)V
 
-    goto/16 :goto_1a
+    goto/16 :goto_19
 
     :pswitch_27
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -9281,42 +9373,42 @@
 
     invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleDlsBiometricMode(Z)V
 
-    goto/16 :goto_1a
+    goto :goto_19
 
     :pswitch_28
     invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleLocaleChanged()V
 
-    goto/16 :goto_1a
+    goto :goto_19
 
-    :cond_61
+    :cond_62
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Lcom/samsung/android/cover/CoverState;
 
     invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handleUpdateCoverState(Lcom/samsung/android/cover/CoverState;)V
 
-    goto :goto_1a
+    goto :goto_19
 
-    :cond_62
+    :cond_63
     iget v1, v1, Landroid/os/Message;->arg1:I
 
     const/4 v2, 0x1
 
-    if-ne v1, v2, :cond_63
+    if-ne v1, v2, :cond_64
 
     move v5, v2
 
     goto :goto_18
 
-    :cond_63
+    :cond_64
     move v5, v6
 
     :goto_18
     invoke-virtual {v0, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->handlePrimaryBouncerVisibilityChanged(Z)V
 
-    goto :goto_1a
+    goto :goto_19
 
-    :cond_64
+    :cond_65
     iget-object v1, v1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Ljava/lang/Boolean;
@@ -9379,35 +9471,23 @@
 
     move-result v1
 
-    if-nez v1, :cond_65
+    if-nez v1, :cond_66
 
-    goto :goto_1a
+    goto :goto_19
 
-    :cond_65
-    sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
+    :cond_66
+    sget-object v1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    if-eqz v1, :cond_66
+    sget-object v1, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_NOTI_STAR_STATE_CHANGED:Lcom/android/keyguard/FaceAuthUiEvent;
 
-    const/4 v1, 0x2
+    const/4 v2, 0x2
 
-    invoke-virtual {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
-
-    goto :goto_19
-
-    :cond_66
-    const/4 v1, 0x2
-
-    :goto_19
-    sget-object v2, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_NOTI_STAR_STATE_CHANGED:Lcom/android/keyguard/FaceAuthUiEvent;
-
-    invoke-virtual {v0, v1, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
+    invoke-virtual {v0, v2, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
 
     :cond_67
-    :goto_1a
+    :goto_19
     return-void
 
-    nop
-
     :pswitch_data_0
     .packed-switch 0x3e9
         :pswitch_2
@@ -9506,163 +9586,88 @@
     .end sparse-switch
 .end method
 
-.method public final handleServiceStateChange(IILandroid/telephony/ServiceState;)V
-    .locals 5
-
-    const-string v0, "handleServiceStateChange(subId="
-
-    const-string v1, ", slotId="
-
-    const-string v2, ", serviceState="
-
-    invoke-static {v0, p1, v1, p2, v2}, Landroidx/recyclerview/widget/GridLayoutManager$$ExternalSyntheticOutline0;->m(Ljava/lang/String;ILjava/lang/String;ILjava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v0
-
-    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v0
+.method public final handleSimStateChange(III)V
+    .locals 0
 
-    const-string v1, "KeyguardUpdateMonitor"
+    invoke-super {p0, p1, p2, p3}, Lcom/android/keyguard/KeyguardUpdateMonitor;->handleSimStateChange(III)V
 
-    invoke-static {v1, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    return-void
+.end method
 
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_DISABLE_EMERGENCY_CALL_WHEN_OFFLINE:Z
+.method public final handleStartedGoingToSleep(I)V
+    .locals 5
 
-    if-eqz v0, :cond_4
+    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
 
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mServiceStatesBySlotId:Ljava/util/HashMap;
+    const/4 v1, 0x0
 
-    invoke-static {p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    if-eqz v0, :cond_2
 
-    move-result-object p2
+    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isEnabledWof()Z
 
-    invoke-virtual {v0, p2, p3}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
+    move-result v0
 
-    iget-object p2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mServiceStatesBySlotId:Ljava/util/HashMap;
+    if-eqz v0, :cond_2
 
-    invoke-virtual {p2}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
+    sget v0, Lcom/android/systemui/util/DeviceType;->supportSideFingerprintExclusive:I
 
-    move-result-object p2
+    const/4 v2, -0x1
 
-    invoke-interface {p2}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
+    if-ne v0, v2, :cond_0
 
-    move-result-object p2
+    sput v1, Lcom/android/systemui/util/DeviceType;->supportSideFingerprintExclusive:I
 
     :cond_0
-    invoke-interface {p2}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v0
+    sget v0, Lcom/android/systemui/util/DeviceType;->supportSideFingerprintExclusive:I
 
     const/4 v2, 0x1
 
-    if-eqz v0, :cond_3
-
-    invoke-interface {p2}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/util/Map$Entry;
-
-    invoke-interface {v0}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Landroid/telephony/ServiceState;
-
-    if-eqz v0, :cond_0
-
-    invoke-virtual {v0}, Landroid/telephony/ServiceState;->getVoiceRegState()I
-
-    move-result v3
-
-    if-eq v3, v2, :cond_1
-
-    invoke-virtual {v0}, Landroid/telephony/ServiceState;->getVoiceRegState()I
-
-    move-result v3
+    if-ne v0, v2, :cond_1
 
-    const/4 v4, 0x3
+    move v0, v2
 
-    if-ne v3, v4, :cond_2
+    goto :goto_0
 
     :cond_1
-    invoke-virtual {v0}, Landroid/telephony/ServiceState;->getVoiceRegState()I
-
-    move-result v3
-
-    if-ne v3, v2, :cond_0
-
-    invoke-virtual {v0}, Landroid/telephony/ServiceState;->isEmergencyOnly()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_0
-
-    :cond_2
-    const/4 v2, 0x0
-
-    :cond_3
-    iget-boolean p2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsOutOfService:Z
-
-    if-eq p2, v2, :cond_4
-
-    iput-boolean v2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsOutOfService:Z
-
-    new-instance p2, Ljava/lang/StringBuilder;
-
-    const-string/jumbo v0, "updateOfflineState isOutOfService : "
-
-    invoke-direct {p2, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsOutOfService:Z
-
-    invoke-virtual {p2, v0}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+    move v0, v1
 
-    invoke-virtual {p2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    :goto_0
+    if-nez v0, :cond_2
 
-    move-result-object p2
+    const/4 v0, 0x2
 
-    invoke-static {v1, p2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    if-ne p1, v0, :cond_2
 
-    new-instance p2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda7;
+    iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
 
-    const/4 v0, 0x5
+    iget-object v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mTimeoutSkipFPResponse:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$1;
 
-    invoke-direct {p2, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda7;-><init>(I)V
+    invoke-virtual {v0, v3}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V
 
-    const/4 v0, 0x0
+    iput-boolean v2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsSkipFPResponse:Z
 
-    invoke-virtual {p0, v0, p2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
+    iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
 
-    :cond_4
-    invoke-super {p0, p1, p3}, Lcom/android/keyguard/KeyguardUpdateMonitor;->handleServiceStateChange(ILandroid/telephony/ServiceState;)V
+    iget-object v2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mTimeoutSkipFPResponse:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$1;
 
-    return-void
-.end method
+    const-wide/16 v3, 0x2bc
 
-.method public final handleSimStateChange(III)V
-    .locals 0
+    invoke-virtual {v0, v2, v3, v4}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z
 
-    invoke-super {p0, p1, p2, p3}, Lcom/android/keyguard/KeyguardUpdateMonitor;->handleSimStateChange(III)V
+    const-string v0, "KeyguardFingerprint"
 
-    return-void
-.end method
+    const-string v2, "ScreenOff by the powerKey. If it receives a response within 700ms, it will skip."
 
-.method public final handleStartedGoingToSleep(I)V
-    .locals 2
+    invoke-static {v0, v2}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
+    :cond_2
     sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_BACKGROUND_AUTHENTICATION:Z
 
-    const/4 v1, 0x0
-
-    if-eqz v0, :cond_0
+    if-eqz v0, :cond_3
 
     iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFPCanceledByForegroundApp:Z
 
-    :cond_0
+    :cond_3
     iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsShortcutLaunchInProgress:Z
 
     iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFaceWidgetFullScreenMode:Z
@@ -9671,22 +9676,22 @@
 
     sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_COVER:Z
 
-    if-eqz v0, :cond_1
+    if-eqz v0, :cond_4
 
     iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mForceStartFinger:Z
 
     iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mNeedSubBioAuth:Z
 
-    :cond_1
+    :cond_4
     invoke-virtual {p0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setFaceAuthenticated(Z)V
 
     sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_ESIM:Z
 
-    if-eqz v0, :cond_2
+    if-eqz v0, :cond_5
 
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->clearESimRemoved()V
 
-    :cond_2
+    :cond_5
     invoke-virtual {p0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setUnlockingKeyguard(Z)V
 
     invoke-super {p0, p1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->handleStartedGoingToSleep(I)V
@@ -9695,24 +9700,47 @@
 .end method
 
 .method public final handleStartedWakingUp(I)V
-    .locals 2
+    .locals 3
 
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_COVER:Z
+    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
 
     const/4 v1, 0x0
 
     if-eqz v0, :cond_0
 
-    iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mNeedSubWofFpAuth:Z
+    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsSkipFPResponse:Z
+
+    if-eqz v0, :cond_0
+
+    iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
+
+    iget-object v2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mTimeoutSkipFPResponse:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$1;
+
+    invoke-virtual {v0, v2}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V
+
+    iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsSkipFPResponse:Z
+
+    const-string/jumbo v0, "skip FP response canceled by handleStartedWakingUp : wakeup reason = "
+
+    const-string v2, "KeyguardFingerprint"
+
+    invoke-static {v0, p1, v2}, Landroidx/picker3/widget/SeslColorSpectrumView$$ExternalSyntheticOutline0;->m(Ljava/lang/String;ILjava/lang/String;)V
 
     :cond_0
+    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_COVER:Z
+
+    if-eqz v0, :cond_1
+
+    iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mNeedSubWofFpAuth:Z
+
+    :cond_1
     iget v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPhoneState:I
 
-    if-nez v0, :cond_1
+    if-nez v0, :cond_2
 
     iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFPCanceledByProximity:Z
 
-    :cond_1
+    :cond_2
     invoke-super {p0, p1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->handleStartedWakingUp(I)V
 
     return-void
@@ -9779,6 +9807,22 @@
     return-void
 .end method
 
+.method public final handleUsbRestrictionChanged(Z)V
+    .locals 2
+
+    new-instance v0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda10;
+
+    const/4 v1, 0x1
+
+    invoke-direct {v0, p1, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda10;-><init>(ZI)V
+
+    const/4 p1, 0x0
+
+    invoke-virtual {p0, p1, v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
+
+    return-void
+.end method
+
 .method public final handleUserSwitchComplete(I)V
     .locals 4
 
@@ -11021,67 +11065,28 @@
     return v2
 .end method
 
-.method public final isInDisplayFingerprintMarginAccepted()Z
-    .locals 3
+.method public final isInDisplayFingerprintMarginAccepted()V
+    .locals 1
 
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->is2StepVerification()Z
 
     move-result v0
 
-    const/4 v1, 0x1
-
     if-nez v0, :cond_0
 
-    invoke-super {p0, v1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isUnlockingWithBiometricAllowed(Z)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_1
-
-    :cond_0
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v0, :cond_1
-
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFingerprintOptionEnabled()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_1
-
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mCurrentSecurityMode:Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;
-
-    sget-object v2, Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;->Swipe:Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;
-
-    if-eq v0, v2, :cond_1
-
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFullscreenBouncer()Z
-
-    move-result v0
-
-    if-nez v0, :cond_1
-
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mContext:Landroid/content/Context;
-
-    invoke-static {v0}, Lcom/android/systemui/util/DeviceState;->isSmartViewDisplayWithFitToAspectRatio(Landroid/content/Context;)Z
-
-    move-result v0
-
-    if-nez v0, :cond_1
+    const/4 v0, 0x1
 
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isForgotPasswordView()Z
+    invoke-super {p0, v0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isUnlockingWithBiometricAllowed(Z)Z
 
     move-result p0
 
-    if-nez p0, :cond_1
+    if-eqz p0, :cond_1
 
-    goto :goto_0
+    :cond_0
+    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     :cond_1
-    const/4 v1, 0x0
-
-    :goto_0
-    return v1
+    return-void
 .end method
 
 .method public final isKeyguardUnlocking()Z
@@ -11587,6 +11592,14 @@
     return v0
 .end method
 
+.method public final isTableMode()Z
+    .locals 0
+
+    const/4 p0, 0x0
+
+    return p0
+.end method
+
 .method public final isTimerRunning()Z
     .locals 4
 
@@ -11865,17 +11878,13 @@
     invoke-virtual {p0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setFaceAuthenticated(Z)V
 
     :cond_1
-    sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz p1, :cond_3
-
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFingerprintOptionEnabled()Z
-
-    move-result p1
+    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    if-eqz p1, :cond_3
+    return-void
+.end method
 
-    iget-object p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mUserFingerprintAuthenticated:Landroid/util/SparseArray;
+.method public final onLockIconPressed()V
+    .locals 3
 
     iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mUserTracker:Lcom/android/systemui/settings/UserTracker;
 
@@ -11885,71 +11894,31 @@
 
     move-result v0
 
-    invoke-virtual {p1, v0}, Landroid/util/SparseArray;->get(I)Ljava/lang/Object;
+    iget-object v1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mUserFaceAuthenticated:Landroid/util/SparseArray;
 
-    move-result-object p1
+    const/4 v2, 0x0
 
-    check-cast p1, Lcom/android/keyguard/KeyguardUpdateMonitor$BiometricAuthenticated;
+    invoke-virtual {v1, v0, v2}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V
 
-    const/4 v0, 0x1
+    sget-object v1, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_LOCK_ICON_PRESSED:Lcom/android/keyguard/FaceAuthUiEvent;
 
-    if-eqz p1, :cond_2
+    const/4 v2, 0x2
 
-    iget-boolean p1, p1, Lcom/android/keyguard/KeyguardUpdateMonitor$BiometricAuthenticated;->mIsStrongBiometric:Z
+    invoke-virtual {p0, v2, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
 
-    if-eqz p1, :cond_2
+    iget-object p0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mStrongAuthTracker:Lcom/android/keyguard/KeyguardUpdateMonitor$StrongAuthTracker;
 
-    move v1, v0
+    invoke-virtual {p0, v0}, Lcom/android/keyguard/KeyguardUpdateMonitor$StrongAuthTracker;->onStrongAuthRequiredChanged(I)V
 
-    :cond_2
-    invoke-virtual {p0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isUnlockingWithBiometricAllowed(Z)Z
+    return-void
+.end method
 
-    move-result p1
+.method public final registerCallback(Lcom/android/keyguard/KeyguardUpdateMonitorCallback;)V
+    .locals 2
 
-    xor-int/2addr p1, v0
+    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsDispatching:Z
 
-    invoke-virtual {p0, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setFodStrictMode(Z)V
-
-    :cond_3
-    return-void
-.end method
-
-.method public final onLockIconPressed()V
-    .locals 3
-
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mUserTracker:Lcom/android/systemui/settings/UserTracker;
-
-    check-cast v0, Lcom/android/systemui/settings/UserTrackerImpl;
-
-    invoke-virtual {v0}, Lcom/android/systemui/settings/UserTrackerImpl;->getUserId()I
-
-    move-result v0
-
-    iget-object v1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mUserFaceAuthenticated:Landroid/util/SparseArray;
-
-    const/4 v2, 0x0
-
-    invoke-virtual {v1, v0, v2}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V
-
-    sget-object v1, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_LOCK_ICON_PRESSED:Lcom/android/keyguard/FaceAuthUiEvent;
-
-    const/4 v2, 0x2
-
-    invoke-virtual {p0, v2, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
-
-    iget-object p0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mStrongAuthTracker:Lcom/android/keyguard/KeyguardUpdateMonitor$StrongAuthTracker;
-
-    invoke-virtual {p0, v0}, Lcom/android/keyguard/KeyguardUpdateMonitor$StrongAuthTracker;->onStrongAuthRequiredChanged(I)V
-
-    return-void
-.end method
-
-.method public final registerCallback(Lcom/android/keyguard/KeyguardUpdateMonitorCallback;)V
-    .locals 2
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsDispatching:Z
-
-    if-nez v0, :cond_0
+    if-nez v0, :cond_0
 
     invoke-super {p0, p1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->registerCallback(Lcom/android/keyguard/KeyguardUpdateMonitorCallback;)V
 
@@ -12508,11 +12477,26 @@
 .method public final sendFingerprintSALog(Ljava/lang/String;)V
     .locals 1
 
-    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
+    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
+
+    if-eqz v0, :cond_0
+
+    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsSkipFPResponse:Z
+
+    if-eqz v0, :cond_0
 
+    const-string p0, "KeyguardFingerprint"
+
+    const-string p1, "Skip FP response logging"
+
+    invoke-static {p0, p1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+
+    :cond_0
     iget-boolean v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mDeviceInteractive:Z
 
-    if-nez v0, :cond_0
+    if-nez v0, :cond_1
 
     const-string p0, "301"
 
@@ -12520,10 +12504,10 @@
 
     goto :goto_0
 
-    :cond_0
+    :cond_1
     iget-boolean p0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
 
-    if-eqz p0, :cond_1
+    if-eqz p0, :cond_2
 
     const-string p0, "102"
 
@@ -12531,7 +12515,7 @@
 
     goto :goto_0
 
-    :cond_1
+    :cond_2
     const-string p0, "101"
 
     const-string v0, "1096"
@@ -12571,25 +12555,8 @@
 
     invoke-static {v1, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v0, :cond_0
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mKeyguardShowing:Z
-
-    if-nez v0, :cond_0
-
-    if-eqz p1, :cond_0
-
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
-
-    iget-object v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mWaitingFocusRunnable:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;
-
-    const-wide/16 v2, 0x1f4
-
-    invoke-virtual {v0, v1, v2, v3}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_0
     iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mBackgroundExecutor:Ljava/util/concurrent/Executor;
 
     new-instance v7, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda13;
@@ -12910,8 +12877,6 @@
 
     const-string v1, "KeyguardUpdateMonitor"
 
-    const/4 v2, 0x1
-
     if-eqz p2, :cond_2
 
     iget-boolean p2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mHasFocus:Z
@@ -12925,7 +12890,9 @@
     return-void
 
     :cond_0
-    iput-boolean v2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mHasFocus:Z
+    const/4 p2, 0x1
+
+    iput-boolean p2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mHasFocus:Z
 
     :cond_1
     iput p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFocusWindow:I
@@ -12935,7 +12902,7 @@
     :cond_2
     iget-boolean p2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mHasFocus:Z
 
-    if-eqz p2, :cond_7
+    if-eqz p2, :cond_6
 
     iget p2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFocusWindow:I
 
@@ -12979,7 +12946,7 @@
 
     iget-boolean p1, p1, Lcom/android/systemui/keyguard/DisplayLifecycle;->mIsFolderOpened:Z
 
-    if-eqz p1, :cond_7
+    if-eqz p1, :cond_6
 
     :cond_4
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isKeyguardVisible()Z
@@ -12990,33 +12957,14 @@
 
     iget-boolean p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
 
-    if-eqz p1, :cond_7
-
-    :cond_5
-    sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
     if-eqz p1, :cond_6
 
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFingerprintOptionEnabled()Z
-
-    move-result p1
-
-    if-eqz p1, :cond_6
-
-    iget-object p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
-
-    new-instance p2, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;
-
-    invoke-direct {p2, p0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;-><init>(Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;I)V
-
-    invoke-virtual {p1, p2}, Landroid/os/Handler;->post(Ljava/lang/Runnable;)Z
-
-    :cond_6
+    :cond_5
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFaceOptionEnabled()Z
 
     move-result p1
 
-    if-eqz p1, :cond_7
+    if-eqz p1, :cond_6
 
     iget-object p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
 
@@ -13028,104 +12976,7 @@
 
     invoke-virtual {p1, p2}, Landroid/os/Handler;->post(Ljava/lang/Runnable;)Z
 
-    :cond_7
-    return-void
-.end method
-
-.method public final setFodStrictMode(Z)V
-    .locals 4
-
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v0, :cond_2
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFODStrictMode:Z
-
-    if-eq v0, p1, :cond_2
-
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mStrongAuthTracker:Lcom/android/keyguard/KeyguardUpdateMonitor$StrongAuthTracker;
-
-    iget-object v1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mUserTracker:Lcom/android/systemui/settings/UserTracker;
-
-    check-cast v1, Lcom/android/systemui/settings/UserTrackerImpl;
-
-    invoke-virtual {v1}, Lcom/android/systemui/settings/UserTrackerImpl;->getUserId()I
-
-    move-result v1
-
-    invoke-virtual {v0, v1}, Lcom/android/internal/widget/LockPatternUtils$StrongAuthTracker;->getStrongAuthForUser(I)I
-
-    move-result v0
-
-    if-eqz p1, :cond_0
-
-    iget-object v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFingerPrintBadQualityCounts:Landroid/util/SparseIntArray;
-
-    iget-object v2, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mUserTracker:Lcom/android/systemui/settings/UserTracker;
-
-    check-cast v2, Lcom/android/systemui/settings/UserTrackerImpl;
-
-    invoke-virtual {v2}, Lcom/android/systemui/settings/UserTrackerImpl;->getUserId()I
-
-    move-result v2
-
-    const/4 v3, 0x0
-
-    invoke-virtual {v1, v2, v3}, Landroid/util/SparseIntArray;->get(II)I
-
-    move-result v1
-
-    const/16 v2, 0x1e
-
-    if-ge v1, v2, :cond_0
-
-    if-eqz v0, :cond_1
-
-    :cond_0
-    const/4 v3, 0x1
-
-    :cond_1
-    if-eqz v3, :cond_2
-
-    const-string/jumbo v1, "setFodStrictMode : "
-
-    const-string v2, " strongAuth : "
-
-    const-string v3, " callStack : "
-
-    invoke-static {v1, p1, v2, v0, v3}, Lcom/android/keyguard/KeyguardFMMViewController$$ExternalSyntheticOutline0;->m(Ljava/lang/String;ZLjava/lang/String;ILjava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v0
-
-    const/16 v1, 0xf
-
-    invoke-static {v1}, Landroid/os/Debug;->getCallers(I)Ljava/lang/String;
-
-    move-result-object v1
-
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v0
-
-    sget-object v1, Lcom/android/systemui/log/LogLevel;->DEBUG:Lcom/android/systemui/log/LogLevel;
-
-    const/4 v2, 0x0
-
-    const-string v3, "KeyguardFingerprint"
-
-    invoke-static {v3, v1, v0, v2}, Lcom/android/systemui/keyguard/KeyguardDumpLog;->log(Ljava/lang/String;Lcom/android/systemui/log/LogLevel;Ljava/lang/String;Ljava/lang/Throwable;)V
-
-    iput-boolean p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFODStrictMode:Z
-
-    iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFpm:Landroid/hardware/fingerprint/FingerprintManager;
-
-    if-eqz p0, :cond_2
-
-    invoke-virtual {p0, p1}, Landroid/hardware/fingerprint/FingerprintManager;->semSetFodStrictMode(Z)V
-
-    :cond_2
+    :cond_6
     return-void
 .end method
 
@@ -13253,7 +13104,7 @@
 .end method
 
 .method public final setKeyguardShowing(ZZ)V
-    .locals 5
+    .locals 4
 
     iget-boolean v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mKeyguardOccluded:Z
 
@@ -13288,23 +13139,8 @@
     return-void
 
     :cond_2
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v0, :cond_3
-
-    if-nez v3, :cond_3
-
-    if-eqz p1, :cond_3
-
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
-
-    iget-object v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mWaitingFocusRunnable:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;
-
-    const-wide/16 v3, 0x1f4
-
-    invoke-virtual {v0, v1, v3, v4}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_3
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isKeyguardVisible()Z
 
     move-result v0
@@ -13323,20 +13159,20 @@
 
     sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_BACKGROUND_AUTHENTICATION:Z
 
-    if-eqz p1, :cond_4
+    if-eqz p1, :cond_3
 
-    if-nez p2, :cond_4
+    if-nez p2, :cond_3
 
     iput-boolean v2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFPCanceledByForegroundApp:Z
 
-    :cond_4
-    if-eq v1, v0, :cond_6
+    :cond_3
+    if-eq v1, v0, :cond_5
 
-    if-eqz v1, :cond_5
+    if-eqz v1, :cond_4
 
     iput-boolean v2, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mSecureCameraLaunched:Z
 
-    :cond_5
+    :cond_4
     new-instance p1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda10;
 
     invoke-direct {p1, v1, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda10;-><init>(ZI)V
@@ -13345,35 +13181,35 @@
 
     invoke-virtual {p0, p2, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->dispatchCallback(Ljava/lang/String;Ljava/util/function/Consumer;)V
 
-    :cond_6
-    if-nez v1, :cond_7
+    :cond_5
+    if-nez v1, :cond_6
 
     iget-boolean p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
 
-    if-nez p1, :cond_7
+    if-nez p1, :cond_6
 
     invoke-virtual {p0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->setUnlockingKeyguard(Z)V
 
-    :cond_7
+    :cond_6
     const/4 p1, 0x2
 
     invoke-virtual {p0, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
 
     iget-boolean p2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mKeyguardUnlocking:Z
 
-    if-nez p2, :cond_8
+    if-nez p2, :cond_7
 
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isUnlockCompleted()Z
 
     move-result p2
 
-    if-eqz p2, :cond_8
+    if-eqz p2, :cond_7
 
     sget-object p2, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_KEYGUARD_VISIBILITY_CHANGED:Lcom/android/keyguard/FaceAuthUiEvent;
 
     invoke-virtual {p0, p1, p2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
 
-    :cond_8
+    :cond_7
     return-void
 .end method
 
@@ -13490,64 +13326,25 @@
 .end method
 
 .method public final setPanelExpandingStarted(Z)V
-    .locals 5
-
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
+    .locals 1
 
-    if-eqz v0, :cond_0
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFingerprintOptionEnabled()Z
+    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFaceOptionEnabled()Z
 
     move-result v0
 
     if-eqz v0, :cond_0
 
-    move v0, p1
-
-    goto :goto_0
-
-    :cond_0
-    const/4 v0, 0x0
-
-    :goto_0
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFaceOptionEnabled()Z
-
-    move-result v1
-
-    const/4 v2, 0x2
-
-    if-eqz v1, :cond_1
-
-    if-nez p1, :cond_1
+    if-nez p1, :cond_0
 
     sget-object p1, Lcom/android/keyguard/FaceAuthUiEvent;->FACE_AUTH_UPDATED_QS_FULLY_EXPANDED:Lcom/android/keyguard/FaceAuthUiEvent;
 
-    invoke-virtual {p0, v2, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
-
-    :cond_1
-    iget-boolean p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsPanelExpandingStarted:Z
-
-    if-eq p1, v0, :cond_2
-
-    new-instance p1, Ljava/lang/StringBuilder;
-
-    const-string/jumbo v1, "setPanelExpandingStarted() mIsPanelExpandingStarted = "
-
-    invoke-direct {p1, v1}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
-
-    iget-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsPanelExpandingStarted:Z
-
-    const-string v3, " -> "
-
-    const-string v4, "KeyguardUpdateMonitor"
-
-    invoke-static {p1, v1, v3, v0, v4}, Lcom/android/keyguard/KeyguardCarrierViewController$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ZLjava/lang/String;ZLjava/lang/String;)V
-
-    iput-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsPanelExpandingStarted:Z
+    const/4 v0, 0x2
 
-    invoke-virtual {p0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
+    invoke-virtual {p0, v0, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFaceListeningState(ILcom/android/keyguard/FaceAuthUiEvent;)V
 
-    :cond_2
+    :cond_0
     return-void
 .end method
 
@@ -13574,13 +13371,30 @@
 
     iput-boolean p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsShortcutLaunchInProgress:Z
 
-    sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
+    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    if-eqz p1, :cond_0
+    :cond_0
+    return-void
+.end method
 
-    const/4 p1, 0x2
+.method public final setShowingKeepScreenOnPopup(Z)V
+    .locals 3
 
-    invoke-virtual {p0, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
+    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFingerprintOptionEnabled()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_0
+
+    iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
+
+    new-instance v1, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda12;
+
+    const/4 v2, 0x1
+
+    invoke-direct {v1, p0, p1, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda12;-><init>(Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;ZI)V
+
+    invoke-virtual {v0, v1}, Landroid/os/Handler;->post(Ljava/lang/Runnable;)Z
 
     :cond_0
     return-void
@@ -13693,42 +13507,23 @@
 
     iget-object v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSettingsCallbackForUPSM:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda16;
 
-    iget-object v2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSettingsValueListForPSM:[Landroid/net/Uri;
-
-    invoke-virtual {v0, v1, v2}, Lcom/android/systemui/util/SettingsHelper;->registerCallback(Lcom/android/systemui/util/SettingsHelper$OnChangedCallback;[Landroid/net/Uri;)V
+    iget-object v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSettingsValueListForPSM:[Landroid/net/Uri;
 
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
+    invoke-virtual {v0, v1, v3}, Lcom/android/systemui/util/SettingsHelper;->registerCallback(Lcom/android/systemui/util/SettingsHelper$OnChangedCallback;[Landroid/net/Uri;)V
 
-    if-eqz v0, :cond_0
-
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSettingsHelper:Lcom/android/systemui/util/SettingsHelper;
-
-    iget-object v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mOneHandModeSettingsCallback:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda16;
-
-    const-string v2, "any_screen_running"
-
-    invoke-static {v2}, Landroid/provider/Settings$System;->getUriFor(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v2
-
-    filled-new-array {v2}, [Landroid/net/Uri;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Lcom/android/systemui/util/SettingsHelper;->registerCallback(Lcom/android/systemui/util/SettingsHelper$OnChangedCallback;[Landroid/net/Uri;)V
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_0
     sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_LOCK:Z
 
-    if-nez v0, :cond_1
+    if-nez v0, :cond_0
 
     sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_COVER:Z
 
-    if-nez v1, :cond_1
+    if-nez v1, :cond_0
 
     goto :goto_0
 
-    :cond_1
+    :cond_0
     const-class v1, Lcom/android/systemui/keyguard/DisplayLifecycle;
 
     invoke-static {v1}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
@@ -13772,13 +13567,13 @@
 
     move-result-object v2
 
-    if-nez v2, :cond_2
+    if-nez v2, :cond_1
 
     const/4 v1, 0x0
 
     goto :goto_1
 
-    :cond_2
+    :cond_1
     new-instance v3, Landroid/content/ComponentName;
 
     iget-object v2, v2, Landroid/content/pm/ResolveInfo;->activityInfo:Landroid/content/pm/ActivityInfo;
@@ -13796,7 +13591,7 @@
     :goto_1
     iput-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsKidsModeRunning:Z
 
-    if-eqz v0, :cond_3
+    if-eqz v0, :cond_2
 
     iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mContext:Landroid/content/Context;
 
@@ -13818,7 +13613,7 @@
 
     invoke-virtual {v0, v1, p0}, Landroid/hardware/devicestate/DeviceStateManager;->registerCallback(Ljava/util/concurrent/Executor;Landroid/hardware/devicestate/DeviceStateManager$DeviceStateCallback;)V
 
-    :cond_3
+    :cond_2
     return-void
 .end method
 
@@ -14448,7 +14243,7 @@
 .end method
 
 .method public final shouldListenForFingerprint(Z)Z
-    .locals 13
+    .locals 11
 
     iget-object p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mUserTracker:Lcom/android/systemui/settings/UserTracker;
 
@@ -14470,7 +14265,7 @@
 
     move-result v2
 
-    if-eqz v2, :cond_2a
+    if-eqz v2, :cond_18
 
     iget-boolean v2, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mDeviceInteractive:Z
 
@@ -14654,91 +14449,91 @@
 
     invoke-static {v7, v0, v9, v6, v10}, Lcom/android/keyguard/KeyguardKnoxGuardViewController$$ExternalSyntheticOutline0;->m(Ljava/lang/String;ZLjava/lang/String;ZLjava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v7
+    move-result-object v6
 
-    invoke-virtual {v7, v2}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v2}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
 
-    const-string v9, " , mPrimaryBouncerIsOrWillBeShowing = "
+    const-string v7, " , mPrimaryBouncerIsOrWillBeShowing = "
 
-    invoke-virtual {v7, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    iget-boolean v9, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerIsOrWillBeShowing:Z
+    iget-boolean v7, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerIsOrWillBeShowing:Z
 
-    invoke-virtual {v7, v9}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
 
-    const-string v9, " , mPrimaryBouncerFullyShown = "
+    const-string v7, " , mPrimaryBouncerFullyShown = "
 
-    invoke-virtual {v7, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    iget-boolean v9, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
+    iget-boolean v7, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
 
-    const-string v10, " , mGoingToSleep = "
+    const-string v9, " , mGoingToSleep = "
 
-    const-string v11, " , mSwitchingUser = "
+    const-string v10, " , mSwitchingUser = "
 
-    invoke-static {v7, v9, v10, v5, v11}, Lcom/android/keyguard/KeyguardFaceListenModel$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ZLjava/lang/String;ZLjava/lang/String;)V
+    invoke-static {v6, v7, v9, v5, v10}, Lcom/android/keyguard/KeyguardFaceListenModel$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ZLjava/lang/String;ZLjava/lang/String;)V
 
-    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
 
     const-string v3, " , mIsDreamingForBiometrics = "
 
-    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsDreamingForBiometrics:Z
 
-    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
 
     const-string v3, " , mKeyguardUnlocking = "
 
-    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mKeyguardUnlocking:Z
 
-    const-string v9, " , mKeyguardGoingAway = "
+    const-string v5, " , mKeyguardGoingAway = "
 
-    const-string v10, " , mKeyguardShowing = "
+    const-string v7, " , mKeyguardShowing = "
 
-    invoke-static {v7, v3, v9, v4, v10}, Lcom/android/keyguard/KeyguardFaceListenModel$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ZLjava/lang/String;ZLjava/lang/String;)V
+    invoke-static {v6, v3, v5, v4, v7}, Lcom/android/keyguard/KeyguardFaceListenModel$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ZLjava/lang/String;ZLjava/lang/String;)V
 
     iget-boolean v3, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mKeyguardShowing:Z
 
-    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
 
     const-string v3, " , mKeyguardOccluded = "
 
-    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     iget-boolean v3, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mKeyguardOccluded:Z
 
-    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
 
     const-string v3, " , mSystemReady = "
 
-    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSystemReady:Z
 
-    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
 
     const-string v3, " , mHasFocus = "
 
-    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mHasFocus:Z
 
     const-string v4, "KeyguardFingerprint"
 
-    invoke-static {v7, v3, v4}, Landroidx/appcompat/widget/ActionBarContextView$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ZLjava/lang/String;)V
+    invoke-static {v6, v3, v4}, Landroidx/appcompat/widget/ActionBarContextView$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ZLjava/lang/String;)V
 
-    if-eqz v0, :cond_2a
+    if-eqz v0, :cond_18
 
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->getLockoutBiometricAttemptDeadline()J
 
-    move-result-wide v9
+    move-result-wide v5
 
-    const-wide/16 v11, 0x0
+    const-wide/16 v9, 0x0
 
-    cmp-long v0, v9, v11
+    cmp-long v0, v5, v9
 
     if-lez v0, :cond_7
 
@@ -14751,9 +14546,9 @@
     :cond_7
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->getLockoutAttemptDeadline()J
 
-    move-result-wide v9
+    move-result-wide v5
 
-    cmp-long v0, v9, v11
+    cmp-long v0, v5, v9
 
     if-lez v0, :cond_8
 
@@ -14877,565 +14672,197 @@
     :cond_f
     const-class v3, Lcom/android/systemui/statusbar/policy/SecurityController;
 
-    invoke-static {v3}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
-
-    move-result-object v3
-
-    if-nez v3, :cond_10
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, dependency class destroy)"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_10
-    sget-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_COVER:Z
-
-    if-eqz v3, :cond_11
-
-    iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mForceStartFinger:Z
-
-    if-nez v3, :cond_11
-
-    iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mNeedSubBioAuth:Z
-
-    if-nez v3, :cond_11
-
-    iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mNeedSubWofFpAuth:Z
-
-    if-nez v3, :cond_11
-
-    const-class v3, Lcom/android/systemui/keyguard/DisplayLifecycle;
-
-    invoke-static {v3}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
-
-    move-result-object v3
-
-    check-cast v3, Lcom/android/systemui/keyguard/DisplayLifecycle;
-
-    iget-boolean v3, v3, Lcom/android/systemui/keyguard/DisplayLifecycle;->mIsFolderOpened:Z
-
-    if-nez v3, :cond_11
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, folder is closed )"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_11
-    iget-object v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSettingsHelper:Lcom/android/systemui/util/SettingsHelper;
-
-    invoke-virtual {v3}, Lcom/android/systemui/util/SettingsHelper;->isScreenOffMemoEnabled()Z
-
-    move-result v3
-
-    if-eqz v3, :cond_12
-
-    iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsRunningBlackMemo:Z
-
-    if-eqz v3, :cond_12
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, because Screen off Memo is running. )"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_12
-    invoke-virtual {p0, v8}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isUnlockingWithBiometricAllowed(Z)Z
-
-    move-result v3
-
-    if-nez v3, :cond_13
-
-    if-eqz v2, :cond_13
-
-    iget-boolean v3, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mKeyguardOccluded:Z
-
-    if-eqz v3, :cond_13
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, strong auth with occluded )"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_13
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->is2StepVerification()Z
-
-    move-result v3
-
-    if-eqz v3, :cond_14
-
-    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
-
-    move-result-object v3
-
-    if-eqz v3, :cond_14
-
-    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
-
-    move-result-object v3
-
-    check-cast v3, Lcom/android/systemui/knox/KnoxStateMonitor;
-
-    check-cast v3, Lcom/android/systemui/knox/KnoxStateMonitorImpl;
-
-    invoke-virtual {v3, p1}, Lcom/android/systemui/knox/KnoxStateMonitorImpl;->isDualDarDeviceOwner(I)Z
-
-    move-result v3
-
-    if-eqz v3, :cond_14
-
-    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
-
-    move-result-object v3
-
-    check-cast v3, Lcom/android/systemui/knox/KnoxStateMonitor;
-
-    check-cast v3, Lcom/android/systemui/knox/KnoxStateMonitorImpl;
-
-    invoke-virtual {v3, p1}, Lcom/android/systemui/knox/KnoxStateMonitorImpl;->isDualDarInnerAuthRequired(I)Z
-
-    move-result v3
-
-    if-eqz v3, :cond_14
-
-    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/android/systemui/knox/KnoxStateMonitor;
-
-    check-cast v0, Lcom/android/systemui/knox/KnoxStateMonitorImpl;
-
-    invoke-virtual {v0}, Lcom/android/systemui/knox/KnoxStateMonitorImpl;->getDualDarInnerLockoutAttemptDeadline()J
-
-    move-result-wide v9
-
-    cmp-long v0, v9, v11
-
-    if-lez v0, :cond_14
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, because of lockoutAttemptDeadline of dualdar do inner user )"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_14
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFPCanceledByProximity:Z
-
-    if-eqz v0, :cond_15
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, screen off by proximity)"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_15
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isForgotPasswordView()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_16
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, Showing forgot password view )"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_16
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v0, :cond_29
-
-    sget-object v0, Lcom/android/systemui/noticenter/NotiCenterPlugin;->INSTANCE:Lcom/android/systemui/noticenter/NotiCenterPlugin;
-
-    invoke-virtual {v0}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
-
-    invoke-static {}, Lcom/android/systemui/noticenter/NotiCenterPlugin;->isNotiCenterPluginConnected()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_17
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsNotiStarShown:Z
-
-    if-eqz v0, :cond_17
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
-
-    if-nez v0, :cond_17
-
-    if-eqz v2, :cond_17
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, NotiStar is shown )"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_17
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
-
-    if-nez v0, :cond_18
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsQsFullyExpanded:Z
-
-    if-nez v0, :cond_19
-
-    :cond_18
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFaceWidgetFullScreenMode:Z
-
-    if-eqz v0, :cond_1a
-
-    :cond_19
-    new-instance p1, Ljava/lang/StringBuilder;
-
-    const-string/jumbo v0, "shouldListenForFingerprint ( return false, because mIsQsFullyExpanded = "
-
-    invoke-direct {p1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsQsFullyExpanded:Z
-
-    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
-
-    const-string v0, ", or mIsFaceWidgetFullScreen="
-
-    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    iget-boolean p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFaceWidgetFullScreenMode:Z
-
-    invoke-virtual {p1, p0}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
-
-    const-string p0, " )"
-
-    invoke-virtual {p1, p0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object p0
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_1a
-    invoke-virtual {p0, v8}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isUnlockingWithBiometricAllowed(Z)Z
-
-    move-result v0
-
-    if-nez v0, :cond_1b
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, strong auth with in-display fingerprint)"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_1b
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsShortcutLaunchInProgress:Z
-
-    if-eqz v0, :cond_1c
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, shortcut preview is showing )"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_1c
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
-
-    if-nez v0, :cond_1d
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsPanelExpandingStarted:Z
-
-    if-eqz v0, :cond_1d
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, quick panel is showing )"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_1d
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSettingsHelper:Lcom/android/systemui/util/SettingsHelper;
-
-    invoke-virtual {v0}, Lcom/android/systemui/util/SettingsHelper;->isOneHandModeRunning()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_1e
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, one hand mode is running)"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_1e
-    iget v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mCocktailBarWindowType:I
-
-    const/4 v3, 0x2
-
-    if-ne v0, v3, :cond_1f
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, the cocktail bar is expanded)"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_1f
-    if-eqz v2, :cond_20
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsDreamingForBiometrics:Z
-
-    if-nez v0, :cond_20
-
-    if-eqz v6, :cond_20
-
-    invoke-virtual {p0, p1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->getUserHasTrust(I)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_20
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, getUserHasTrust() is true)"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_20
-    invoke-static {}, Landroid/os/Process;->myUserHandle()Landroid/os/UserHandle;
-
-    move-result-object v0
-
-    invoke-virtual {v0}, Landroid/os/UserHandle;->getIdentifier()I
-
-    move-result v0
-
-    if-eqz v0, :cond_21
-
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, this process is for the sub-user)"
-
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    return v1
-
-    :cond_21
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
-
-    const-string v3, "KeyguardUpdateMonitor"
-
-    if-nez v0, :cond_22
+    invoke-static {v3}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    iget-boolean v6, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsDynamicLockViewMode:Z
+    move-result-object v3
 
-    if-eqz v6, :cond_22
+    if-nez v3, :cond_10
 
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, DynamicLockViewMode"
+    const-string/jumbo p0, "shouldListenForFingerprint ( return false, dependency class destroy)"
 
-    invoke-static {v3, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     return v1
 
-    :cond_22
-    if-eqz v0, :cond_23
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSIPShown:Z
-
-    if-eqz v0, :cond_23
+    :cond_10
+    sget-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_COVER:Z
 
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, SIP is showing )"
+    if-eqz v3, :cond_11
 
-    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mForceStartFinger:Z
 
-    return v1
+    if-nez v3, :cond_11
 
-    :cond_23
-    if-eqz v2, :cond_24
+    iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mNeedSubBioAuth:Z
 
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mKeyguardShowing:Z
+    if-nez v3, :cond_11
 
-    if-eqz v0, :cond_24
+    iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mNeedSubWofFpAuth:Z
 
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mHasFocus:Z
+    if-nez v3, :cond_11
 
-    if-nez v0, :cond_24
+    const-class v3, Lcom/android/systemui/keyguard/DisplayLifecycle;
 
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
+    invoke-static {v3}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    iget-object v2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mWaitingFocusRunnable:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticLambda8;
+    move-result-object v3
 
-    invoke-virtual {v0, v2}, Landroid/os/Handler;->hasCallbacks(Ljava/lang/Runnable;)Z
+    check-cast v3, Lcom/android/systemui/keyguard/DisplayLifecycle;
 
-    move-result v0
+    iget-boolean v3, v3, Lcom/android/systemui/keyguard/DisplayLifecycle;->mIsFolderOpened:Z
 
-    if-nez v0, :cond_24
+    if-nez v3, :cond_11
 
-    if-nez v5, :cond_24
+    const-string/jumbo p0, "shouldListenForFingerprint ( return false, folder is closed )"
 
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mDesktopManagerLazy:Ldagger/Lazy;
+    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    invoke-interface {v0}, Ldagger/Lazy;->get()Ljava/lang/Object;
+    return v1
 
-    move-result-object v0
+    :cond_11
+    iget-object v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSettingsHelper:Lcom/android/systemui/util/SettingsHelper;
 
-    check-cast v0, Lcom/android/systemui/util/DesktopManager;
+    invoke-virtual {v3}, Lcom/android/systemui/util/SettingsHelper;->isScreenOffMemoEnabled()Z
 
-    check-cast v0, Lcom/android/systemui/util/DesktopManagerImpl;
+    move-result v3
 
-    invoke-virtual {v0}, Lcom/android/systemui/util/DesktopManagerImpl;->isDualView()Z
+    if-eqz v3, :cond_12
 
-    move-result v0
+    iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsRunningBlackMemo:Z
 
-    if-nez v0, :cond_24
+    if-eqz v3, :cond_12
 
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, Not focus on NotificationShade )"
+    const-string/jumbo p0, "shouldListenForFingerprint ( return false, because Screen off Memo is running. )"
 
     invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     return v1
 
-    :cond_24
-    invoke-virtual {p0, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->getFaceAuthenticated(I)Z
+    :cond_12
+    sget-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
 
-    move-result p1
+    if-eqz v3, :cond_13
 
-    if-eqz p1, :cond_25
+    iget-boolean v3, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsShowingKeepScreenOnPopup:Z
+
+    if-eqz v3, :cond_13
 
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, Face authenticated)"
+    const-string/jumbo p0, "shouldListenForFingerprint ( return false, because keep screen on popup is showing. )"
 
     invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     return v1
 
-    :cond_25
-    iget-object p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mDesktopManagerLazy:Ldagger/Lazy;
+    :cond_13
+    invoke-virtual {p0, v8}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isUnlockingWithBiometricAllowed(Z)Z
 
-    invoke-interface {p1}, Ldagger/Lazy;->get()Ljava/lang/Object;
+    move-result v3
 
-    move-result-object p1
+    if-nez v3, :cond_14
 
-    check-cast p1, Lcom/android/systemui/util/DesktopManager;
+    if-eqz v2, :cond_14
 
-    check-cast p1, Lcom/android/systemui/util/DesktopManagerImpl;
+    iget-boolean v2, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mKeyguardOccluded:Z
 
-    invoke-virtual {p1}, Lcom/android/systemui/util/DesktopManagerImpl;->isDualView()Z
+    if-eqz v2, :cond_14
 
-    move-result p1
+    const-string/jumbo p0, "shouldListenForFingerprint ( return false, strong auth with occluded )"
 
-    if-eqz p1, :cond_28
+    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    iget-boolean p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mPrimaryBouncerFullyShown:Z
+    return v1
 
-    if-eqz p1, :cond_26
+    :cond_14
+    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->is2StepVerification()Z
 
-    goto :goto_5
+    move-result v2
 
-    :cond_26
-    :try_start_0
-    iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mWindowManagerService:Landroid/view/IWindowManager;
+    if-eqz v2, :cond_15
 
-    invoke-interface {p0}, Landroid/view/IWindowManager;->getVisibleWindowInfoList()Ljava/util/List;
+    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    move-result-object p0
+    move-result-object v2
 
-    invoke-interface {p0}, Ljava/util/List;->iterator()Ljava/util/Iterator;
+    if-eqz v2, :cond_15
 
-    move-result-object p0
+    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    :cond_27
-    invoke-interface {p0}, Ljava/util/Iterator;->hasNext()Z
+    move-result-object v2
 
-    move-result p1
+    check-cast v2, Lcom/android/systemui/knox/KnoxStateMonitor;
 
-    if-eqz p1, :cond_28
+    check-cast v2, Lcom/android/systemui/knox/KnoxStateMonitorImpl;
 
-    invoke-interface {p0}, Ljava/util/Iterator;->next()Ljava/lang/Object;
+    invoke-virtual {v2, p1}, Lcom/android/systemui/knox/KnoxStateMonitorImpl;->isDualDarDeviceOwner(I)Z
 
-    move-result-object p1
+    move-result v2
 
-    check-cast p1, Lcom/samsung/android/view/SemWindowManager$VisibleWindowInfo;
+    if-eqz v2, :cond_15
 
-    iget v0, p1, Lcom/samsung/android/view/SemWindowManager$VisibleWindowInfo;->type:I
+    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    const/16 v2, 0x7d9
+    move-result-object v2
 
-    if-ne v0, v2, :cond_27
+    check-cast v2, Lcom/android/systemui/knox/KnoxStateMonitor;
 
-    new-instance p0, Ljava/lang/StringBuilder;
+    check-cast v2, Lcom/android/systemui/knox/KnoxStateMonitorImpl;
 
-    invoke-direct {p0}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-virtual {v2, p1}, Lcom/android/systemui/knox/KnoxStateMonitorImpl;->isDualDarInnerAuthRequired(I)Z
 
-    const-string v0, "hasPopupOnDualView "
+    move-result p1
 
-    invoke-virtual {p0, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    if-eqz p1, :cond_15
 
-    iget-object p1, p1, Lcom/samsung/android/view/SemWindowManager$VisibleWindowInfo;->name:Ljava/lang/String;
+    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    invoke-virtual {p0, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    move-result-object p1
 
-    const-string p1, " is showing"
+    check-cast p1, Lcom/android/systemui/knox/KnoxStateMonitor;
 
-    invoke-virtual {p0, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    check-cast p1, Lcom/android/systemui/knox/KnoxStateMonitorImpl;
 
-    invoke-virtual {p0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p1}, Lcom/android/systemui/knox/KnoxStateMonitorImpl;->getDualDarInnerLockoutAttemptDeadline()J
 
-    move-result-object p0
+    move-result-wide v2
 
-    invoke-static {v3, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_0
-    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_1
-    .catch Ljava/lang/NullPointerException; {:try_start_0 .. :try_end_0} :catch_0
+    cmp-long p1, v2, v9
 
-    move p0, v8
+    if-lez p1, :cond_15
 
-    goto :goto_6
+    const-string/jumbo p0, "shouldListenForFingerprint ( return false, because of lockoutAttemptDeadline of dualdar do inner user )"
 
-    :catch_0
-    move-exception p0
+    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    invoke-virtual {p0}, Ljava/lang/NullPointerException;->toString()Ljava/lang/String;
+    return v1
 
-    move-result-object p0
+    :cond_15
+    iget-boolean p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsFPCanceledByProximity:Z
 
-    invoke-static {v3, p0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    if-eqz p1, :cond_16
 
-    goto :goto_5
+    const-string/jumbo p0, "shouldListenForFingerprint ( return false, screen off by proximity)"
 
-    :catch_1
-    move-exception p0
+    invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    const-string p1, "Fail to check windows by RemoteException"
+    return v1
 
-    invoke-static {v3, p1, p0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :cond_16
+    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isForgotPasswordView()Z
 
-    :cond_28
-    :goto_5
-    move p0, v1
+    move-result p0
 
-    :goto_6
-    if-eqz p0, :cond_29
+    if-eqz p0, :cond_17
 
-    const-string/jumbo p0, "shouldListenForFingerprint ( return false, Popup showing on Dex dual view )"
+    const-string/jumbo p0, "shouldListenForFingerprint ( return false, Showing forgot password view )"
 
     invoke-static {v4, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     return v1
 
-    :cond_29
+    :cond_17
     return v8
 
-    :cond_2a
+    :cond_18
     return v1
 .end method
 
@@ -15945,7 +15372,7 @@
 .end method
 
 .method public final stopListeningForFingerprint()V
-    .locals 2
+    .locals 3
 
     const-string v0, "KeyguardUpdateMonitor"
 
@@ -15968,8 +15395,29 @@
 
     invoke-virtual {p0, v0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->setFingerprintRunningState(I)V
 
-    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
+    sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
+
+    if-eqz v1, :cond_1
+
+    iget-boolean v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsSkipFPResponse:Z
+
+    if-eqz v1, :cond_1
+
+    iget-object v1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
+
+    iget-object v2, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mTimeoutSkipFPResponse:Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$1;
+
+    invoke-virtual {v1, v2}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V
+
+    iput-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsSkipFPResponse:Z
+
+    const-string p0, "KeyguardFingerprint"
+
+    const-string/jumbo v0, "skip FP response canceled by stopListeningForFingerprint"
+
+    invoke-static {p0, v0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
+    :cond_1
     return-void
 .end method
 
@@ -16738,7 +16186,7 @@
 .end method
 
 .method public final updateFingerprintListeningState(I)V
-    .locals 6
+    .locals 5
 
     iget-object v0, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mHandler:Lcom/android/keyguard/KeyguardUpdateMonitor$15;
 
@@ -16763,67 +16211,59 @@
 
     const/4 v3, 0x1
 
-    if-eq v2, v3, :cond_2
+    if-eq v2, v3, :cond_1
 
     const/4 v4, 0x3
 
-    if-ne v2, v4, :cond_1
-
-    goto :goto_0
+    if-ne v2, v4, :cond_2
 
     :cond_1
-    move v2, v0
-
-    goto :goto_1
+    move v0, v3
 
     :cond_2
-    :goto_0
-    move v2, v3
-
-    :goto_1
-    new-instance v4, Ljava/lang/StringBuilder;
+    new-instance v2, Ljava/lang/StringBuilder;
 
-    const-string/jumbo v5, "updateFingerprintListeningState#mFingerprintRunningState="
+    const-string/jumbo v4, "updateFingerprintListeningState#mFingerprintRunningState="
 
-    invoke-direct {v4, v5}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
+    invoke-direct {v2, v4}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
 
-    iget v5, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mFingerprintRunningState:I
+    iget v4, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mFingerprintRunningState:I
 
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v5, " shouldListenForFingerprint="
+    const-string v4, " shouldListenForFingerprint="
 
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v4, v1}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+    invoke-virtual {v2, v1}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
 
-    const-string v5, " isUdfpsEnrolled=false bioType : "
+    const-string v4, " isUdfpsEnrolled=false bioType : "
 
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    iget-object v5, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mUserTracker:Lcom/android/systemui/settings/UserTracker;
+    iget-object v4, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mUserTracker:Lcom/android/systemui/settings/UserTracker;
 
-    check-cast v5, Lcom/android/systemui/settings/UserTrackerImpl;
+    check-cast v4, Lcom/android/systemui/settings/UserTrackerImpl;
 
-    invoke-virtual {v5}, Lcom/android/systemui/settings/UserTrackerImpl;->getUserId()I
+    invoke-virtual {v4}, Lcom/android/systemui/settings/UserTrackerImpl;->getUserId()I
 
-    move-result v5
+    move-result v4
 
-    invoke-virtual {p0, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->getBiometricType(I)I
+    invoke-virtual {p0, v4}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->getBiometricType(I)I
 
-    move-result v5
+    move-result v4
 
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v4
+    move-result-object v2
 
-    const-string v5, "KeyguardFingerprint"
+    const-string v4, "KeyguardFingerprint"
 
-    invoke-static {v5, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-static {v4, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    if-eqz v2, :cond_4
+    if-eqz v0, :cond_4
 
     if-nez v1, :cond_4
 
@@ -16840,10 +16280,10 @@
 
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->stopListeningForFingerprint()V
 
-    goto :goto_2
+    goto :goto_0
 
     :cond_4
-    if-nez v2, :cond_6
+    if-nez v0, :cond_6
 
     if-eqz v1, :cond_6
 
@@ -16856,71 +16296,19 @@
 
     invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->startListeningForFingerprint()V
 
-    goto :goto_2
+    goto :goto_0
 
     :cond_6
-    if-nez v2, :cond_7
+    if-nez v0, :cond_7
 
     if-nez v1, :cond_7
 
-    sget-object p1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
+    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     :cond_7
-    :goto_2
-    sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz p1, :cond_a
-
-    if-nez v1, :cond_8
-
-    goto :goto_3
-
-    :cond_8
-    iget-boolean p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mDeviceInteractive:Z
-
-    if-eqz p1, :cond_9
-
-    iget-boolean p1, p0, Lcom/android/keyguard/KeyguardUpdateMonitor;->mGoingToSleep:Z
-
-    if-nez p1, :cond_9
-
-    iget-boolean p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mIsDreamingForBiometrics:Z
-
-    if-nez p1, :cond_9
-
-    move v0, v3
-
-    :cond_9
-    xor-int/lit8 p1, v0, 0x1
-
-    iget v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFpInDisplayState:I
-
-    if-eq v0, p1, :cond_a
-
-    iget-object v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFpm:Landroid/hardware/fingerprint/FingerprintManager;
-
-    if-eqz v0, :cond_a
-
-    new-instance v0, Ljava/lang/StringBuilder;
-
-    const-string v1, "mFpInDisplayState is changed : "
-
-    invoke-direct {v0, v1}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
-
-    iget v1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFpInDisplayState:I
-
-    const-string v2, " -> "
-
-    invoke-static {v0, v1, v2, p1, v5}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ILjava/lang/String;ILjava/lang/String;)V
-
-    iput p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFpInDisplayState:I
-
-    iget-object p0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mFpm:Landroid/hardware/fingerprint/FingerprintManager;
-
-    invoke-virtual {p0, p1}, Landroid/hardware/fingerprint/FingerprintManager;->semSetScreenStatus(I)I
+    :goto_0
+    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    :cond_a
-    :goto_3
     return-void
 .end method
 
@@ -17241,35 +16629,6 @@
     return-void
 .end method
 
-.method public final updateSIPShownState(Z)V
-    .locals 2
-
-    iget-boolean v0, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSIPShown:Z
-
-    if-eq v0, p1, :cond_0
-
-    const-string/jumbo v0, "updateSIPShownState : "
-
-    const-string v1, "KeyguardUpdateMonitor"
-
-    invoke-static {v0, p1, v1}, Lcom/android/keyguard/KeyguardCarrierPasswordViewController$$ExternalSyntheticOutline0;->m(Ljava/lang/String;ZLjava/lang/String;)V
-
-    iput-boolean p1, p0, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->mSIPShown:Z
-
-    invoke-virtual {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->isFingerprintOptionEnabled()Z
-
-    move-result p1
-
-    if-eqz p1, :cond_0
-
-    const/4 p1, 0x2
-
-    invoke-virtual {p0, p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitorImpl;->updateFingerprintListeningState(I)V
-
-    :cond_0
-    return-void
-.end method
-
 .method public final updateSecureLockTimeout(I)Z
     .locals 8
 
diff --git a/smali/com/android/keyguard/KeyguardTextBuilder.smali b/smali/com/android/keyguard/KeyguardTextBuilder.smali
index b137ac4d9..04661a4ea 100644
--- a/smali/com/android/keyguard/KeyguardTextBuilder.smali
+++ b/smali/com/android/keyguard/KeyguardTextBuilder.smali
@@ -580,9 +580,7 @@
     goto :goto_a
 
     :cond_e
-    sget-boolean v2, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-nez v2, :cond_f
+    sget-object v2, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     iget-boolean v2, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFingerprint:Z
 
@@ -1337,7 +1335,7 @@
     :goto_3
     iput-boolean v2, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFace:Z
 
-    if-nez p1, :cond_d
+    if-nez p1, :cond_b
 
     if-eqz v6, :cond_4
 
@@ -1357,98 +1355,64 @@
     :goto_4
     iput-boolean p1, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFingerprint:Z
 
-    sget-boolean v2, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v2, :cond_6
-
-    if-eqz p1, :cond_5
-
-    invoke-virtual {v1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFingerprintDetectionRunning()Z
+    sget-object p1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    move-result p1
-
-    if-eqz p1, :cond_5
-
-    move p1, v4
-
-    goto :goto_5
-
-    :cond_5
-    move p1, v3
-
-    :goto_5
-    iput-boolean p1, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFingerprint:Z
-
-    :cond_6
     invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->is2StepVerification()Z
 
     move-result p1
 
-    if-eqz p1, :cond_7
+    if-eqz p1, :cond_5
 
     invoke-virtual {v1, v0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->getUserUnlockedWithBiometric(I)Z
 
     move-result p1
 
-    if-eqz p1, :cond_7
+    if-eqz p1, :cond_5
 
     iput-boolean v3, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFingerprint:Z
 
-    :cond_7
+    :cond_5
     invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isCameraDisabledByPolicy()Z
 
     move-result p1
 
-    if-nez p1, :cond_b
+    if-nez p1, :cond_9
 
     invoke-virtual {v1, v0}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFaceDisabled(I)Z
 
     move-result p1
 
-    if-eqz p1, :cond_8
+    if-eqz p1, :cond_6
 
     goto :goto_6
 
-    :cond_8
+    :cond_6
     iget-boolean p1, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFace:Z
 
-    if-nez p1, :cond_9
-
-    if-eqz v2, :cond_a
-
-    const-class p1, Lcom/android/systemui/util/SettingsHelper;
-
-    invoke-static {p1}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
+    if-nez p1, :cond_7
 
-    move-result-object p1
-
-    check-cast p1, Lcom/android/systemui/util/SettingsHelper;
-
-    invoke-virtual {p1}, Lcom/android/systemui/util/SettingsHelper;->isOneHandModeRunning()Z
-
-    move-result p1
-
-    if-eqz p1, :cond_a
+    goto :goto_5
 
-    :cond_9
+    :cond_7
     invoke-virtual {v1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFaceDetectionRunning()Z
 
     move-result p1
 
-    if-eqz p1, :cond_a
+    if-eqz p1, :cond_8
 
     move v3, v4
 
-    :cond_a
+    :cond_8
+    :goto_5
     iput-boolean v3, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFace:Z
 
     goto :goto_7
 
-    :cond_b
+    :cond_9
     :goto_6
     iget-boolean p1, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFace:Z
 
-    if-eqz p1, :cond_c
+    if-eqz p1, :cond_a
 
     invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->getFaceStrongBiometric()Z
 
@@ -1458,24 +1422,24 @@
 
     move-result p1
 
-    if-eqz p1, :cond_c
+    if-eqz p1, :cond_a
 
     move v3, v4
 
-    :cond_c
+    :cond_a
     iput-boolean v3, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFace:Z
 
-    :cond_d
+    :cond_b
     :goto_7
     iget-boolean p1, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFingerprint:Z
 
     const-string/jumbo v0, "none"
 
-    if-eqz p1, :cond_e
+    if-eqz p1, :cond_c
 
     iget-boolean v2, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFace:Z
 
-    if-eqz v2, :cond_e
+    if-eqz v2, :cond_c
 
     sget-object p1, Lcom/android/keyguard/KeyguardTextBuilder$Biometric;->MultiBiometrics:Lcom/android/keyguard/KeyguardTextBuilder$Biometric;
 
@@ -1487,8 +1451,8 @@
 
     goto :goto_8
 
-    :cond_e
-    if-eqz p1, :cond_f
+    :cond_c
+    if-eqz p1, :cond_d
 
     sget-object p1, Lcom/android/keyguard/KeyguardTextBuilder$Biometric;->Fingerprint:Lcom/android/keyguard/KeyguardTextBuilder$Biometric;
 
@@ -1500,10 +1464,10 @@
 
     goto :goto_8
 
-    :cond_f
+    :cond_d
     iget-boolean p1, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mIsFace:Z
 
-    if-eqz p1, :cond_10
+    if-eqz p1, :cond_e
 
     sget-object p1, Lcom/android/keyguard/KeyguardTextBuilder$Biometric;->Face:Lcom/android/keyguard/KeyguardTextBuilder$Biometric;
 
@@ -1515,7 +1479,7 @@
 
     goto :goto_8
 
-    :cond_10
+    :cond_e
     iput-object v0, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mBiometricType:Ljava/lang/String;
 
     :goto_8
@@ -1523,7 +1487,7 @@
 
     move-result p1
 
-    if-eqz p1, :cond_14
+    if-eqz p1, :cond_12
 
     sget-object p1, Lcom/android/keyguard/KeyguardTextBuilder$2;->$SwitchMap$com$android$keyguard$KeyguardConstants$KeyguardDismissActionType:[I
 
@@ -1537,21 +1501,21 @@
 
     aget p1, p1, v1
 
-    if-eq p1, v4, :cond_13
+    if-eq p1, v4, :cond_11
 
     const/4 v1, 0x2
 
-    if-eq p1, v1, :cond_12
+    if-eq p1, v1, :cond_10
 
     const/4 v1, 0x3
 
-    if-eq p1, v1, :cond_11
+    if-eq p1, v1, :cond_f
 
     iput-object v0, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mDismissActionType:Ljava/lang/String;
 
     goto :goto_9
 
-    :cond_11
+    :cond_f
     sget-object p1, Lcom/android/keyguard/KeyguardTextBuilder$DismissActionType;->FingerPrintError:Lcom/android/keyguard/KeyguardTextBuilder$DismissActionType;
 
     invoke-virtual {p1}, Lcom/android/keyguard/KeyguardTextBuilder$DismissActionType;->getType()Ljava/lang/String;
@@ -1562,7 +1526,7 @@
 
     goto :goto_9
 
-    :cond_12
+    :cond_10
     sget-object p1, Lcom/android/keyguard/KeyguardTextBuilder$DismissActionType;->Reboot:Lcom/android/keyguard/KeyguardTextBuilder$DismissActionType;
 
     invoke-virtual {p1}, Lcom/android/keyguard/KeyguardTextBuilder$DismissActionType;->getType()Ljava/lang/String;
@@ -1573,7 +1537,7 @@
 
     goto :goto_9
 
-    :cond_13
+    :cond_11
     sget-object p1, Lcom/android/keyguard/KeyguardTextBuilder$DismissActionType;->ShutDown:Lcom/android/keyguard/KeyguardTextBuilder$DismissActionType;
 
     invoke-virtual {p1}, Lcom/android/keyguard/KeyguardTextBuilder$DismissActionType;->getType()Ljava/lang/String;
@@ -1584,16 +1548,16 @@
 
     goto :goto_9
 
-    :cond_14
+    :cond_12
     invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isForgotPasswordView()Z
 
     move-result p1
 
-    if-eqz p1, :cond_15
+    if-eqz p1, :cond_13
 
     const-string/jumbo v0, "prev"
 
-    :cond_15
+    :cond_13
     iput-object v0, p0, Lcom/android/keyguard/KeyguardTextBuilder;->mDismissActionType:Ljava/lang/String;
 
     :goto_9
diff --git a/smali/com/android/keyguard/SecLockIconViewController$3.smali b/smali/com/android/keyguard/SecLockIconViewController$3.smali
index c898b5ed5..55c724b46 100644
--- a/smali/com/android/keyguard/SecLockIconViewController$3.smali
+++ b/smali/com/android/keyguard/SecLockIconViewController$3.smali
@@ -60,9 +60,7 @@
 .method public final onLockModeChanged()V
     .locals 1
 
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-nez v0, :cond_0
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     iget-object p0, p0, Lcom/android/keyguard/SecLockIconViewController$3;->this$0:Lcom/android/keyguard/SecLockIconViewController;
 
diff --git a/smali/com/android/keyguard/SecurityUtils.smali b/smali/com/android/keyguard/SecurityUtils.smali
index a42cf286b..87ac76148 100644
--- a/smali/com/android/keyguard/SecurityUtils.smali
+++ b/smali/com/android/keyguard/SecurityUtils.smali
@@ -41,7 +41,7 @@
 .end method
 
 .method public static calculateLandscapeViewWidth(ILandroid/content/Context;)I
-    .locals 2
+    .locals 1
 
     invoke-virtual {p1}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
@@ -53,36 +53,23 @@
 
     move-result p1
 
-    mul-int/lit8 v0, p1, 0x2
-
-    sub-int v0, p0, v0
-
-    div-int/lit8 v0, v0, 0x2
-
-    const-class v1, Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-static {v1}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
-
-    move-result-object v1
-
-    check-cast v1, Lcom/android/keyguard/KeyguardUpdateMonitor;
+    mul-int/lit8 p1, p1, 0x2
 
-    invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
+    sub-int/2addr p0, p1
 
-    move-result v1
+    div-int/lit8 p0, p0, 0x2
 
-    if-eqz v1, :cond_0
+    const-class p1, Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    sub-int/2addr p0, p1
+    invoke-static {p1}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    sget p1, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
+    move-result-object p1
 
-    sub-int/2addr p0, p1
+    check-cast p1, Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    div-int/lit8 v0, p0, 0x2
+    invoke-interface {p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    :cond_0
-    return v0
+    return p0
 .end method
 
 .method public static checkFullscreenBouncer(Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;)Z
diff --git a/smali/com/android/keyguard/StrongAuthPopup.smali b/smali/com/android/keyguard/StrongAuthPopup.smali
index bd268ccdc..a9048dc77 100644
--- a/smali/com/android/keyguard/StrongAuthPopup.smali
+++ b/smali/com/android/keyguard/StrongAuthPopup.smali
@@ -297,34 +297,6 @@
     return-void
 .end method
 
-.method public final getNavigationBarSize()I
-    .locals 1
-
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_NAVBAR_ENABLED:Z
-
-    if-eqz v0, :cond_0
-
-    iget-object p0, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
-
-    invoke-virtual {p0}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
-
-    move-result-object p0
-
-    const v0, 0x1050255
-
-    invoke-virtual {p0, v0}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result p0
-
-    goto :goto_0
-
-    :cond_0
-    const/4 p0, 0x0
-
-    :goto_0
-    return p0
-.end method
-
 .method public final onApplyWindowInsets(Landroid/view/View;Landroid/view/WindowInsets;)Landroid/view/WindowInsets;
     .locals 0
 
@@ -393,7 +365,7 @@
 
     if-eqz v1, :cond_0
 
-    goto/16 :goto_23
+    goto/16 :goto_1f
 
     :cond_0
     iput v0, p0, Lcom/android/keyguard/StrongAuthPopup;->mRotation:I
@@ -436,9 +408,9 @@
 
     const/4 v8, 0x3
 
-    const/4 v9, 0x0
+    const/4 v9, 0x1
 
-    const/4 v10, 0x1
+    const/4 v10, 0x0
 
     const/4 v11, 0x2
 
@@ -469,12 +441,12 @@
 
     if-ne v4, v6, :cond_2
 
-    move v4, v10
+    move v4, v9
 
     goto :goto_0
 
     :cond_2
-    move v4, v9
+    move v4, v10
 
     :goto_0
     invoke-static {v3, v4}, Lcom/android/keyguard/SecurityUtils;->getMainSecurityViewFlipperSize(Landroid/content/Context;Z)I
@@ -484,20 +456,20 @@
     goto :goto_3
 
     :cond_3
-    if-eq v0, v10, :cond_5
+    if-eq v0, v9, :cond_5
 
     if-ne v0, v8, :cond_4
 
     goto :goto_1
 
     :cond_4
-    move v3, v9
+    move v3, v10
 
     goto :goto_2
 
     :cond_5
     :goto_1
-    move v3, v10
+    move v3, v9
 
     :goto_2
     if-eqz v3, :cond_6
@@ -524,27 +496,29 @@
 
     iput v3, v2, Landroid/view/WindowManager$LayoutParams;->height:I
 
-    iput v10, v2, Landroid/view/WindowManager$LayoutParams;->layoutInDisplayCutoutMode:I
+    iput v9, v2, Landroid/view/WindowManager$LayoutParams;->layoutInDisplayCutoutMode:I
 
-    if-eq v0, v10, :cond_8
+    if-eq v0, v9, :cond_8
 
     if-ne v0, v8, :cond_7
 
     goto :goto_4
 
     :cond_7
-    move v3, v9
+    move v3, v10
 
     goto :goto_5
 
     :cond_8
     :goto_4
-    move v3, v10
+    move v3, v9
 
     :goto_5
-    sget-object v4, Lcom/android/keyguard/SecurityUtils;->sImeHeight:[I
+    const v4, 0x1050255
+
+    sget-object v6, Lcom/android/keyguard/SecurityUtils;->sImeHeight:[I
 
-    const/16 v6, 0x50
+    const/16 v12, 0x50
 
     if-eqz v3, :cond_11
 
@@ -564,12 +538,12 @@
 
     if-ne v3, v7, :cond_9
 
-    move v3, v10
+    move v3, v9
 
     goto :goto_6
 
     :cond_9
-    move v3, v9
+    move v3, v10
 
     :goto_6
     const/16 v7, 0x10
@@ -580,28 +554,28 @@
 
     if-eqz v3, :cond_c
 
-    if-eq v0, v10, :cond_b
+    if-eq v0, v9, :cond_b
 
     if-ne v0, v8, :cond_a
 
     goto :goto_7
 
     :cond_a
-    move v3, v9
+    move v3, v10
 
     goto :goto_8
 
     :cond_b
     :goto_7
-    move v3, v10
+    move v3, v9
 
     :goto_8
-    aget v3, v4, v3
+    aget v3, v6, v3
 
     goto :goto_9
 
     :cond_c
-    move v3, v9
+    move v3, v10
 
     :goto_9
     if-eqz v3, :cond_d
@@ -609,39 +583,39 @@
     goto :goto_a
 
     :cond_d
-    move v6, v7
+    move v12, v7
 
     :goto_a
-    iput v6, v2, Landroid/view/WindowManager$LayoutParams;->gravity:I
+    iput v12, v2, Landroid/view/WindowManager$LayoutParams;->gravity:I
 
     if-eqz v3, :cond_e
 
-    iget-object v4, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
+    iget-object v6, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
 
-    invoke-virtual {v4}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    invoke-virtual {v6}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v4
+    move-result-object v6
 
-    invoke-virtual {v4, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v6, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v4
+    move-result v5
 
-    add-int/2addr v4, v3
+    add-int/2addr v5, v3
 
     goto :goto_b
 
     :cond_e
-    move v4, v9
+    move v5, v10
 
     :goto_b
-    iput v4, v2, Landroid/view/WindowManager$LayoutParams;->y:I
+    iput v5, v2, Landroid/view/WindowManager$LayoutParams;->y:I
 
     goto :goto_c
 
     :cond_f
     iput v7, v2, Landroid/view/WindowManager$LayoutParams;->gravity:I
 
-    iput v9, v2, Landroid/view/WindowManager$LayoutParams;->y:I
+    iput v10, v2, Landroid/view/WindowManager$LayoutParams;->y:I
 
     :goto_c
     iget v3, v2, Landroid/view/WindowManager$LayoutParams;->gravity:I
@@ -650,21 +624,33 @@
 
     iput v3, v2, Landroid/view/WindowManager$LayoutParams;->gravity:I
 
-    if-ne v0, v10, :cond_10
+    if-ne v0, v9, :cond_10
+
+    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_NAVBAR_ENABLED:Z
+
+    if-eqz v0, :cond_10
 
-    invoke-virtual {p0}, Lcom/android/keyguard/StrongAuthPopup;->getNavigationBarSize()I
+    iget-object p0, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
 
-    move-result v9
+    invoke-virtual {p0}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+
+    move-result-object p0
+
+    invoke-virtual {p0, v4}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+
+    move-result p0
+
+    move v10, p0
 
     :cond_10
-    iput v9, v2, Landroid/view/WindowManager$LayoutParams;->x:I
+    iput v10, v2, Landroid/view/WindowManager$LayoutParams;->x:I
 
-    goto/16 :goto_22
+    goto/16 :goto_1e
 
     :cond_11
-    iput v6, v2, Landroid/view/WindowManager$LayoutParams;->gravity:I
+    iput v12, v2, Landroid/view/WindowManager$LayoutParams;->gravity:I
 
-    iput v9, v2, Landroid/view/WindowManager$LayoutParams;->x:I
+    iput v10, v2, Landroid/view/WindowManager$LayoutParams;->x:I
 
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
@@ -676,27 +662,7 @@
 
     move-result-object v3
 
-    sget-boolean v5, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v5, :cond_12
-
-    iget-object v5, p0, Lcom/android/keyguard/StrongAuthPopup;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-virtual {v5}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFingerprintDetectionRunning()Z
-
-    move-result v5
-
-    if-eqz v5, :cond_12
-
-    sget v5, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    goto :goto_d
-
-    :cond_12
-    move v5, v9
-
-    :goto_d
-    sget-object v6, Lcom/android/keyguard/StrongAuthPopup$3;->$SwitchMap$com$android$keyguard$KeyguardSecurityModel$SecurityMode:[I
+    sget-object v5, Lcom/android/keyguard/StrongAuthPopup$3;->$SwitchMap$com$android$keyguard$KeyguardSecurityModel$SecurityMode:[I
 
     iget-object v7, p0, Lcom/android/keyguard/StrongAuthPopup;->mSecurityMode:Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;
 
@@ -704,230 +670,220 @@
 
     move-result v7
 
-    aget v6, v6, v7
+    aget v5, v5, v7
 
     const v7, 0x7f070408
 
     const v12, 0x7f070407
 
-    if-eq v6, v10, :cond_24
+    if-eq v5, v9, :cond_22
 
-    if-eq v6, v11, :cond_19
+    if-eq v5, v11, :cond_17
 
-    if-eq v6, v8, :cond_13
+    if-eq v5, v8, :cond_12
 
-    goto/16 :goto_21
+    goto/16 :goto_1d
+
+    :cond_12
+    if-eqz v0, :cond_13
+
+    const p0, 0x7f07050a
+
+    goto :goto_d
 
     :cond_13
+    const p0, 0x7f070509
+
+    :goto_d
+    invoke-virtual {v3, p0}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+
+    move-result p0
+
     if-eqz v0, :cond_14
 
-    const v4, 0x7f07050a
+    const v4, 0x7f07050c
 
     goto :goto_e
 
     :cond_14
-    const v4, 0x7f070509
+    const v4, 0x7f07050b
 
     :goto_e
     invoke-virtual {v3, v4}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v4
 
-    if-eqz v0, :cond_15
+    add-int/2addr v4, p0
 
-    const v6, 0x7f07050c
+    if-eqz v0, :cond_15
 
     goto :goto_f
 
     :cond_15
-    const v6, 0x7f07050b
+    move v7, v12
 
     :goto_f
-    invoke-virtual {v3, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v3, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v6
+    move-result p0
 
-    add-int/2addr v6, v4
+    if-eqz v0, :cond_16
 
-    if-eqz v5, :cond_16
+    const v0, 0x7f070508
 
-    invoke-virtual {p0}, Lcom/android/keyguard/StrongAuthPopup;->getNavigationBarSize()I
+    goto :goto_10
 
-    move-result p0
+    :cond_16
+    const v0, 0x7f070507
 
-    goto/16 :goto_1c
+    :goto_10
+    invoke-virtual {v3, v0}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    :cond_16
-    if-eqz v0, :cond_17
+    move-result v0
 
-    goto :goto_10
+    goto/16 :goto_1c
 
     :cond_17
-    move v7, v12
+    iget-boolean v5, p0, Lcom/android/keyguard/StrongAuthPopup;->mIsSIPVisible:Z
 
-    :goto_10
-    invoke-virtual {v3, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    if-eqz v5, :cond_1a
 
-    move-result p0
+    iget v5, p0, Lcom/android/keyguard/StrongAuthPopup;->mRotation:I
 
-    if-eqz v0, :cond_18
+    if-eq v5, v9, :cond_19
 
-    const v0, 0x7f070508
+    if-ne v5, v8, :cond_18
 
     goto :goto_11
 
     :cond_18
-    const v0, 0x7f070507
-
-    :goto_11
-    invoke-virtual {v3, v0}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result v0
-
-    goto/16 :goto_1f
+    move v9, v10
 
     :cond_19
-    iget-boolean v6, p0, Lcom/android/keyguard/StrongAuthPopup;->mIsSIPVisible:Z
-
-    if-eqz v6, :cond_1c
-
-    iget v6, p0, Lcom/android/keyguard/StrongAuthPopup;->mRotation:I
-
-    if-eq v6, v10, :cond_1b
-
-    if-ne v6, v8, :cond_1a
+    :goto_11
+    aget v5, v6, v9
 
     goto :goto_12
 
     :cond_1a
-    move v10, v9
+    move v5, v10
 
-    :cond_1b
     :goto_12
-    aget v4, v4, v10
-
-    goto :goto_13
-
-    :cond_1c
-    move v4, v9
-
-    :goto_13
-    if-eqz v0, :cond_1d
+    if-eqz v0, :cond_1b
 
     const v6, 0x7f070538
 
-    goto :goto_14
+    goto :goto_13
 
-    :cond_1d
+    :cond_1b
     const v6, 0x7f070537
 
-    :goto_14
+    :goto_13
     invoke-virtual {v3, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v6
 
-    if-eqz v0, :cond_1e
+    if-eqz v0, :cond_1c
 
     const v8, 0x7f070535
 
-    goto :goto_15
+    goto :goto_14
 
-    :cond_1e
+    :cond_1c
     const v8, 0x7f070534
 
-    :goto_15
+    :goto_14
     invoke-virtual {v3, v8}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v8
 
     add-int/2addr v8, v6
 
-    if-eqz v0, :cond_1f
+    if-eqz v0, :cond_1d
 
     const v6, 0x7f07053f
 
-    goto :goto_16
+    goto :goto_15
 
-    :cond_1f
+    :cond_1d
     const v6, 0x7f0704ff
 
-    :goto_16
+    :goto_15
     invoke-virtual {v3, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v6
 
     add-int/2addr v6, v8
 
-    if-eqz v5, :cond_20
-
-    invoke-virtual {p0}, Lcom/android/keyguard/StrongAuthPopup;->getNavigationBarSize()I
-
-    move-result v0
-
-    sub-int/2addr v5, v0
-
-    goto :goto_19
-
-    :cond_20
-    if-eqz v0, :cond_21
+    if-eqz v0, :cond_1e
 
-    goto :goto_17
+    goto :goto_16
 
-    :cond_21
+    :cond_1e
     move v7, v12
 
-    :goto_17
+    :goto_16
     invoke-virtual {v3, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v5
+    move-result v7
 
-    if-eqz v0, :cond_22
+    if-eqz v0, :cond_1f
 
     const v0, 0x7f070501
 
-    goto :goto_18
+    goto :goto_17
 
-    :cond_22
+    :cond_1f
     const v0, 0x7f070500
 
-    :goto_18
+    :goto_17
     invoke-virtual {v3, v0}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v0
 
-    add-int/2addr v5, v0
+    add-int/2addr v0, v7
 
-    :goto_19
-    add-int/2addr v6, v5
+    add-int/2addr v0, v6
 
-    if-eqz v4, :cond_23
+    if-eqz v5, :cond_21
 
-    invoke-virtual {p0}, Lcom/android/keyguard/StrongAuthPopup;->getNavigationBarSize()I
+    sget-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_NAVBAR_ENABLED:Z
 
-    move-result p0
+    if-eqz v3, :cond_20
 
-    sub-int v9, v4, p0
+    iget-object p0, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
 
-    :cond_23
-    add-int/2addr v9, v6
+    invoke-virtual {p0}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    goto :goto_21
+    move-result-object p0
 
-    :cond_24
-    if-eqz v0, :cond_25
+    invoke-virtual {p0, v4}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+
+    move-result v10
 
-    iget-object v4, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
+    :cond_20
+    sub-int v10, v5, v10
 
-    invoke-static {v4}, Lcom/android/keyguard/SecurityUtils;->getTabletPINContainerHeight(Landroid/content/Context;)I
+    :cond_21
+    add-int/2addr v10, v0
 
-    move-result v4
+    goto :goto_1d
 
-    goto :goto_1a
+    :cond_22
+    if-eqz v0, :cond_23
 
-    :cond_25
+    iget-object p0, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
+
+    invoke-static {p0}, Lcom/android/keyguard/SecurityUtils;->getTabletPINContainerHeight(Landroid/content/Context;)I
+
+    move-result p0
+
+    goto :goto_18
+
+    :cond_23
     sget-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_LOCK:Z
 
-    if-eqz v4, :cond_26
+    if-eqz v4, :cond_24
 
     const-class v4, Lcom/android/systemui/keyguard/DisplayLifecycle;
 
@@ -939,90 +895,77 @@
 
     iget-boolean v4, v4, Lcom/android/systemui/keyguard/DisplayLifecycle;->mIsFolderOpened:Z
 
-    if-eqz v4, :cond_26
-
-    iget-object v4, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
+    if-eqz v4, :cond_24
 
-    invoke-static {v4}, Lcom/android/keyguard/SecurityUtils;->getFoldPINContainerHeight(Landroid/content/Context;)I
-
-    move-result v4
-
-    goto :goto_1a
-
-    :cond_26
-    iget-object v4, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
+    iget-object p0, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
 
-    invoke-static {v4}, Lcom/android/keyguard/SecurityUtils;->getPINContainerHeight(Landroid/content/Context;)I
+    invoke-static {p0}, Lcom/android/keyguard/SecurityUtils;->getFoldPINContainerHeight(Landroid/content/Context;)I
 
-    move-result v4
-
-    :goto_1a
-    if-eqz v0, :cond_27
+    move-result p0
 
-    const v6, 0x7f070512
+    goto :goto_18
 
-    goto :goto_1b
+    :cond_24
+    iget-object p0, p0, Lcom/android/keyguard/StrongAuthPopup;->mContext:Landroid/content/Context;
 
-    :cond_27
-    const v6, 0x7f070511
+    invoke-static {p0}, Lcom/android/keyguard/SecurityUtils;->getPINContainerHeight(Landroid/content/Context;)I
 
-    :goto_1b
-    invoke-virtual {v3, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    move-result p0
 
-    move-result v6
+    :goto_18
+    if-eqz v0, :cond_25
 
-    add-int/2addr v6, v4
+    const v4, 0x7f070512
 
-    if-eqz v5, :cond_28
+    goto :goto_19
 
-    invoke-virtual {p0}, Lcom/android/keyguard/StrongAuthPopup;->getNavigationBarSize()I
+    :cond_25
+    const v4, 0x7f070511
 
-    move-result p0
+    :goto_19
+    invoke-virtual {v3, v4}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    :goto_1c
-    sub-int/2addr v5, p0
+    move-result v4
 
-    goto :goto_20
+    add-int/2addr v4, p0
 
-    :cond_28
-    if-eqz v0, :cond_29
+    if-eqz v0, :cond_26
 
-    goto :goto_1d
+    goto :goto_1a
 
-    :cond_29
+    :cond_26
     move v7, v12
 
-    :goto_1d
+    :goto_1a
     invoke-virtual {v3, v7}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result p0
 
-    if-eqz v0, :cond_2a
+    if-eqz v0, :cond_27
 
     const v0, 0x7f070514
 
-    goto :goto_1e
+    goto :goto_1b
 
-    :cond_2a
+    :cond_27
     const v0, 0x7f070513
 
-    :goto_1e
+    :goto_1b
     invoke-virtual {v3, v0}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v0
 
-    :goto_1f
-    add-int v5, v0, p0
+    :goto_1c
+    add-int/2addr v0, p0
 
-    :goto_20
-    add-int v9, v6, v5
+    add-int v10, v0, v4
 
-    :goto_21
-    iput v9, v2, Landroid/view/WindowManager$LayoutParams;->y:I
+    :goto_1d
+    iput v10, v2, Landroid/view/WindowManager$LayoutParams;->y:I
 
-    :goto_22
+    :goto_1e
     invoke-virtual {v1, v2}, Landroid/view/Window;->setAttributes(Landroid/view/WindowManager$LayoutParams;)V
 
-    :goto_23
+    :goto_1f
     return-void
 .end method
diff --git a/smali/com/android/keyguard/biometrics/KeyguardBiometricViewController.smali b/smali/com/android/keyguard/biometrics/KeyguardBiometricViewController.smali
index 91990abc0..ab1098f0b 100644
--- a/smali/com/android/keyguard/biometrics/KeyguardBiometricViewController.smali
+++ b/smali/com/android/keyguard/biometrics/KeyguardBiometricViewController.smali
@@ -533,7 +533,7 @@
 .end method
 
 .method public final needsToChangeRetryButton()Z
-    .locals 3
+    .locals 2
 
     iget-object v0, p0, Lcom/android/keyguard/biometrics/KeyguardBiometricViewController;->biometricRetryIcon:Lcom/android/systemui/widget/SystemUIImageView;
 
@@ -549,8 +549,6 @@
 
     move-result v0
 
-    const/4 v2, 0x1
-
     if-eqz v0, :cond_1
 
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
@@ -572,40 +570,15 @@
     if-eqz p0, :cond_2
 
     :cond_0
-    :goto_0
-    move v1, v2
+    const/4 v1, 0x1
 
-    goto :goto_1
+    goto :goto_0
 
     :cond_1
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v0, :cond_2
-
-    iget-object v0, p0, Lcom/android/keyguard/biometrics/KeyguardBiometricViewController;->keyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-interface {v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isFingerprintOptionEnabled()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_2
-
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
-
-    move-result-object p0
-
-    const v0, 0x7f050067
-
-    invoke-virtual {p0, v0}, Landroid/content/res/Resources;->getBoolean(I)Z
-
-    move-result p0
-
-    if-eqz p0, :cond_2
-
-    goto :goto_0
+    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     :cond_2
-    :goto_1
+    :goto_0
     return v1
 .end method
 
@@ -978,534 +951,453 @@
 .end method
 
 .method public final updateBiometricViewLayout()V
-    .locals 16
-
-    move-object/from16 v0, p0
+    .locals 15
 
-    iget-object v1, v0, Lcom/android/keyguard/biometrics/KeyguardBiometricViewController;->keyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
+    iget-object v0, p0, Lcom/android/keyguard/biometrics/KeyguardBiometricViewController;->keyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->getCurrentSecurityMode()Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;
+    invoke-interface {v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->getCurrentSecurityMode()Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;
 
-    move-result-object v2
+    move-result-object v1
 
-    sget-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_SWIPE_BOUNCER:Z
+    sget-boolean v2, Lcom/android/systemui/LsRune;->SECURITY_SWIPE_BOUNCER:Z
 
-    if-eqz v3, :cond_0
+    if-eqz v2, :cond_0
 
-    sget-object v3, Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;->Swipe:Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;
+    sget-object v2, Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;->Swipe:Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;
 
-    if-ne v2, v3, :cond_0
+    if-ne v1, v2, :cond_0
 
-    iget-object v0, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object p0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast p0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    const/16 v1, 0x8
+    const/16 v0, 0x8
 
-    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V
+    invoke-virtual {p0, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V
 
     return-void
 
     :cond_0
-    sget-object v3, Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;->Password:Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;
+    sget-object v2, Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;->Password:Lcom/android/keyguard/KeyguardSecurityModel$SecurityMode;
 
-    const/4 v4, 0x0
+    const/4 v3, 0x0
 
-    const/4 v5, 0x1
+    const/4 v4, 0x1
 
-    if-ne v2, v3, :cond_1
+    if-ne v1, v2, :cond_1
 
-    move v2, v5
+    move v1, v4
 
     goto :goto_0
 
     :cond_1
-    move v2, v4
+    move v1, v3
 
     :goto_0
-    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
+    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v3
+    move-result-object v2
 
-    const v6, 0x7f0704fb
+    const v5, 0x7f0704fb
 
-    invoke-virtual {v3, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {v2, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v3
+    move-result v2
 
-    new-instance v12, Landroidx/constraintlayout/widget/ConstraintSet;
+    new-instance v11, Landroidx/constraintlayout/widget/ConstraintSet;
 
-    invoke-direct {v12}, Landroidx/constraintlayout/widget/ConstraintSet;-><init>()V
+    invoke-direct {v11}, Landroidx/constraintlayout/widget/ConstraintSet;-><init>()V
 
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v5, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v5, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getId()I
+    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getId()I
 
-    move-result v6
+    move-result v5
 
-    sget-boolean v13, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_LOCK:Z
+    sget-boolean v12, Lcom/android/systemui/LsRune;->SECURITY_SUB_DISPLAY_LOCK:Z
 
-    if-eqz v13, :cond_3
+    if-eqz v12, :cond_3
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    move-result-object v7
+    move-result-object v6
 
-    invoke-virtual {v7}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    invoke-virtual {v6}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v7
+    move-result-object v6
 
-    invoke-virtual {v7}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
+    invoke-virtual {v6}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
 
-    move-result-object v7
+    move-result-object v6
 
-    iget v7, v7, Landroid/content/res/Configuration;->semDisplayDeviceType:I
+    iget v6, v6, Landroid/content/res/Configuration;->semDisplayDeviceType:I
 
-    if-nez v7, :cond_2
+    if-nez v6, :cond_2
 
-    move v7, v5
+    move v6, v4
 
     goto :goto_1
 
     :cond_2
-    move v7, v4
+    move v6, v3
 
     :goto_1
-    if-eqz v7, :cond_3
+    if-eqz v6, :cond_3
 
     invoke-static {}, Lcom/android/systemui/util/DeviceState;->isSmartViewFitToActiveDisplay()Z
 
-    move-result v7
+    move-result v6
 
-    if-nez v7, :cond_3
+    if-nez v6, :cond_3
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    move-result-object v7
+    move-result-object v6
 
-    invoke-static {v7, v2}, Lcom/android/keyguard/SecurityUtils;->getMainSecurityViewFlipperSize(Landroid/content/Context;Z)I
+    invoke-static {v6, v1}, Lcom/android/keyguard/SecurityUtils;->getMainSecurityViewFlipperSize(Landroid/content/Context;Z)I
 
-    move-result v7
+    move-result v1
 
     goto :goto_2
 
     :cond_3
-    move v7, v4
+    move v1, v3
 
     :goto_2
-    invoke-virtual {v12, v6, v7}, Landroidx/constraintlayout/widget/ConstraintSet;->constrainWidth(II)V
+    invoke-virtual {v11, v5, v1}, Landroidx/constraintlayout/widget/ConstraintSet;->constrainWidth(II)V
 
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v1, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getId()I
+    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getId()I
 
-    move-result v6
+    move-result v1
 
-    const/4 v14, -0x2
+    const/4 v13, -0x2
 
-    invoke-virtual {v12, v6, v14}, Landroidx/constraintlayout/widget/ConstraintSet;->constrainHeight(II)V
+    invoke-virtual {v11, v1, v13}, Landroidx/constraintlayout/widget/ConstraintSet;->constrainHeight(II)V
 
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v1, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getId()I
+    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getId()I
 
-    move-result v7
+    move-result v6
 
-    const/4 v8, 0x6
+    const/4 v7, 0x6
 
-    const/4 v9, 0x0
+    const/4 v8, 0x0
 
-    const/4 v10, 0x6
+    const/4 v9, 0x6
 
-    const/4 v11, 0x0
+    const/4 v10, 0x0
 
-    move-object v6, v12
+    move-object v5, v11
 
-    invoke-virtual/range {v6 .. v11}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIIII)V
+    invoke-virtual/range {v5 .. v10}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIIII)V
 
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v1, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getId()I
+    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getId()I
 
-    move-result v6
+    move-result v1
 
-    const/4 v15, 0x7
+    const/4 v14, 0x7
 
-    invoke-virtual {v12, v6, v15, v4, v15}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
+    invoke-virtual {v11, v1, v14, v3, v14}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
 
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v1, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getId()I
+    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getId()I
 
-    move-result v6
+    move-result v1
 
-    const/4 v7, 0x3
+    const/4 v5, 0x3
 
-    invoke-virtual {v12, v6, v7, v4, v7}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
+    invoke-virtual {v11, v1, v5, v3, v5}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
 
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v1, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v6, v4, v4, v4, v4}, Landroid/widget/FrameLayout;->setPadding(IIII)V
+    invoke-virtual {v1, v3, v3, v3, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V
 
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v1, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    iget-object v6, v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;->defaultDisplay:Landroid/view/Display;
+    iget-object v1, v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;->defaultDisplay:Landroid/view/Display;
 
-    invoke-virtual {v6}, Landroid/view/Display;->getRotation()I
+    invoke-virtual {v1}, Landroid/view/Display;->getRotation()I
 
-    move-result v6
+    move-result v1
 
-    invoke-static {v6}, Lcom/android/systemui/util/DeviceState;->getRotation(I)I
+    invoke-static {v1}, Lcom/android/systemui/util/DeviceState;->getRotation(I)I
 
-    move-result v6
+    move-result v1
 
-    invoke-static {v6}, Lcom/android/systemui/util/DeviceState;->getRotation(I)I
+    invoke-static {v1}, Lcom/android/systemui/util/DeviceState;->getRotation(I)I
 
-    move-result v11
+    move-result v1
 
-    if-eq v11, v5, :cond_4
+    if-eq v1, v4, :cond_4
 
-    if-eq v11, v7, :cond_4
+    if-eq v1, v5, :cond_4
 
-    iget-object v1, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getId()I
+    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getId()I
 
-    move-result v7
+    move-result v6
 
-    const/4 v8, 0x6
+    const/4 v7, 0x6
 
-    const/4 v9, 0x0
+    const/4 v8, 0x0
 
-    const/4 v10, 0x6
+    const/4 v9, 0x6
 
-    const/4 v11, 0x0
+    const/4 v10, 0x0
 
-    move-object v6, v12
+    move-object v5, v11
 
-    invoke-virtual/range {v6 .. v11}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIIII)V
+    invoke-virtual/range {v5 .. v10}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIIII)V
 
-    iget-object v1, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getId()I
+    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getId()I
 
-    move-result v1
+    move-result v0
 
-    invoke-virtual {v12, v1, v15, v4, v15}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
+    invoke-virtual {v11, v0, v14, v3, v14}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
 
-    iget-object v1, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v1, v4, v4, v4, v4}, Landroid/widget/FrameLayout;->setPadding(IIII)V
+    invoke-virtual {v0, v3, v3, v3, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V
 
-    goto/16 :goto_7
+    goto/16 :goto_5
 
     :cond_4
-    invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isHiddenInputContainer()Z
+    invoke-interface {v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isHiddenInputContainer()Z
 
-    move-result v6
+    move-result v1
 
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
-    move-result v8
-
-    if-nez v8, :cond_f
+    move-result v5
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    if-nez v5, :cond_8
 
-    move-result-object v8
+    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    invoke-static {v8}, Lcom/android/systemui/util/DeviceState;->shouldEnableKeyguardScreenRotation(Landroid/content/Context;)Z
+    move-result-object v5
 
-    move-result v8
+    invoke-static {v5}, Lcom/android/systemui/util/DeviceState;->shouldEnableKeyguardScreenRotation(Landroid/content/Context;)Z
 
-    if-eqz v8, :cond_f
+    move-result v5
 
-    if-nez v6, :cond_f
+    if-eqz v5, :cond_8
 
-    if-eqz v13, :cond_6
+    if-nez v1, :cond_8
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    if-eqz v12, :cond_6
 
-    move-result-object v6
+    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    invoke-virtual {v6}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    move-result-object v1
 
-    move-result-object v6
+    invoke-virtual {v1}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    invoke-virtual {v6}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
+    move-result-object v1
 
-    move-result-object v6
+    invoke-virtual {v1}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
 
-    iget v6, v6, Landroid/content/res/Configuration;->semDisplayDeviceType:I
+    move-result-object v1
 
-    if-nez v6, :cond_5
+    iget v1, v1, Landroid/content/res/Configuration;->semDisplayDeviceType:I
 
-    move v6, v5
+    if-nez v1, :cond_5
 
     goto :goto_3
 
     :cond_5
-    move v6, v4
+    move v4, v3
 
     :goto_3
-    if-eqz v6, :cond_6
+    if-eqz v4, :cond_6
 
     invoke-static {}, Lcom/android/systemui/util/DeviceState;->isSmartViewFitToActiveDisplay()Z
 
-    move-result v6
+    move-result v1
 
-    if-nez v6, :cond_6
+    if-nez v1, :cond_6
 
-    goto/16 :goto_8
+    goto/16 :goto_6
 
     :cond_6
-    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
+    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v6
+    move-result-object v1
 
-    invoke-virtual {v6}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
+    invoke-virtual {v1}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
 
-    move-result-object v6
+    move-result-object v1
 
-    iget-object v6, v6, Landroid/content/res/Configuration;->windowConfiguration:Landroid/app/WindowConfiguration;
+    iget-object v1, v1, Landroid/content/res/Configuration;->windowConfiguration:Landroid/app/WindowConfiguration;
 
-    invoke-virtual {v6}, Landroid/app/WindowConfiguration;->getBounds()Landroid/graphics/Rect;
+    invoke-virtual {v1}, Landroid/app/WindowConfiguration;->getBounds()Landroid/graphics/Rect;
 
-    move-result-object v6
+    move-result-object v1
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    move-result-object v8
+    move-result-object v4
 
-    invoke-static {v8}, Lcom/android/systemui/util/DeviceState;->shouldEnableKeyguardScreenRotation(Landroid/content/Context;)Z
+    invoke-static {v4}, Lcom/android/systemui/util/DeviceState;->shouldEnableKeyguardScreenRotation(Landroid/content/Context;)Z
 
-    move-result v8
+    move-result v4
 
-    if-eqz v8, :cond_7
+    if-eqz v4, :cond_7
 
-    invoke-virtual {v6}, Landroid/graphics/Rect;->width()I
+    invoke-virtual {v1}, Landroid/graphics/Rect;->width()I
 
-    move-result v6
+    move-result v1
 
     goto :goto_4
 
     :cond_7
-    invoke-virtual {v6}, Landroid/graphics/Rect;->width()I
-
-    move-result v8
+    invoke-virtual {v1}, Landroid/graphics/Rect;->width()I
 
-    invoke-virtual {v6}, Landroid/graphics/Rect;->height()I
+    move-result v4
 
-    move-result v6
-
-    invoke-static {v8, v6}, Ljava/lang/Math;->min(II)I
-
-    move-result v6
-
-    :goto_4
-    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
-
-    move-result-object v8
-
-    const v9, 0x7f070967
-
-    invoke-virtual {v8, v9}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result v8
-
-    sget v9, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
+    invoke-virtual {v1}, Landroid/graphics/Rect;->height()I
 
     move-result v1
 
-    if-eqz v1, :cond_c
+    invoke-static {v4, v1}, Ljava/lang/Math;->min(II)I
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
+    move-result v1
 
-    move-result-object v10
+    :goto_4
+    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
-    invoke-virtual {v10}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
+    move-result-object v4
 
-    move-result-object v10
+    const v5, 0x7f070967
 
-    invoke-virtual {v10}, Landroid/content/res/Configuration;->getLayoutDirection()I
+    invoke-virtual {v4, v5}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
     move-result v10
 
-    if-ne v10, v5, :cond_8
-
-    move v10, v5
-
-    goto :goto_5
-
-    :cond_8
-    move v10, v4
-
-    :goto_5
-    if-nez v10, :cond_9
+    invoke-interface {v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    if-eq v11, v7, :cond_a
-
-    :cond_9
-    if-eqz v10, :cond_b
-
-    if-ne v11, v5, :cond_b
+    iget-object v0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    :cond_a
-    sub-int/2addr v9, v8
+    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    goto :goto_6
+    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getId()I
 
-    :cond_b
-    move v9, v4
+    move-result v0
 
-    :goto_6
-    add-int/2addr v8, v9
+    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
 
-    :cond_c
-    move v13, v8
+    move-result-object v4
 
-    iget-object v7, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    invoke-static {v1, v4}, Lcom/android/keyguard/SecurityUtils;->calculateLandscapeViewWidth(ILandroid/content/Context;)I
 
-    check-cast v7, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    move-result v1
 
-    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getId()I
+    invoke-virtual {v11, v0, v1}, Landroidx/constraintlayout/widget/ConstraintSet;->constrainWidth(II)V
 
-    move-result v7
+    iget-object v0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
+    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    move-result-object v8
+    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getId()I
 
-    invoke-static {v6, v8}, Lcom/android/keyguard/SecurityUtils;->calculateLandscapeViewWidth(ILandroid/content/Context;)I
+    move-result v0
 
-    move-result v6
+    invoke-virtual {v11, v0, v13}, Landroidx/constraintlayout/widget/ConstraintSet;->constrainHeight(II)V
 
-    invoke-virtual {v12, v7, v6}, Landroidx/constraintlayout/widget/ConstraintSet;->constrainWidth(II)V
+    iget-object v0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getId()I
 
-    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getId()I
+    move-result v0
 
-    move-result v6
+    const/4 v1, -0x1
 
-    invoke-virtual {v12, v6, v14}, Landroidx/constraintlayout/widget/ConstraintSet;->constrainHeight(II)V
+    invoke-virtual {v11, v0, v14, v1, v14}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
 
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getId()I
+    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getId()I
 
     move-result v6
 
-    const/4 v7, -0x1
-
-    invoke-virtual {v12, v6, v15, v7, v15}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIII)V
-
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
-
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
-
-    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getId()I
-
-    move-result v7
-
-    const/4 v8, 0x6
-
-    const/4 v9, 0x0
-
-    const/4 v10, 0x6
-
-    move-object v6, v12
-
-    move v14, v11
-
-    move v11, v13
-
-    invoke-virtual/range {v6 .. v11}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIIII)V
-
-    iget-object v6, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
-
-    check-cast v6, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    const/4 v7, 0x6
 
-    invoke-virtual {v6, v4, v4, v3, v4}, Landroid/widget/FrameLayout;->setPadding(IIII)V
+    const/4 v8, 0x0
 
-    if-eqz v1, :cond_e
+    const/4 v9, 0x6
 
-    if-eqz v2, :cond_e
+    move-object v5, v11
 
-    if-ne v14, v5, :cond_d
+    invoke-virtual/range {v5 .. v10}, Landroidx/constraintlayout/widget/ConstraintSet;->connect(IIIII)V
 
-    iget-object v1, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
-
-    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
-
-    invoke-virtual {v1, v4, v4, v3, v4}, Landroid/widget/FrameLayout;->setPadding(IIII)V
-
-    goto :goto_7
-
-    :cond_d
-    iget-object v1, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    iget-object v0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v1, v3, v4, v4, v4}, Landroid/widget/FrameLayout;->setPadding(IIII)V
+    invoke-virtual {v0, v3, v3, v2, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V
 
-    :cond_e
-    :goto_7
-    iget-object v1, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    :goto_5
+    iget-object v0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v1, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;
+    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;
 
-    move-result-object v1
+    move-result-object v0
 
-    check-cast v1, Landroidx/constraintlayout/widget/ConstraintLayout;
+    check-cast v0, Landroidx/constraintlayout/widget/ConstraintLayout;
 
-    invoke-virtual {v12, v1}, Landroidx/constraintlayout/widget/ConstraintSet;->applyTo(Landroidx/constraintlayout/widget/ConstraintLayout;)V
+    invoke-virtual {v11, v0}, Landroidx/constraintlayout/widget/ConstraintSet;->applyTo(Landroidx/constraintlayout/widget/ConstraintLayout;)V
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/keyguard/biometrics/KeyguardBiometricViewController;->updateLockContainerMargin()V
+    invoke-virtual {p0}, Lcom/android/keyguard/biometrics/KeyguardBiometricViewController;->updateLockContainerMargin()V
 
     return-void
 
-    :cond_f
-    :goto_8
-    iget-object v0, v0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
+    :cond_8
+    :goto_6
+    iget-object p0, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
-    check-cast v0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
+    check-cast p0, Lcom/android/keyguard/biometrics/KeyguardBiometricView;
 
-    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;
+    invoke-virtual {p0}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;
 
-    move-result-object v0
+    move-result-object p0
 
-    check-cast v0, Landroidx/constraintlayout/widget/ConstraintLayout;
+    check-cast p0, Landroidx/constraintlayout/widget/ConstraintLayout;
 
-    invoke-virtual {v12, v0}, Landroidx/constraintlayout/widget/ConstraintSet;->applyTo(Landroidx/constraintlayout/widget/ConstraintLayout;)V
+    invoke-virtual {v11, p0}, Landroidx/constraintlayout/widget/ConstraintSet;->applyTo(Landroidx/constraintlayout/widget/ConstraintLayout;)V
 
     return-void
 .end method
@@ -1608,7 +1500,7 @@
 
     sget-boolean v5, Lcom/android/systemui/LsRune;->SECURITY_BIOMETRICS_TABLET:Z
 
-    if-eqz v5, :cond_5
+    if-eqz v5, :cond_4
 
     iget-object v5, p0, Lcom/android/systemui/util/ViewController;->mView:Landroid/view/View;
 
@@ -1628,11 +1520,11 @@
 
     move-result v5
 
-    if-eqz v5, :cond_4
+    if-eqz v5, :cond_3
 
     const/4 v1, 0x1
 
-    if-eq v5, v1, :cond_2
+    if-eq v5, v1, :cond_1
 
     const/4 v1, 0x2
 
@@ -1640,55 +1532,48 @@
 
     const/4 p0, 0x3
 
-    if-eq v5, p0, :cond_2
+    if-eq v5, p0, :cond_1
 
     goto :goto_0
 
     :cond_0
     iget-object p0, p0, Lcom/android/keyguard/biometrics/KeyguardBiometricViewController;->keyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    invoke-interface {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
-
-    move-result p0
+    invoke-interface {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()V
 
-    if-eqz p0, :cond_1
-
-    sget v0, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    :cond_1
     iput v0, v4, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
 
     goto :goto_0
 
-    :cond_2
-    if-eqz v2, :cond_3
+    :cond_1
+    if-eqz v2, :cond_2
 
     move v0, v2
 
-    :cond_3
+    :cond_2
     iput v0, v4, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
 
     goto :goto_0
 
-    :cond_4
+    :cond_3
     add-int/2addr v0, v1
 
     iput v0, v4, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
 
     goto :goto_0
 
-    :cond_5
+    :cond_4
     iput v0, v4, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
 
     invoke-virtual {p0}, Lcom/android/keyguard/biometrics/KeyguardBiometricViewController;->isLandscape()Z
 
     move-result p0
 
-    if-eqz p0, :cond_6
+    if-eqz p0, :cond_5
 
     const/4 v1, 0x0
 
-    :cond_6
+    :cond_5
     add-int/2addr v0, v1
 
     iput v0, v4, Landroid/widget/LinearLayout$LayoutParams;->topMargin:I
diff --git a/smali/com/android/keyguard/biometrics/KeyguardFingerprintGuidePopup$keyguardUpdateMonitorCallback$1.smali b/smali/com/android/keyguard/biometrics/KeyguardFingerprintGuidePopup$keyguardUpdateMonitorCallback$1.smali
index b7e782363..d6ce4a13b 100644
--- a/smali/com/android/keyguard/biometrics/KeyguardFingerprintGuidePopup$keyguardUpdateMonitorCallback$1.smali
+++ b/smali/com/android/keyguard/biometrics/KeyguardFingerprintGuidePopup$keyguardUpdateMonitorCallback$1.smali
@@ -56,18 +56,18 @@
 
     move-result p3
 
-    const/4 v0, 0x0
+    const/4 v0, 0x2
 
-    const/4 v1, 0x2
+    const/4 v1, 0x0
 
-    if-ne p3, v1, :cond_0
+    if-ne p3, v0, :cond_0
 
     const/4 p3, 0x1
 
     goto :goto_0
 
     :cond_0
-    move p3, v0
+    move p3, v1
 
     :goto_0
     if-eqz p3, :cond_5
@@ -106,7 +106,7 @@
 
     invoke-virtual {p1, p2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V
 
-    invoke-virtual {p1, v0}, Lcom/android/systemui/widget/SystemUITextView;->setVisibility(I)V
+    invoke-virtual {p1, v1}, Lcom/android/systemui/widget/SystemUITextView;->setVisibility(I)V
 
     :cond_1
     invoke-virtual {p0}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;
@@ -117,51 +117,45 @@
 
     move-result p1
 
-    sget p2, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintImageSize:I
-
-    add-int/2addr p1, p2
+    add-int/2addr p1, v1
 
-    div-int/2addr p1, v1
+    div-int/2addr p1, v0
 
     invoke-virtual {p0}, Landroid/widget/FrameLayout;->getResources()Landroid/content/res/Resources;
 
-    move-result-object p3
-
-    const v2, 0x7f07048e
+    move-result-object p2
 
-    invoke-virtual {p3, v2}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    const p3, 0x7f07048e
 
-    move-result p3
+    invoke-virtual {p2, p3}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    add-int/2addr p3, p1
-
-    sget p1, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
+    move-result p2
 
-    sub-int/2addr p1, p2
+    add-int/2addr p2, p1
 
     invoke-virtual {p0}, Landroid/widget/FrameLayout;->getResources()Landroid/content/res/Resources;
 
-    move-result-object p2
+    move-result-object p1
 
-    const v2, 0x7f07048f
+    const p3, 0x7f07048f
 
-    invoke-virtual {p2, v2}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    invoke-virtual {p1, p3}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result p2
+    move-result p1
 
-    add-int/2addr p2, p1
+    add-int/2addr p1, v1
 
-    iget-object p1, p0, Lcom/android/keyguard/biometrics/KeyguardFingerprintGuidePopup;->keyguardGuidePopup:Landroid/view/ViewGroup;
+    iget-object p3, p0, Lcom/android/keyguard/biometrics/KeyguardFingerprintGuidePopup;->keyguardGuidePopup:Landroid/view/ViewGroup;
 
-    if-eqz p1, :cond_2
+    if-eqz p3, :cond_2
 
-    int-to-float p3, p3
+    int-to-float p2, p2
 
-    invoke-virtual {p1, p3}, Landroid/view/ViewGroup;->setTranslationX(F)V
+    invoke-virtual {p3, p2}, Landroid/view/ViewGroup;->setTranslationX(F)V
 
-    int-to-float p2, p2
+    int-to-float p1, p1
 
-    invoke-virtual {p1, p2}, Landroid/view/ViewGroup;->setTranslationY(F)V
+    invoke-virtual {p3, p1}, Landroid/view/ViewGroup;->setTranslationY(F)V
 
     :cond_2
     iget-object p1, p0, Lcom/android/keyguard/biometrics/KeyguardFingerprintGuidePopup;->handler:Landroid/os/Handler;
@@ -200,7 +194,7 @@
     :cond_4
     iget-object p1, p0, Lcom/android/keyguard/biometrics/KeyguardFingerprintGuidePopup;->keyguardGuidePopup:Landroid/view/ViewGroup;
 
-    new-array p2, v1, [F
+    new-array p2, v0, [F
 
     fill-array-data p2, :array_0
 
@@ -237,7 +231,7 @@
     invoke-virtual {p2}, Landroid/animation/AnimatorSet;->start()V
 
     :goto_1
-    invoke-virtual {p0, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V
+    invoke-virtual {p0, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V
 
     iget-object p1, p0, Lcom/android/keyguard/biometrics/KeyguardFingerprintGuidePopup;->handler:Landroid/os/Handler;
 
@@ -256,8 +250,6 @@
     :cond_5
     return-void
 
-    nop
-
     :array_0
     .array-data 4
         0x0
diff --git a/smali/com/android/systemui/LsRune.smali b/smali/com/android/systemui/LsRune.smali
index b2f20a101..067ed63ad 100644
--- a/smali/com/android/systemui/LsRune.smali
+++ b/smali/com/android/systemui/LsRune.smali
@@ -128,9 +128,7 @@
 
 .field public static final SECURITY_FACTORY_RESET_WITHOUT_UI:Z
 
-.field public static final SECURITY_FINGERPRINT_GUIDE_POPUP:Z
-
-.field public static final SECURITY_FINGERPRINT_IN_DISPLAY:Z
+.field public static final SECURITY_FINGERPRINT_SIDE:Z
 
 .field public static final SECURITY_HAPTIC_FEEDBACK_ON_DC_MOTOR:Z
 
@@ -225,7 +223,7 @@
 
 # direct methods
 .method public static constructor <clinit>()V
-    .locals 24
+    .locals 23
 
     const-string v0, "DeviceType"
 
@@ -883,47 +881,47 @@
 
     const/4 v3, 0x1
 
-    sput-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    const/4 v3, 0x0
+    sput-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
 
     sput-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_BACKGROUND_AUTHENTICATION:Z
 
     invoke-static {}, Lcom/samsung/android/feature/SemFloatingFeature;->getInstance()Lcom/samsung/android/feature/SemFloatingFeature;
 
-    move-result-object v4
+    move-result-object v3
 
-    const-string v7, "SEC_FLOATING_FEATURE_LOCKSCREEN_CONFIG_PUNCHHOLE_VI"
+    const-string v4, "SEC_FLOATING_FEATURE_LOCKSCREEN_CONFIG_PUNCHHOLE_VI"
 
-    invoke-virtual {v4, v7}, Lcom/samsung/android/feature/SemFloatingFeature;->getString(Ljava/lang/String;)Ljava/lang/String;
+    invoke-virtual {v3, v4}, Lcom/samsung/android/feature/SemFloatingFeature;->getString(Ljava/lang/String;)Ljava/lang/String;
 
-    move-result-object v4
+    move-result-object v3
 
-    const-string v7, "face"
+    const-string v4, "face"
 
-    invoke-virtual {v4, v7}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v3, v4}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v4
+    move-result v3
 
-    sput-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_PUNCH_HOLE_FACE_VI:Z
+    sput-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_PUNCH_HOLE_FACE_VI:Z
 
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
-    move-result v4
+    move-result v3
 
-    sput-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_BIOMETRICS_TABLET:Z
+    sput-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_BIOMETRICS_TABLET:Z
 
-    const-string v7, "KOR"
+    const-string v3, "KOR"
 
-    filled-new-array {v7}, [Ljava/lang/String;
+    filled-new-array {v3}, [Ljava/lang/String;
 
-    move-result-object v7
+    move-result-object v3
 
-    invoke-static {v3, v7}, Lcom/android/internal/telephony/TelephonyFeatures;->isCountrySpecific(I[Ljava/lang/String;)Z
+    const/4 v4, 0x0
 
-    move-result v7
+    invoke-static {v4, v3}, Lcom/android/internal/telephony/TelephonyFeatures;->isCountrySpecific(I[Ljava/lang/String;)Z
 
-    sput-boolean v7, Lcom/android/systemui/LsRune;->SECURITY_SIM_PERSO_LOCK:Z
+    move-result v3
+
+    sput-boolean v3, Lcom/android/systemui/LsRune;->SECURITY_SIM_PERSO_LOCK:Z
 
     const-string v3, "DisplayUnlockToast"
 
@@ -943,152 +941,150 @@
 
     invoke-virtual {v2, v3}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v7
+    move-result v4
 
-    sput-boolean v7, Lcom/android/systemui/LsRune;->SECURITY_DISAPPEAR_DEFAULT_CARRIER_TEXT:Z
+    sput-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_DISAPPEAR_DEFAULT_CARRIER_TEXT:Z
 
     invoke-virtual {v1, v0}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
+    move-result v4
+
+    sput-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_KOR_USIM_TEXT:Z
+
+    const-string v7, "UseSKTSimText"
+
+    invoke-virtual {v1, v7}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+
     move-result v7
 
-    sput-boolean v7, Lcom/android/systemui/LsRune;->SECURITY_KOR_USIM_TEXT:Z
+    sput-boolean v7, Lcom/android/systemui/LsRune;->SECURITY_SKT_USIM_TEXT:Z
 
-    const-string v8, "UseSKTSimText"
+    const-string v7, "UseKTTSimText"
 
-    invoke-virtual {v1, v8}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v1, v7}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v8
+    move-result v7
 
-    sput-boolean v8, Lcom/android/systemui/LsRune;->SECURITY_SKT_USIM_TEXT:Z
+    sput-boolean v7, Lcom/android/systemui/LsRune;->SECURITY_KTT_USIM_TEXT:Z
 
-    const-string v8, "UseKTTSimText"
+    const-string v7, "UseLGTSimText"
 
-    invoke-virtual {v1, v8}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v1, v7}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
     move-result v8
 
-    sput-boolean v8, Lcom/android/systemui/LsRune;->SECURITY_KTT_USIM_TEXT:Z
+    sput-boolean v8, Lcom/android/systemui/LsRune;->SECURITY_LGU_USIM_TEXT:Z
 
-    const-string v8, "UseLGTSimText"
+    invoke-virtual {v1, v13}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    invoke-virtual {v1, v8}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    move-result v8
 
-    move-result v21
+    sput-boolean v8, Lcom/android/systemui/LsRune;->SECURITY_DCM_USIM_TEXT:Z
 
-    sput-boolean v21, Lcom/android/systemui/LsRune;->SECURITY_LGU_USIM_TEXT:Z
+    const-string v13, "UseKDDISimText"
 
     invoke-virtual {v1, v13}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
     move-result v13
 
-    sput-boolean v13, Lcom/android/systemui/LsRune;->SECURITY_DCM_USIM_TEXT:Z
-
     move-object/from16 v21, v11
 
-    const-string v11, "UseKDDISimText"
+    const-string v11, "UseDefaultPlmnValueFromNetwork"
 
     invoke-virtual {v1, v11}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
     move-result v11
 
-    move-object/from16 v22, v9
-
-    const-string v9, "UseDefaultPlmnValueFromNetwork"
+    sput-boolean v11, Lcom/android/systemui/LsRune;->SECURITY_SPR_USIM_TEXT:Z
 
-    invoke-virtual {v1, v9}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
-
-    move-result v9
+    const-string v11, "UseFixedPlmnValueForUSC"
 
-    sput-boolean v9, Lcom/android/systemui/LsRune;->SECURITY_SPR_USIM_TEXT:Z
-
-    const-string v9, "UseFixedPlmnValueForUSC"
-
-    invoke-virtual {v1, v9}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v1, v11}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    const-string v9, "UseCdmaCardText"
+    const-string v11, "UseCdmaCardText"
 
-    invoke-virtual {v1, v9}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v1, v11}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v9
+    move-result v11
 
-    sput-boolean v9, Lcom/android/systemui/LsRune;->SECURITY_USE_CDMA_CARD_TEXT:Z
+    sput-boolean v11, Lcom/android/systemui/LsRune;->SECURITY_USE_CDMA_CARD_TEXT:Z
 
-    const-string v9, "BlockCarrierTextWhenSimNotReady"
+    const-string v11, "BlockCarrierTextWhenSimNotReady"
 
-    invoke-virtual {v1, v9}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v1, v11}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v23
+    move-result v22
 
-    if-nez v23, :cond_13
+    if-nez v22, :cond_13
 
-    move-object/from16 v23, v6
+    move-object/from16 v22, v9
 
-    sget-object v6, Lcom/android/systemui/LsRune;->VALUE_LOCK_POLICY:Ljava/lang/String;
+    sget-object v9, Lcom/android/systemui/LsRune;->VALUE_LOCK_POLICY:Ljava/lang/String;
 
-    invoke-virtual {v6, v9}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v9, v11}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v6
+    move-result v9
 
-    if-nez v6, :cond_14
+    if-nez v9, :cond_14
 
-    if-nez v7, :cond_14
+    if-nez v4, :cond_14
 
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isWiFiOnlyDevice()Z
 
-    move-result v6
+    move-result v4
 
-    if-eqz v6, :cond_12
+    if-eqz v4, :cond_12
 
     goto :goto_10
 
     :cond_12
-    const/4 v6, 0x0
+    const/4 v4, 0x0
 
     goto :goto_11
 
     :cond_13
-    move-object/from16 v23, v6
+    move-object/from16 v22, v9
 
     :cond_14
     :goto_10
-    const/4 v6, 0x1
+    const/4 v4, 0x1
 
     :goto_11
-    sput-boolean v6, Lcom/android/systemui/LsRune;->SECURITY_BLOCK_CARRIER_TEXT_WHEN_SIM_NOT_READY:Z
+    sput-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_BLOCK_CARRIER_TEXT_WHEN_SIM_NOT_READY:Z
 
-    const-string v6, "ClearEmergencyCallWhenNoSim"
+    const-string v4, "ClearEmergencyCallWhenNoSim"
 
-    invoke-virtual {v1, v6}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v1, v4}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v6
+    move-result v4
 
-    if-nez v6, :cond_16
+    if-nez v4, :cond_16
 
-    if-nez v11, :cond_16
+    if-nez v13, :cond_16
 
-    if-eqz v13, :cond_15
+    if-eqz v8, :cond_15
 
     goto :goto_12
 
     :cond_15
-    const/4 v6, 0x0
+    const/4 v4, 0x0
 
     goto :goto_13
 
     :cond_16
     :goto_12
-    const/4 v6, 0x1
+    const/4 v4, 0x1
 
     :goto_13
-    sput-boolean v6, Lcom/android/systemui/LsRune;->SECURITY_CLEAR_NO_SIM_DEFAULT_TEXT:Z
+    sput-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_CLEAR_NO_SIM_DEFAULT_TEXT:Z
 
-    const-string v6, "SupportSimPermanentDisable"
+    const-string v4, "SupportSimPermanentDisable"
 
-    invoke-virtual {v2, v6}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v2, v4}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v6
+    move-result v4
 
-    sput-boolean v6, Lcom/android/systemui/LsRune;->SECURITY_SIM_PERM_DISABLED:Z
+    sput-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_SIM_PERM_DISABLED:Z
 
     invoke-virtual {v2, v3}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
@@ -1100,17 +1096,17 @@
 
     invoke-virtual {v2, v3}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v6
+    move-result v4
 
-    sput-boolean v6, Lcom/android/systemui/LsRune;->SECURITY_WARNING_WIPE_OUT_MESSAGE:Z
+    sput-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_WARNING_WIPE_OUT_MESSAGE:Z
 
-    const-string v6, "FactoryResetWithoutUI"
+    const-string v4, "FactoryResetWithoutUI"
 
-    invoke-virtual {v2, v6}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v2, v4}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
-    move-result v6
+    move-result v4
 
-    sput-boolean v6, Lcom/android/systemui/LsRune;->SECURITY_FACTORY_RESET_WITHOUT_UI:Z
+    sput-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_FACTORY_RESET_WITHOUT_UI:Z
 
     invoke-virtual {v2, v3}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
@@ -1120,8 +1116,6 @@
 
     sget v3, Lcom/android/systemui/util/DeviceType;->supportTablet:I
 
-    sput-boolean v4, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_GUIDE_POPUP:Z
-
     if-eqz v5, :cond_17
 
     invoke-static {}, Lcom/samsung/android/feature/SemFloatingFeature;->getInstance()Lcom/samsung/android/feature/SemFloatingFeature;
@@ -1131,7 +1125,7 @@
     invoke-virtual {v3, v14}, Lcom/samsung/android/feature/SemFloatingFeature;->getBoolean(Ljava/lang/String;)Z
 
     :cond_17
-    invoke-virtual {v1, v8}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v1, v7}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
     invoke-virtual {v1, v0}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
@@ -1169,9 +1163,7 @@
 
     move-result-object v0
 
-    move-object/from16 v1, v23
-
-    invoke-virtual {v0, v1}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    invoke-virtual {v0, v6}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
 
     move-result v0
 
diff --git a/smali/com/android/systemui/dagger/DaggerReferenceGlobalRootComponent$CentralSurfacesComponentImpl.smali b/smali/com/android/systemui/dagger/DaggerReferenceGlobalRootComponent$CentralSurfacesComponentImpl.smali
index 2d80e82f9..a2a254492 100644
--- a/smali/com/android/systemui/dagger/DaggerReferenceGlobalRootComponent$CentralSurfacesComponentImpl.smali
+++ b/smali/com/android/systemui/dagger/DaggerReferenceGlobalRootComponent$CentralSurfacesComponentImpl.smali
@@ -1993,7 +1993,9 @@
 
     invoke-static {p0}, Ldagger/internal/DoubleCheck;->lazy(Ljavax/inject/Provider;)Ldagger/Lazy;
 
-    invoke-virtual {p1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
+    move-result-object p0
+
+    iput-object p0, p1, Lcom/android/systemui/shade/NotificationPanelViewController;->mBioUnlockControllerLazy:Ldagger/Lazy;
 
     return-object p1
 .end method
diff --git a/smali/com/android/systemui/facewidget/plugin/PluginFaceWidgetManager.smali b/smali/com/android/systemui/facewidget/plugin/PluginFaceWidgetManager.smali
index d9c37d1e6..72a10417e 100644
--- a/smali/com/android/systemui/facewidget/plugin/PluginFaceWidgetManager.smali
+++ b/smali/com/android/systemui/facewidget/plugin/PluginFaceWidgetManager.smali
@@ -393,7 +393,9 @@
 .method public final getInDisplayFingerprintHeight()I
     .locals 0
 
-    sget p0, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
+    sget-object p0, Lcom/android/systemui/util/DeviceState;->sDisplaySize:Landroid/graphics/Point;
+
+    const/4 p0, 0x0
 
     return p0
 .end method
@@ -401,7 +403,9 @@
 .method public final getInDisplayFingerprintImageSize()I
     .locals 0
 
-    sget p0, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintImageSize:I
+    sget-object p0, Lcom/android/systemui/util/DeviceState;->sDisplaySize:Landroid/graphics/Point;
+
+    const/4 p0, 0x0
 
     return p0
 .end method
@@ -604,7 +608,7 @@
 
     const/4 v0, -0x1
 
-    const/4 v1, 0x1
+    const/4 v1, 0x0
 
     if-ne p0, v0, :cond_0
 
@@ -613,14 +617,13 @@
     :cond_0
     sget p0, Lcom/android/systemui/util/DeviceType;->supportInDisplayFingerprint:I
 
-    if-ne p0, v1, :cond_1
+    const/4 v0, 0x1
 
-    goto :goto_0
+    if-ne p0, v0, :cond_1
 
-    :cond_1
-    const/4 v1, 0x0
+    move v1, v0
 
-    :goto_0
+    :cond_1
     return v1
 .end method
 
diff --git a/smali/com/android/systemui/globalactions/presentation/features/GlobalActionFeatures.smali b/smali/com/android/systemui/globalactions/presentation/features/GlobalActionFeatures.smali
index 53d90bdbb..af6d879c4 100644
--- a/smali/com/android/systemui/globalactions/presentation/features/GlobalActionFeatures.smali
+++ b/smali/com/android/systemui/globalactions/presentation/features/GlobalActionFeatures.smali
@@ -274,7 +274,7 @@
     move v0, v1
 
     :goto_2
-    if-eqz v0, :cond_16
+    if-eqz v0, :cond_d
 
     goto :goto_3
 
@@ -321,20 +321,23 @@
 
     move-result v0
 
-    if-eqz v0, :cond_d
+    if-eqz v0, :cond_e
 
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
+
+    :cond_d
+    move v0, v2
 
     goto/16 :goto_4
 
-    :cond_d
+    :cond_e
     const-string v0, "SUPPORT_SIDE_KEY"
 
     invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v0
 
-    if-eqz v0, :cond_e
+    if-eqz v0, :cond_f
 
     invoke-static {}, Lcom/samsung/android/feature/SemFloatingFeature;->getInstance()Lcom/samsung/android/feature/SemFloatingFeature;
 
@@ -348,14 +351,14 @@
 
     goto/16 :goto_4
 
-    :cond_e
+    :cond_f
     const-string v0, "POWER_OFF_LOCK"
 
     invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v0
 
-    if-eqz v0, :cond_f
+    if-eqz v0, :cond_10
 
     invoke-static {}, Lcom/samsung/android/feature/SemCscFeature;->getInstance()Lcom/samsung/android/feature/SemCscFeature;
 
@@ -369,7 +372,7 @@
 
     goto/16 :goto_4
 
-    :cond_f
+    :cond_10
     const-string v0, "FRONT_LARGE_COVER_DISPLAY"
 
     invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
@@ -378,7 +381,7 @@
 
     const-string v3, "LARGESCREEN"
 
-    if-eqz v0, :cond_10
+    if-eqz v0, :cond_11
 
     sget-object v0, Lcom/android/systemui/globalactions/presentation/features/GlobalActionFeatures;->VALUE_SUB_DISPLAY_POLICY:Ljava/lang/String;
 
@@ -388,14 +391,14 @@
 
     goto/16 :goto_4
 
-    :cond_10
+    :cond_11
     const-string v0, "FRONT_COVER_DISPLAY"
 
     invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v0
 
-    if-eqz v0, :cond_11
+    if-eqz v0, :cond_12
 
     invoke-static {}, Lcom/samsung/android/feature/SemFloatingFeature;->getInstance()Lcom/samsung/android/feature/SemFloatingFeature;
 
@@ -407,7 +410,7 @@
 
     move-result v0
 
-    if-eqz v0, :cond_16
+    if-eqz v0, :cond_d
 
     sget-object v0, Lcom/android/systemui/globalactions/presentation/features/GlobalActionFeatures;->VALUE_SUB_DISPLAY_POLICY:Ljava/lang/String;
 
@@ -415,62 +418,62 @@
 
     move-result v0
 
-    if-nez v0, :cond_16
+    if-nez v0, :cond_d
 
     goto :goto_3
 
-    :cond_11
+    :cond_12
     const-string v0, "DESKTOP_MODE"
 
     invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v0
 
-    if-eqz v0, :cond_12
+    if-eqz v0, :cond_13
 
     goto/16 :goto_3
 
-    :cond_12
+    :cond_13
     const-string v0, "KNOX_SDK"
 
     invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v0
 
-    if-eqz v0, :cond_13
+    if-eqz v0, :cond_14
 
     goto/16 :goto_3
 
-    :cond_13
+    :cond_14
     const-string v0, "KNOX_CONTAINER"
 
     invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v0
 
-    if-eqz v0, :cond_14
+    if-eqz v0, :cond_15
 
     goto/16 :goto_3
 
-    :cond_14
+    :cond_15
     const-string v0, "KNOX_DEVICE_MANAGER"
 
     invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v0
 
-    if-eqz v0, :cond_15
+    if-eqz v0, :cond_16
 
     goto/16 :goto_3
 
-    :cond_15
+    :cond_16
     const-string v0, "RESERVE_BATTERY_MODE"
 
     invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v0
 
-    if-eqz v0, :cond_16
+    if-eqz v0, :cond_d
 
     invoke-static {}, Lcom/samsung/android/feature/SemCscFeature;->getInstance()Lcom/samsung/android/feature/SemCscFeature;
 
@@ -482,7 +485,7 @@
 
     move-result-object v0
 
-    if-eqz v0, :cond_16
+    if-eqz v0, :cond_d
 
     const-string/jumbo v3, "powerplanning"
 
@@ -490,7 +493,7 @@
 
     move-result v3
 
-    if-eqz v3, :cond_16
+    if-eqz v3, :cond_d
 
     const-string/jumbo v3, "reserve"
 
@@ -498,13 +501,10 @@
 
     move-result v0
 
-    if-eqz v0, :cond_16
+    if-eqz v0, :cond_d
 
     goto/16 :goto_3
 
-    :cond_16
-    move v0, v2
-
     :goto_4
     iget-object p0, p0, Lcom/android/systemui/globalactions/presentation/features/GlobalActionFeatures;->mLogWrapper:Lcom/samsung/android/globalactions/util/LogWrapper;
 
diff --git a/smali/com/android/systemui/keyguard/KeyguardViewMediator.smali b/smali/com/android/systemui/keyguard/KeyguardViewMediator.smali
index d32a42fb8..500bdcd8f 100644
--- a/smali/com/android/systemui/keyguard/KeyguardViewMediator.smali
+++ b/smali/com/android/systemui/keyguard/KeyguardViewMediator.smali
@@ -6795,7 +6795,7 @@
 
     invoke-virtual {v4}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
-    sget-boolean v5, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
+    sget-boolean v5, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
 
     if-nez v5, :cond_8
 
diff --git a/smali/com/android/systemui/keyguard/animator/ActionDownHandler.smali b/smali/com/android/systemui/keyguard/animator/ActionDownHandler.smali
index 410430c8a..5faba9238 100644
--- a/smali/com/android/systemui/keyguard/animator/ActionDownHandler.smali
+++ b/smali/com/android/systemui/keyguard/animator/ActionDownHandler.smali
@@ -15,7 +15,7 @@
 
 # virtual methods
 .method public final handleMotionEvent(Landroid/view/MotionEvent;)Z
-    .locals 9
+    .locals 8
 
     iget-object p0, p0, Lcom/android/systemui/keyguard/animator/ActionHandlerType;->parent:Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;
 
@@ -65,471 +65,471 @@
 
     invoke-virtual {p1}, Landroid/view/MotionEvent;->getRawY()F
 
-    move-result v4
+    move-result p1
 
-    iput v4, v2, Landroid/graphics/PointF;->y:F
+    iput p1, v2, Landroid/graphics/PointF;->y:F
 
-    iget-object v2, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->tapAffordanceViewController:Lcom/android/systemui/keyguard/animator/TapAffordanceViewController;
+    iget-object p1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->tapAffordanceViewController:Lcom/android/systemui/keyguard/animator/TapAffordanceViewController;
 
-    iget-object v2, v2, Lcom/android/systemui/keyguard/animator/TapAffordanceViewController;->restoreSpringAnimationList:Ljava/util/List;
+    iget-object p1, p1, Lcom/android/systemui/keyguard/animator/TapAffordanceViewController;->restoreSpringAnimationList:Ljava/util/List;
 
-    check-cast v2, Ljava/util/ArrayList;
+    check-cast p1, Ljava/util/ArrayList;
 
-    invoke-virtual {v2}, Ljava/util/ArrayList;->clear()V
+    invoke-virtual {p1}, Ljava/util/ArrayList;->clear()V
 
-    iget-object v2, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->pivotViewController:Lcom/android/systemui/keyguard/animator/PivotViewController;
+    iget-object p1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->pivotViewController:Lcom/android/systemui/keyguard/animator/PivotViewController;
 
-    invoke-virtual {v2}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
+    invoke-virtual {p1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
-    new-instance v4, Ljava/util/ArrayList;
+    new-instance v2, Ljava/util/ArrayList;
 
-    invoke-direct {v4}, Ljava/util/ArrayList;-><init>()V
+    invoke-direct {v2}, Ljava/util/ArrayList;-><init>()V
 
-    iget-object v5, v2, Lcom/android/systemui/keyguard/animator/PivotViewController;->pivotViews:Ljava/util/List;
+    iget-object v4, p1, Lcom/android/systemui/keyguard/animator/PivotViewController;->pivotViews:Ljava/util/List;
 
-    invoke-interface {v5}, Ljava/lang/Iterable;->iterator()Ljava/util/Iterator;
+    invoke-interface {v4}, Ljava/lang/Iterable;->iterator()Ljava/util/Iterator;
 
-    move-result-object v6
+    move-result-object v5
 
     :cond_1
     :goto_1
-    invoke-interface {v6}, Ljava/util/Iterator;->hasNext()Z
+    invoke-interface {v5}, Ljava/util/Iterator;->hasNext()Z
 
-    move-result v7
+    move-result v6
 
-    if-eqz v7, :cond_2
+    if-eqz v6, :cond_2
 
-    invoke-interface {v6}, Ljava/util/Iterator;->next()Ljava/lang/Object;
+    invoke-interface {v5}, Ljava/util/Iterator;->next()Ljava/lang/Object;
 
-    move-result-object v7
+    move-result-object v6
 
-    move-object v8, v7
+    move-object v7, v6
 
-    check-cast v8, Ljava/lang/Number;
+    check-cast v7, Ljava/lang/Number;
 
-    invoke-virtual {v8}, Ljava/lang/Number;->intValue()I
+    invoke-virtual {v7}, Ljava/lang/Number;->intValue()I
 
-    move-result v8
+    move-result v7
 
-    invoke-virtual {v2, v8}, Lcom/android/systemui/keyguard/animator/ViewAnimationController;->hasView(I)Z
+    invoke-virtual {p1, v7}, Lcom/android/systemui/keyguard/animator/ViewAnimationController;->hasView(I)Z
 
-    move-result v8
+    move-result v7
 
-    xor-int/2addr v8, v0
+    xor-int/2addr v7, v0
 
-    if-eqz v8, :cond_1
+    if-eqz v7, :cond_1
 
-    invoke-virtual {v4, v7}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
+    invoke-virtual {v2, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
 
     goto :goto_1
 
     :cond_2
-    invoke-virtual {v4}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;
+    invoke-virtual {v2}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;
 
-    move-result-object v4
+    move-result-object v2
 
     :goto_2
-    invoke-interface {v4}, Ljava/util/Iterator;->hasNext()Z
+    invoke-interface {v2}, Ljava/util/Iterator;->hasNext()Z
 
-    move-result v6
+    move-result v5
 
-    if-eqz v6, :cond_3
+    if-eqz v5, :cond_3
 
-    invoke-interface {v4}, Ljava/util/Iterator;->next()Ljava/lang/Object;
+    invoke-interface {v2}, Ljava/util/Iterator;->next()Ljava/lang/Object;
 
-    move-result-object v6
+    move-result-object v5
 
-    check-cast v6, Ljava/lang/Number;
+    check-cast v5, Ljava/lang/Number;
 
-    invoke-virtual {v6}, Ljava/lang/Number;->intValue()I
+    invoke-virtual {v5}, Ljava/lang/Number;->intValue()I
 
-    move-result v6
+    move-result v5
 
-    new-instance v7, Ljava/lang/StringBuilder;
+    new-instance v6, Ljava/lang/StringBuilder;
 
-    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v7, v6}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v6, " is null"
+    const-string v5, " is null"
 
-    invoke-virtual {v7, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v6
+    move-result-object v5
 
-    const-string v7, "KeyguardTouchAnimator"
+    const-string v6, "KeyguardTouchAnimator"
 
-    invoke-static {v7, v6}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-static {v6, v5}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     goto :goto_2
 
     :cond_3
-    invoke-interface {v5}, Ljava/util/List;->iterator()Ljava/util/Iterator;
+    invoke-interface {v4}, Ljava/util/List;->iterator()Ljava/util/Iterator;
 
-    move-result-object v4
+    move-result-object v2
 
     :cond_4
     :goto_3
-    invoke-interface {v4}, Ljava/util/Iterator;->hasNext()Z
+    invoke-interface {v2}, Ljava/util/Iterator;->hasNext()Z
 
-    move-result v5
+    move-result v4
 
-    if-eqz v5, :cond_6
+    if-eqz v4, :cond_6
 
-    invoke-interface {v4}, Ljava/util/Iterator;->next()Ljava/lang/Object;
+    invoke-interface {v2}, Ljava/util/Iterator;->next()Ljava/lang/Object;
 
-    move-result-object v5
+    move-result-object v4
 
-    check-cast v5, Ljava/lang/Number;
+    check-cast v4, Ljava/lang/Number;
 
-    invoke-virtual {v5}, Ljava/lang/Number;->intValue()I
+    invoke-virtual {v4}, Ljava/lang/Number;->intValue()I
 
-    move-result v5
+    move-result v4
 
-    invoke-virtual {v2, v5}, Lcom/android/systemui/keyguard/animator/ViewAnimationController;->hasView(I)Z
+    invoke-virtual {p1, v4}, Lcom/android/systemui/keyguard/animator/ViewAnimationController;->hasView(I)Z
 
-    move-result v6
+    move-result v5
 
-    if-nez v6, :cond_5
+    if-nez v5, :cond_5
 
     goto :goto_3
 
     :cond_5
-    invoke-virtual {v2, v5}, Lcom/android/systemui/keyguard/animator/ViewAnimationController;->getView(I)Landroid/view/View;
+    invoke-virtual {p1, v4}, Lcom/android/systemui/keyguard/animator/ViewAnimationController;->getView(I)Landroid/view/View;
 
-    move-result-object v6
+    move-result-object v5
 
-    invoke-virtual {v6}, Landroid/view/View;->getVisibility()I
+    invoke-virtual {v5}, Landroid/view/View;->getVisibility()I
 
-    move-result v7
+    move-result v6
 
-    if-nez v7, :cond_4
+    if-nez v6, :cond_4
 
-    iget-object v7, v2, Lcom/android/systemui/keyguard/animator/PivotViewController;->pivot:Landroid/util/SparseArray;
+    iget-object v6, p1, Lcom/android/systemui/keyguard/animator/PivotViewController;->pivot:Landroid/util/SparseArray;
 
-    invoke-virtual {v7, v5}, Landroid/util/SparseArray;->get(I)Ljava/lang/Object;
+    invoke-virtual {v6, v4}, Landroid/util/SparseArray;->get(I)Ljava/lang/Object;
 
-    move-result-object v5
+    move-result-object v4
 
-    check-cast v5, Landroid/util/Pair;
+    check-cast v4, Landroid/util/Pair;
 
-    if-eqz v5, :cond_4
+    if-eqz v4, :cond_4
 
-    iget-object v7, v5, Landroid/util/Pair;->first:Ljava/lang/Object;
+    iget-object v6, v4, Landroid/util/Pair;->first:Ljava/lang/Object;
 
-    check-cast v7, Ljava/util/function/Function;
+    check-cast v6, Ljava/util/function/Function;
 
-    invoke-interface {v7, v6}, Ljava/util/function/Function;->apply(Ljava/lang/Object;)Ljava/lang/Object;
+    invoke-interface {v6, v5}, Ljava/util/function/Function;->apply(Ljava/lang/Object;)Ljava/lang/Object;
 
-    move-result-object v7
+    move-result-object v6
 
-    check-cast v7, Ljava/lang/Number;
+    check-cast v6, Ljava/lang/Number;
 
-    invoke-virtual {v7}, Ljava/lang/Number;->floatValue()F
+    invoke-virtual {v6}, Ljava/lang/Number;->floatValue()F
 
-    move-result v7
+    move-result v6
 
-    invoke-virtual {v6, v7}, Landroid/view/View;->setPivotX(F)V
+    invoke-virtual {v5, v6}, Landroid/view/View;->setPivotX(F)V
 
-    iget-object v5, v5, Landroid/util/Pair;->second:Ljava/lang/Object;
+    iget-object v4, v4, Landroid/util/Pair;->second:Ljava/lang/Object;
 
-    check-cast v5, Ljava/util/function/Function;
+    check-cast v4, Ljava/util/function/Function;
 
-    invoke-interface {v5, v6}, Ljava/util/function/Function;->apply(Ljava/lang/Object;)Ljava/lang/Object;
+    invoke-interface {v4, v5}, Ljava/util/function/Function;->apply(Ljava/lang/Object;)Ljava/lang/Object;
 
-    move-result-object v5
+    move-result-object v4
 
-    check-cast v5, Ljava/lang/Number;
+    check-cast v4, Ljava/lang/Number;
 
-    invoke-virtual {v5}, Ljava/lang/Number;->floatValue()F
+    invoke-virtual {v4}, Ljava/lang/Number;->floatValue()F
 
-    move-result v5
+    move-result v4
 
-    invoke-virtual {v6, v5}, Landroid/view/View;->setPivotY(F)V
+    invoke-virtual {v5, v4}, Landroid/view/View;->setPivotY(F)V
 
     goto :goto_3
 
     :cond_6
-    iget-boolean v2, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchBase;->hasDozeAmount:Z
+    iget-boolean p1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchBase;->hasDozeAmount:Z
 
-    if-eqz v2, :cond_7
+    if-eqz p1, :cond_7
 
     return v0
 
     :cond_7
-    iget-object v2, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->keyguardEditModeController:Lcom/android/systemui/keyguard/KeyguardEditModeController;
+    iget-object p1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->keyguardEditModeController:Lcom/android/systemui/keyguard/KeyguardEditModeController;
 
-    check-cast v2, Lcom/android/systemui/keyguard/KeyguardEditModeControllerImpl;
+    check-cast p1, Lcom/android/systemui/keyguard/KeyguardEditModeControllerImpl;
 
-    iget-object v4, v2, Lcom/android/systemui/keyguard/KeyguardEditModeControllerImpl;->settingsHelper:Lcom/android/systemui/util/SettingsHelper;
+    iget-object v2, p1, Lcom/android/systemui/keyguard/KeyguardEditModeControllerImpl;->settingsHelper:Lcom/android/systemui/util/SettingsHelper;
 
-    invoke-virtual {v4}, Lcom/android/systemui/util/SettingsHelper;->isSupportTouchAndHoldToEdit()Z
+    invoke-virtual {v2}, Lcom/android/systemui/util/SettingsHelper;->isSupportTouchAndHoldToEdit()Z
 
-    move-result v4
+    move-result v2
 
-    const-string v5, "KeyguardEditModeController"
+    const-string v4, "KeyguardEditModeController"
 
-    if-eqz v4, :cond_12
+    if-eqz v2, :cond_12
 
-    iget-boolean v4, v2, Lcom/android/systemui/keyguard/KeyguardEditModeControllerImpl;->isEditMode:Z
+    iget-boolean v2, p1, Lcom/android/systemui/keyguard/KeyguardEditModeControllerImpl;->isEditMode:Z
 
-    if-eqz v4, :cond_8
+    if-eqz v2, :cond_8
 
     goto/16 :goto_9
 
     :cond_8
-    iget-object v2, v2, Lcom/android/systemui/keyguard/KeyguardEditModeControllerImpl;->keyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
+    iget-object p1, p1, Lcom/android/systemui/keyguard/KeyguardEditModeControllerImpl;->keyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    invoke-interface {v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isUserUnlocked()Z
+    invoke-interface {p1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isUserUnlocked()Z
 
-    move-result v2
+    move-result p1
 
-    if-nez v2, :cond_9
+    if-nez p1, :cond_9
 
-    const-string v2, "can not be FBE"
+    const-string p1, "can not be FBE"
 
-    invoke-static {v5, v2}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-static {v4, p1}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
 
     goto/16 :goto_a
 
     :cond_9
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
-    move-result v2
+    move-result p1
 
-    iget-object v4, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchBase;->context:Landroid/content/Context;
+    iget-object v2, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchBase;->context:Landroid/content/Context;
 
-    if-eqz v2, :cond_b
+    if-eqz p1, :cond_b
 
-    invoke-virtual {v4}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    invoke-virtual {v2}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v2
+    move-result-object p1
 
-    invoke-virtual {v2}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
+    invoke-virtual {p1}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
 
-    move-result-object v2
+    move-result-object p1
 
-    iget v2, v2, Landroid/content/res/Configuration;->semDesktopModeEnabled:I
+    iget p1, p1, Landroid/content/res/Configuration;->semDesktopModeEnabled:I
 
-    if-ne v2, v0, :cond_a
+    if-ne p1, v0, :cond_a
 
-    const-string v2, "can not be : New Dex"
+    const-string p1, "can not be : New Dex"
 
-    invoke-static {v5, v2}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-static {v4, p1}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
 
     goto/16 :goto_a
 
     :cond_a
-    const-class v2, Lcom/android/systemui/util/DesktopManager;
+    const-class p1, Lcom/android/systemui/util/DesktopManager;
 
-    invoke-static {v2}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
+    invoke-static {p1}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    move-result-object v2
+    move-result-object p1
 
-    check-cast v2, Lcom/android/systemui/util/DesktopManager;
+    check-cast p1, Lcom/android/systemui/util/DesktopManager;
 
-    check-cast v2, Lcom/android/systemui/util/DesktopManagerImpl;
+    check-cast p1, Lcom/android/systemui/util/DesktopManagerImpl;
 
-    invoke-virtual {v2}, Lcom/android/systemui/util/DesktopManagerImpl;->isStandalone()Z
+    invoke-virtual {p1}, Lcom/android/systemui/util/DesktopManagerImpl;->isStandalone()Z
 
-    move-result v2
+    move-result p1
 
-    if-eqz v2, :cond_b
+    if-eqz p1, :cond_b
 
-    const-string v2, "can not be : Dex Standalone"
+    const-string p1, "can not be : Dex Standalone"
 
-    invoke-static {v5, v2}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-static {v4, p1}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
 
     goto/16 :goto_a
 
     :cond_b
     invoke-static {}, Lcom/samsung/android/knox/custom/CustomDeviceManager;->getInstance()Lcom/samsung/android/knox/custom/CustomDeviceManager;
 
-    move-result-object v2
+    move-result-object p1
 
-    invoke-virtual {v2}, Lcom/samsung/android/knox/custom/CustomDeviceManager;->getProKioskManager()Lcom/samsung/android/knox/custom/ProKioskManager;
+    invoke-virtual {p1}, Lcom/samsung/android/knox/custom/CustomDeviceManager;->getProKioskManager()Lcom/samsung/android/knox/custom/ProKioskManager;
 
-    move-result-object v2
+    move-result-object p1
 
-    invoke-virtual {v2}, Lcom/samsung/android/knox/custom/ProKioskManager;->getProKioskState()Z
+    invoke-virtual {p1}, Lcom/samsung/android/knox/custom/ProKioskManager;->getProKioskState()Z
 
-    move-result v2
+    move-result p1
 
-    if-eqz v2, :cond_c
+    if-eqz p1, :cond_c
 
-    const-string v2, "isKioskMode : proKiosk mode"
+    const-string p1, "isKioskMode : proKiosk mode"
 
-    invoke-static {v5, v2}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-static {v4, p1}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
 
     goto :goto_4
 
     :cond_c
     :try_start_0
-    invoke-static {v4}, Lcom/samsung/android/knox/EnterpriseDeviceManager;->getInstance(Landroid/content/Context;)Lcom/samsung/android/knox/EnterpriseDeviceManager;
+    invoke-static {v2}, Lcom/samsung/android/knox/EnterpriseDeviceManager;->getInstance(Landroid/content/Context;)Lcom/samsung/android/knox/EnterpriseDeviceManager;
 
-    move-result-object v2
+    move-result-object p1
 
-    invoke-virtual {v2}, Lcom/samsung/android/knox/EnterpriseDeviceManager;->getKioskMode()Lcom/samsung/android/knox/kiosk/KioskMode;
+    invoke-virtual {p1}, Lcom/samsung/android/knox/EnterpriseDeviceManager;->getKioskMode()Lcom/samsung/android/knox/kiosk/KioskMode;
 
-    move-result-object v2
+    move-result-object p1
 
-    invoke-virtual {v2}, Lcom/samsung/android/knox/kiosk/KioskMode;->isKioskModeEnabled()Z
+    invoke-virtual {p1}, Lcom/samsung/android/knox/kiosk/KioskMode;->isKioskModeEnabled()Z
 
-    move-result v2
+    move-result p1
 
-    if-eqz v2, :cond_d
+    if-eqz p1, :cond_d
 
-    const-string v2, "isKioskMode : Kiosk mode"
+    const-string p1, "isKioskMode : Kiosk mode"
 
-    invoke-static {v5, v2}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-static {v4, p1}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
     :try_end_0
     .catch Ljava/lang/SecurityException; {:try_start_0 .. :try_end_0} :catch_0
 
     :goto_4
-    move v2, v0
+    move p1, v0
 
     goto :goto_5
 
     :catch_0
-    move-exception v2
+    move-exception p1
 
-    new-instance v6, Ljava/lang/StringBuilder;
+    new-instance v5, Ljava/lang/StringBuilder;
 
-    const-string v7, "SecurityException: "
+    const-string v6, "SecurityException: "
 
-    invoke-direct {v6, v7}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
+    invoke-direct {v5, v6}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
 
-    invoke-virtual {v6, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual {v5, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v2
+    move-result-object p1
 
-    invoke-static {v5, v2}, Lcom/android/systemui/keyguard/Log;->w(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-static {v4, p1}, Lcom/android/systemui/keyguard/Log;->w(Ljava/lang/String;Ljava/lang/String;)V
 
     :cond_d
-    move v2, v3
+    move p1, v3
 
     :goto_5
-    if-eqz v2, :cond_e
+    if-eqz p1, :cond_e
 
-    const-string v2, "can not be : Kiosk Modee"
+    const-string p1, "can not be : Kiosk Modee"
 
-    invoke-static {v5, v2}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-static {v4, p1}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
 
     goto :goto_a
 
     :cond_e
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
-    move-result v2
+    move-result p1
 
-    if-nez v2, :cond_10
+    if-nez p1, :cond_10
 
-    sget-boolean v2, Lcom/android/systemui/LsRune;->LOCKUI_SUB_DISPLAY_LOCK:Z
+    sget-boolean p1, Lcom/android/systemui/LsRune;->LOCKUI_SUB_DISPLAY_LOCK:Z
 
-    if-eqz v2, :cond_f
+    if-eqz p1, :cond_f
 
-    invoke-virtual {v4}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    invoke-virtual {v2}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v2
+    move-result-object p1
 
-    invoke-virtual {v2}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
+    invoke-virtual {p1}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
 
-    move-result-object v2
+    move-result-object p1
 
-    iget v2, v2, Landroid/content/res/Configuration;->semDisplayDeviceType:I
+    iget p1, p1, Landroid/content/res/Configuration;->semDisplayDeviceType:I
 
-    if-nez v2, :cond_f
+    if-nez p1, :cond_f
 
     goto :goto_6
 
     :cond_f
-    move v2, v3
+    move p1, v3
 
     goto :goto_7
 
     :cond_10
     :goto_6
-    move v2, v0
+    move p1, v0
 
     :goto_7
-    if-eqz v2, :cond_11
+    if-eqz p1, :cond_11
 
     goto :goto_8
 
     :cond_11
-    invoke-virtual {v4}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    invoke-virtual {v2}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    move-result-object v2
+    move-result-object p1
 
-    invoke-virtual {v2}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
+    invoke-virtual {p1}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
 
-    move-result-object v2
+    move-result-object p1
 
-    iget v2, v2, Landroid/content/res/Configuration;->orientation:I
+    iget p1, p1, Landroid/content/res/Configuration;->orientation:I
 
-    if-ne v2, v0, :cond_13
+    if-ne p1, v0, :cond_13
 
     :goto_8
-    move v2, v0
+    move p1, v0
 
     goto :goto_b
 
     :cond_12
     :goto_9
-    iget-boolean v2, v2, Lcom/android/systemui/keyguard/KeyguardEditModeControllerImpl;->isEditMode:Z
+    iget-boolean p1, p1, Lcom/android/systemui/keyguard/KeyguardEditModeControllerImpl;->isEditMode:Z
 
-    new-instance v4, Ljava/lang/StringBuilder;
+    new-instance v2, Ljava/lang/StringBuilder;
 
-    const-string v6, "can not be EM="
+    const-string v5, "can not be EM="
 
-    invoke-direct {v4, v6}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
+    invoke-direct {v2, v5}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
 
-    invoke-virtual {v4, v2}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v2
+    move-result-object p1
 
-    invoke-static {v5, v2}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-static {v4, p1}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;)V
 
     :cond_13
     :goto_a
-    move v2, v3
+    move p1, v3
 
     :goto_b
-    iget-object v4, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->editModeAnimatorController:Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;
+    iget-object v2, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->editModeAnimatorController:Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;
 
-    if-eqz v2, :cond_14
+    if-eqz p1, :cond_14
 
-    invoke-virtual {p0, p1}, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->canLongPressArea(Landroid/view/MotionEvent;)Z
+    invoke-virtual {p0}, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->canLongPressArea()Z
 
-    move-result v2
+    move-result p1
 
-    if-eqz v2, :cond_14
+    if-eqz p1, :cond_14
 
-    iget-object v2, v4, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->animatorSet:Landroid/animation/AnimatorSet;
+    iget-object p1, v2, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->animatorSet:Landroid/animation/AnimatorSet;
 
-    invoke-virtual {v2}, Landroid/animation/AnimatorSet;->isRunning()Z
+    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->isRunning()Z
 
-    move-result v2
+    move-result p1
 
-    if-nez v2, :cond_14
+    if-nez p1, :cond_14
 
-    move v2, v0
+    move p1, v0
 
     goto :goto_c
 
     :cond_14
-    move v2, v3
+    move p1, v3
 
     :goto_c
-    if-eqz v2, :cond_17
+    if-eqz p1, :cond_17
 
-    invoke-virtual {v4}, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->isEditMode()Z
+    invoke-virtual {v2}, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->isEditMode()Z
 
     move-result p0
 
@@ -553,13 +553,13 @@
 
     invoke-static {p1, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    invoke-virtual {v4}, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->isEditMode()Z
+    invoke-virtual {v2}, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->isEditMode()Z
 
     move-result p0
 
     if-nez p0, :cond_19
 
-    iget-object p0, v4, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->longPressJob:Lkotlinx/coroutines/StandaloneCoroutine;
+    iget-object p0, v2, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->longPressJob:Lkotlinx/coroutines/StandaloneCoroutine;
 
     if-eqz p0, :cond_15
 
@@ -576,7 +576,7 @@
 
     if-eqz v3, :cond_16
 
-    iget-object p1, v4, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->longPressJob:Lkotlinx/coroutines/StandaloneCoroutine;
+    iget-object p1, v2, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->longPressJob:Lkotlinx/coroutines/StandaloneCoroutine;
 
     if-eqz p1, :cond_16
 
@@ -593,20 +593,20 @@
 
     new-instance v1, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController$actionDown$1;
 
-    invoke-direct {v1, v4, p0}, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController$actionDown$1;-><init>(Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;Lkotlin/coroutines/Continuation;)V
+    invoke-direct {v1, v2, p0}, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController$actionDown$1;-><init>(Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;Lkotlin/coroutines/Continuation;)V
 
-    const/4 v2, 0x3
+    const/4 v3, 0x3
 
-    invoke-static {p1, p0, p0, v1, v2}, Lkotlinx/coroutines/BuildersKt;->launch$default(Lkotlinx/coroutines/CoroutineScope;Lkotlin/coroutines/CoroutineContext;Lkotlinx/coroutines/CoroutineStart;Lkotlin/jvm/functions/Function2;I)Lkotlinx/coroutines/StandaloneCoroutine;
+    invoke-static {p1, p0, p0, v1, v3}, Lkotlinx/coroutines/BuildersKt;->launch$default(Lkotlinx/coroutines/CoroutineScope;Lkotlin/coroutines/CoroutineContext;Lkotlinx/coroutines/CoroutineStart;Lkotlin/jvm/functions/Function2;I)Lkotlinx/coroutines/StandaloneCoroutine;
 
     move-result-object p0
 
-    iput-object p0, v4, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->longPressJob:Lkotlinx/coroutines/StandaloneCoroutine;
+    iput-object p0, v2, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->longPressJob:Lkotlinx/coroutines/StandaloneCoroutine;
 
     goto :goto_d
 
     :cond_17
-    invoke-virtual {p0, p1}, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->canLongPressArea(Landroid/view/MotionEvent;)Z
+    invoke-virtual {p0}, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->canLongPressArea()Z
 
     move-result p0
 
@@ -624,7 +624,7 @@
 
     if-nez p0, :cond_18
 
-    invoke-virtual {v4}, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->isLongPressed$frameworks__base__packages__SystemUI__android_common__SystemUI_core()Z
+    invoke-virtual {v2}, Lcom/android/systemui/keyguard/animator/KeyguardEditModeAnimatorController;->isLongPressed$frameworks__base__packages__SystemUI__android_common__SystemUI_core()Z
 
     move-result p0
 
diff --git a/smali/com/android/systemui/keyguard/animator/FullScreenViewController.smali b/smali/com/android/systemui/keyguard/animator/FullScreenViewController.smali
index 360abb281..b52b84f39 100644
--- a/smali/com/android/systemui/keyguard/animator/FullScreenViewController.smali
+++ b/smali/com/android/systemui/keyguard/animator/FullScreenViewController.smali
@@ -425,9 +425,9 @@
 
     const-wide/16 v1, 0x3e8
 
-    cmp-long v1, v6, v1
+    cmp-long p1, v6, v1
 
-    if-gez v1, :cond_10
+    if-gez p1, :cond_10
 
     const-string v5, "1"
 
@@ -436,9 +436,9 @@
     :cond_10
     const-wide/16 v1, 0x7d0
 
-    cmp-long v1, v6, v1
+    cmp-long p1, v6, v1
 
-    if-gez v1, :cond_11
+    if-gez p1, :cond_11
 
     const-string v5, "2"
 
@@ -447,9 +447,9 @@
     :cond_11
     const-wide/16 v1, 0xfa0
 
-    cmp-long v1, v6, v1
+    cmp-long p1, v6, v1
 
-    if-gez v1, :cond_12
+    if-gez p1, :cond_12
 
     const-string v5, "3"
 
@@ -458,9 +458,9 @@
     :cond_12
     const-wide/16 v1, 0x1b58
 
-    cmp-long v1, v6, v1
+    cmp-long p1, v6, v1
 
-    if-gez v1, :cond_13
+    if-gez p1, :cond_13
 
     const-string v5, "4"
 
@@ -469,67 +469,34 @@
     :cond_13
     const-wide/16 v1, 0x2710
 
-    cmp-long v1, v6, v1
+    cmp-long p1, v6, v1
 
-    if-gez v1, :cond_14
+    if-gez p1, :cond_14
 
     const-string v5, "5"
 
     goto :goto_a
 
     :cond_14
-    if-ltz v1, :cond_15
+    if-ltz p1, :cond_15
 
     const-string v5, "6"
 
     :cond_15
     :goto_a
-    sget-object v1, Lcom/android/systemui/util/SystemUIAnalytics;->sCurrentScreenID:Ljava/lang/String;
+    sget-object p1, Lcom/android/systemui/util/SystemUIAnalytics;->sCurrentScreenID:Ljava/lang/String;
 
-    const-string v2, "1011"
+    const-string v1, "1011"
 
-    invoke-static {v1, v2, v5}, Lcom/android/systemui/util/SystemUIAnalytics;->sendEventLog(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+    invoke-static {p1, v1, v5}, Lcom/android/systemui/util/SystemUIAnalytics;->sendEventLog(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
     :goto_b
-    iget-object v1, v0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->securityInjector:Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;
+    iget-object p1, v0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->securityInjector:Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;
 
-    invoke-virtual {v1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
-
-    sget-boolean v2, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    const/4 v4, 0x2
-
-    if-eqz v2, :cond_17
-
-    iget-object v1, v1, Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isFingerprintOptionEnabled()Z
-
-    move-result v2
-
-    if-eqz v2, :cond_17
-
-    const-string v2, "KeyguardFingerprint"
-
-    if-eqz p1, :cond_16
+    invoke-virtual {p1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
-    const-string/jumbo p1, "onFullScreenModeChanged is true. FP will be stop!"
+    sget-object p1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    invoke-static {v2, p1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    invoke-virtual {v1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->stopListeningForFingerprint()V
-
-    goto :goto_c
-
-    :cond_16
-    const-string/jumbo p1, "onFullScreenModeChanged is false. FP will be start!"
-
-    invoke-static {v2, p1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-
-    invoke-virtual {v1, v4}, Lcom/android/keyguard/KeyguardUpdateMonitor;->updateFingerprintListeningState(I)V
-
-    :cond_17
-    :goto_c
     invoke-virtual {p0}, Lcom/android/systemui/keyguard/animator/ViewAnimationController;->getParentView()Landroid/view/View;
 
     move-result-object p1
@@ -550,20 +517,20 @@
 
     move-result v0
 
-    if-nez v0, :cond_18
+    if-nez v0, :cond_16
 
-    goto :goto_e
+    goto :goto_d
 
-    :cond_18
+    :cond_16
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
     move-result v0
 
-    if-nez v0, :cond_1a
+    if-nez v0, :cond_18
 
     sget-boolean v0, Lcom/android/systemui/LsRune;->LOCKUI_SUB_DISPLAY_LOCK:Z
 
-    if-eqz v0, :cond_19
+    if-eqz v0, :cond_17
 
     invoke-virtual {p1}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
@@ -575,21 +542,21 @@
 
     iget v0, v0, Landroid/content/res/Configuration;->semDisplayDeviceType:I
 
-    if-nez v0, :cond_19
+    if-nez v0, :cond_17
 
-    goto :goto_d
+    goto :goto_c
 
-    :cond_19
+    :cond_17
     move v9, v3
 
-    :cond_1a
-    :goto_d
-    if-eqz v9, :cond_1b
+    :cond_18
+    :goto_c
+    if-eqz v9, :cond_19
 
-    goto :goto_e
+    goto :goto_d
 
-    :cond_1b
-    if-eqz p0, :cond_1c
+    :cond_19
+    if-eqz p0, :cond_1a
 
     invoke-virtual {p1}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
@@ -601,7 +568,9 @@
 
     iget p0, p0, Landroid/content/res/Configuration;->orientation:I
 
-    if-ne p0, v4, :cond_1c
+    const/4 v0, 0x2
+
+    if-ne p0, v0, :cond_1a
 
     invoke-virtual {p1}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
@@ -619,7 +588,7 @@
 
     invoke-virtual {p0}, Landroid/widget/Toast;->show()V
 
-    :cond_1c
-    :goto_e
+    :cond_1a
+    :goto_d
     return-void
 .end method
diff --git a/smali/com/android/systemui/keyguard/animator/KeyguardTouchAnimator$2.smali b/smali/com/android/systemui/keyguard/animator/KeyguardTouchAnimator$2.smali
index 18c6f57ba..e40f5e2dc 100644
--- a/smali/com/android/systemui/keyguard/animator/KeyguardTouchAnimator$2.smali
+++ b/smali/com/android/systemui/keyguard/animator/KeyguardTouchAnimator$2.smali
@@ -4,8 +4,6 @@
 
 
 # instance fields
-.field public final synthetic $keyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
 .field public final synthetic $powerManager:Landroid/os/PowerManager;
 
 .field public final synthetic this$0:Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;
@@ -17,8 +15,6 @@
 
     iput-object p1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator$2;->this$0:Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;
 
-    iput-object p2, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator$2;->$keyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
     iput-object p3, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator$2;->$powerManager:Landroid/os/PowerManager;
 
     invoke-direct {p0}, Landroid/view/GestureDetector$SimpleOnGestureListener;-><init>()V
@@ -57,7 +53,7 @@
 
     const/4 v2, 0x1
 
-    if-ne v0, v2, :cond_7
+    if-ne v0, v2, :cond_6
 
     iget-object v0, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator$2;->this$0:Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;
 
@@ -83,19 +79,19 @@
 
     if-lez v7, :cond_0
 
-    new-instance v0, Ljava/lang/StringBuilder;
+    new-instance p1, Ljava/lang/StringBuilder;
 
-    const-string v3, "isConsideredDoubleTap: time out deltaTime="
+    const-string v0, "isConsideredDoubleTap: time out deltaTime="
 
-    invoke-direct {v0, v3}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
+    invoke-direct {p1, v0}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
 
-    invoke-virtual {v0, v5, v6}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+    invoke-virtual {p1, v5, v6}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v0
+    move-result-object p1
 
-    invoke-static {v4, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-static {v4, p1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     goto :goto_2
 
@@ -122,106 +118,95 @@
 
     invoke-virtual {p1}, Landroid/view/MotionEvent;->getY()F
 
-    move-result v7
+    move-result p1
 
-    float-to-int v7, v7
+    float-to-int p1, p1
 
-    sub-int/2addr v6, v7
+    sub-int/2addr v6, p1
 
     invoke-virtual {v3}, Landroid/view/MotionEvent;->getFlags()I
 
-    move-result v3
+    move-result p1
 
-    and-int/lit8 v3, v3, 0x8
+    and-int/lit8 p1, p1, 0x8
 
-    if-eqz v3, :cond_1
+    if-eqz p1, :cond_1
 
-    move v3, v2
+    move p1, v2
 
     goto :goto_0
 
     :cond_1
-    move v3, v1
+    move p1, v1
 
     :goto_0
-    if-eqz v3, :cond_2
+    if-eqz p1, :cond_2
 
-    move v0, v1
+    move p1, v1
 
     goto :goto_1
 
     :cond_2
-    iget v0, v0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->doubleTapSlop:I
+    iget p1, v0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->doubleTapSlop:I
 
-    mul-int/2addr v0, v0
+    mul-int/2addr p1, p1
 
     :goto_1
-    mul-int v3, v5, v5
+    mul-int v0, v5, v5
 
-    mul-int v7, v6, v6
+    mul-int v3, v6, v6
 
-    add-int/2addr v7, v3
+    add-int/2addr v3, v0
 
-    if-lt v7, v0, :cond_3
+    if-lt v3, p1, :cond_3
 
-    const-string v0, "isConsideredDoubleTap: over slop="
+    const-string p1, "isConsideredDoubleTap: over slop="
 
-    const-string v3, ", deltaX="
+    const-string v0, ", deltaX="
 
-    const-string v8, ", deltaY="
+    const-string v7, ", deltaY="
 
-    invoke-static {v0, v7, v3, v5, v8}, Landroidx/recyclerview/widget/GridLayoutManager$$ExternalSyntheticOutline0;->m(Ljava/lang/String;ILjava/lang/String;ILjava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-static {p1, v3, v0, v5, v7}, Landroidx/recyclerview/widget/GridLayoutManager$$ExternalSyntheticOutline0;->m(Ljava/lang/String;ILjava/lang/String;ILjava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v0
+    move-result-object p1
 
-    invoke-static {v0, v6, v4}, Landroidx/recyclerview/widget/RecyclerView$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ILjava/lang/String;)V
+    invoke-static {p1, v6, v4}, Landroidx/recyclerview/widget/RecyclerView$$ExternalSyntheticOutline0;->m(Ljava/lang/StringBuilder;ILjava/lang/String;)V
 
     goto :goto_2
 
     :cond_3
-    move v0, v2
+    move p1, v2
 
     goto :goto_3
 
     :cond_4
     :goto_2
-    move v0, v1
+    move p1, v1
 
     :goto_3
-    if-eqz v0, :cond_6
-
-    iget-object v0, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator$2;->this$0:Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;
-
-    iget-object v3, v0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->keyguardStateController:Lcom/android/systemui/statusbar/policy/KeyguardStateController;
-
-    check-cast v3, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;
-
-    iget-boolean v3, v3, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mKeyguardGoingAway:Z
+    if-eqz p1, :cond_5
 
-    if-nez v3, :cond_6
+    iget-object p1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator$2;->this$0:Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;
 
-    iget-object v0, v0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->securityInjector:Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;
+    iget-object v0, p1, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->keyguardStateController:Lcom/android/systemui/statusbar/policy/KeyguardStateController;
 
-    invoke-virtual {v0, p1}, Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;->isFingerprintArea(Landroid/view/MotionEvent;)Z
+    check-cast v0, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;
 
-    move-result p1
+    iget-boolean v0, v0, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mKeyguardGoingAway:Z
 
-    if-eqz p1, :cond_5
+    if-nez v0, :cond_5
 
-    iget-object p1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator$2;->$keyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
+    iget-object p1, p1, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->securityInjector:Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;
 
-    invoke-virtual {p1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isFingerprintDetectionRunning()Z
+    invoke-virtual {p1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
-    move-result p1
+    sget-object p1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    if-nez p1, :cond_6
-
-    :cond_5
     move p1, v2
 
     goto :goto_4
 
-    :cond_6
+    :cond_5
     move p1, v1
 
     :goto_4
@@ -229,7 +214,7 @@
 
     invoke-static {v0, p1, v4}, Lcom/android/keyguard/KeyguardCarrierPasswordViewController$$ExternalSyntheticOutline0;->m(Ljava/lang/String;ZLjava/lang/String;)V
 
-    if-eqz p1, :cond_7
+    if-eqz p1, :cond_6
 
     iget-object p1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator$2;->$powerManager:Landroid/os/PowerManager;
 
@@ -253,6 +238,6 @@
 
     move v1, v2
 
-    :cond_7
+    :cond_6
     return v1
 .end method
diff --git a/smali/com/android/systemui/keyguard/animator/KeyguardTouchAnimator.smali b/smali/com/android/systemui/keyguard/animator/KeyguardTouchAnimator.smali
index 9b6f69a8b..bad3ae28e 100644
--- a/smali/com/android/systemui/keyguard/animator/KeyguardTouchAnimator.smali
+++ b/smali/com/android/systemui/keyguard/animator/KeyguardTouchAnimator.smali
@@ -258,40 +258,38 @@
 
 
 # virtual methods
-.method public final canLongPressArea(Landroid/view/MotionEvent;)Z
-    .locals 1
+.method public final canLongPressArea()Z
+    .locals 2
 
     iget-object v0, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->securityInjector:Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;
 
-    invoke-virtual {v0, p1}, Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;->isFingerprintArea(Landroid/view/MotionEvent;)Z
-
-    move-result p1
+    invoke-virtual {v0}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
-    if-nez p1, :cond_0
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    iget-object p1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchBase;->touchDownPos:Landroid/graphics/PointF;
+    iget-object v0, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchBase;->touchDownPos:Landroid/graphics/PointF;
 
-    iget p1, p1, Landroid/graphics/PointF;->y:F
+    iget v0, v0, Landroid/graphics/PointF;->y:F
 
-    iget-object v0, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->parentView$delegate:Lkotlin/Lazy;
+    iget-object v1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchAnimator;->parentView$delegate:Lkotlin/Lazy;
 
-    invoke-interface {v0}, Lkotlin/Lazy;->getValue()Ljava/lang/Object;
+    invoke-interface {v1}, Lkotlin/Lazy;->getValue()Ljava/lang/Object;
 
-    move-result-object v0
+    move-result-object v1
 
-    check-cast v0, Landroid/view/View;
+    check-cast v1, Landroid/view/View;
 
-    invoke-virtual {v0}, Landroid/view/View;->getHeight()I
+    invoke-virtual {v1}, Landroid/view/View;->getHeight()I
 
-    move-result v0
+    move-result v1
 
     iget p0, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchBase;->longPressAllowHeight:I
 
-    sub-int/2addr v0, p0
+    sub-int/2addr v1, p0
 
-    int-to-float p0, v0
+    int-to-float p0, v1
 
-    cmpg-float p0, p1, p0
+    cmpg-float p0, v0, p0
 
     if-gez p0, :cond_0
 
diff --git a/smali/com/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector.smali b/smali/com/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector.smali
index f4374f38f..2b46236b4 100644
--- a/smali/com/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector.smali
+++ b/smali/com/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector.smali
@@ -2,10 +2,7 @@
 .super Ljava/lang/Object;
 .source "qb/88426539 59540f9fcca1a65880b19598d2d35eb3a943c25545ce4176de3edd1d0bf28680"
 
-
 # instance fields
-.field public final mFingerprintManager:Landroid/hardware/fingerprint/FingerprintManager;
-
 .field public final mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
 
@@ -17,84 +14,5 @@
 
     iput-object p1, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    if-eqz p2, :cond_0
-
-    goto :goto_0
-
-    :cond_0
-    const/4 p2, 0x0
-
-    :goto_0
-    iput-object p2, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;->mFingerprintManager:Landroid/hardware/fingerprint/FingerprintManager;
-
     return-void
 .end method
-
-
-# virtual methods
-.method public final isFingerprintArea(Landroid/view/MotionEvent;)Z
-    .locals 2
-
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v0, :cond_0
-
-    iget-object v0, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;->mFingerprintManager:Landroid/hardware/fingerprint/FingerprintManager;
-
-    if-eqz v0, :cond_0
-
-    iget-object p0, p0, Lcom/android/systemui/keyguard/animator/KeyguardTouchSecurityInjector;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-interface {p0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isFingerprintOptionEnabled()Z
-
-    move-result v1
-
-    if-eqz v1, :cond_0
-
-    invoke-static {}, Lcom/android/keyguard/KeyguardUpdateMonitor;->getCurrentUser()I
-
-    move-result v1
-
-    invoke-virtual {p0, v1}, Lcom/android/keyguard/KeyguardUpdateMonitor;->getUserCanSkipBouncer(I)Z
-
-    move-result p0
-
-    if-nez p0, :cond_0
-
-    invoke-virtual {v0}, Landroid/hardware/fingerprint/FingerprintManager;->semGetSensorAreaInDisplay()Landroid/graphics/Rect;
-
-    move-result-object p0
-
-    invoke-virtual {p1}, Landroid/view/MotionEvent;->getRawX()F
-
-    move-result v0
-
-    float-to-int v0, v0
-
-    invoke-virtual {p1}, Landroid/view/MotionEvent;->getRawY()F
-
-    move-result p1
-
-    float-to-int p1, p1
-
-    invoke-virtual {p0, v0, p1}, Landroid/graphics/Rect;->contains(II)Z
-
-    move-result p0
-
-    if-eqz p0, :cond_0
-
-    const-string p0, "KeyguardFingerPrintSwipe"
-
-    const-string p1, "mLongPressCallback canceled. Touch position is FP-InDisplay area!"
-
-    invoke-static {p0, p1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-
-    const/4 p0, 0x1
-
-    return p0
-
-    :cond_0
-    const/4 p0, 0x0
-
-    return p0
-.end method
diff --git a/smali_classes2/com/android/systemui/power/PowerNotificationWarnings.smali b/smali_classes2/com/android/systemui/power/PowerNotificationWarnings.smali
index ff4791e97..636bd2337 100644
--- a/smali_classes2/com/android/systemui/power/PowerNotificationWarnings.smali
+++ b/smali_classes2/com/android/systemui/power/PowerNotificationWarnings.smali
@@ -335,6 +335,29 @@
     return-void
 .end method
 
+.method public final dismissInvalidChargerWarning()V
+    .locals 2
+
+    iget-boolean v0, p0, Lcom/android/systemui/power/PowerNotificationWarnings;->mInvalidCharger:Z
+
+    if-eqz v0, :cond_0
+
+    const-string v0, "PowerUI.Notification"
+
+    const-string v1, "dismissing invalid charger notification"
+
+    invoke-static {v0, v1}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_0
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Lcom/android/systemui/power/PowerNotificationWarnings;->mInvalidCharger:Z
+
+    invoke-virtual {p0}, Lcom/android/systemui/power/PowerNotificationWarnings;->updateNotification()V
+
+    return-void
+.end method
+
 .method public dismissThermalShutdownWarning()V
     .locals 3
 
diff --git a/smali_classes2/com/android/systemui/power/PowerUI$Receiver.smali b/smali_classes2/com/android/systemui/power/PowerUI$Receiver.smali
index 7e260bf19..93ad98224 100644
--- a/smali_classes2/com/android/systemui/power/PowerUI$Receiver.smali
+++ b/smali_classes2/com/android/systemui/power/PowerUI$Receiver.smali
@@ -49,7 +49,7 @@
 
     const/4 v6, 0x0
 
-    if-eqz v4, :cond_23
+    if-eqz v4, :cond_22
 
     iput-boolean v5, v1, Lcom/android/systemui/power/PowerUI$Receiver;->mHasReceivedBattery:Z
 
@@ -837,38 +837,23 @@
     return-void
 
     :cond_13
-    if-eqz v8, :cond_15
+    if-eqz v8, :cond_14
 
     iget-object v3, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     iget v5, v3, Lcom/android/systemui/power/PowerUI;->mInvalidCharger:I
 
-    if-nez v5, :cond_15
+    if-nez v5, :cond_14
 
     iget-object v3, v3, Lcom/android/systemui/power/PowerUI;->mWarnings:Lcom/android/systemui/power/PowerUI$WarningsUI;
 
     check-cast v3, Lcom/android/systemui/power/PowerNotificationWarnings;
 
-    iget-boolean v5, v3, Lcom/android/systemui/power/PowerNotificationWarnings;->mInvalidCharger:Z
-
-    if-eqz v5, :cond_14
-
-    const-string v5, "PowerUI.Notification"
-
-    const-string v6, "dismissing invalid charger notification"
-
-    invoke-static {v5, v6}, Landroid/util/Slog;->i(Ljava/lang/String;Ljava/lang/String;)I
-
-    :cond_14
-    const/4 v5, 0x0
-
-    iput-boolean v5, v3, Lcom/android/systemui/power/PowerNotificationWarnings;->mInvalidCharger:Z
-
-    invoke-virtual {v3}, Lcom/android/systemui/power/PowerNotificationWarnings;->updateNotification()V
+    invoke-virtual {v3}, Lcom/android/systemui/power/PowerNotificationWarnings;->dismissInvalidChargerWarning()V
 
     goto :goto_a
 
-    :cond_15
+    :cond_14
     iget-object v3, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     iget-object v3, v3, Lcom/android/systemui/power/PowerUI;->mWarnings:Lcom/android/systemui/power/PowerUI$WarningsUI;
@@ -877,9 +862,9 @@
 
     iget-boolean v3, v3, Lcom/android/systemui/power/PowerNotificationWarnings;->mInvalidCharger:Z
 
-    if-eqz v3, :cond_17
+    if-eqz v3, :cond_16
 
-    if-eqz v0, :cond_16
+    if-eqz v0, :cond_15
 
     const-string v0, "PowerUI"
 
@@ -887,22 +872,22 @@
 
     invoke-static {v0, v1}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    :cond_16
+    :cond_15
     return-void
 
-    :cond_17
+    :cond_16
     :goto_a
     iget-object v3, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     iget-object v3, v3, Lcom/android/systemui/power/PowerUI;->mLastShowWarningTask:Ljava/util/concurrent/Future;
 
-    if-eqz v3, :cond_18
+    if-eqz v3, :cond_17
 
     const/4 v5, 0x1
 
     invoke-interface {v3, v5}, Ljava/util/concurrent/Future;->cancel(Z)Z
 
-    if-eqz v0, :cond_18
+    if-eqz v0, :cond_17
 
     const-string v0, "PowerUI"
 
@@ -910,7 +895,7 @@
 
     invoke-static {v0, v3}, Landroid/util/Slog;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    :cond_18
+    :cond_17
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     new-instance v3, Lcom/android/systemui/power/PowerUI$Receiver$$ExternalSyntheticLambda0;
@@ -945,7 +930,7 @@
 
     invoke-static {v0, v7, v4, v12}, Lcom/android/systemui/power/PowerUI;->-$$Nest$mshowChargingNotice(Lcom/android/systemui/power/PowerUI;III)V
 
-    if-eqz v19, :cond_19
+    if-eqz v19, :cond_18
 
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
@@ -953,7 +938,7 @@
 
     invoke-static {v0, v5, v4}, Lcom/android/systemui/power/PowerUI;->-$$Nest$mcheckBatterySwellingStatus(Lcom/android/systemui/power/PowerUI;II)V
 
-    :cond_19
+    :cond_18
     const-string v0, "PowerUI"
 
     new-instance v5, Ljava/lang/StringBuilder;
@@ -974,13 +959,13 @@
 
     and-int/lit16 v5, v5, 0x4000
 
-    if-eqz v5, :cond_1a
+    if-eqz v5, :cond_19
 
     const/4 v5, 0x1
 
     goto :goto_b
 
-    :cond_1a
+    :cond_19
     const/4 v5, 0x0
 
     :goto_b
@@ -988,7 +973,7 @@
 
     sget-boolean v0, Lcom/android/systemui/PowerUiRune;->INCOMPATIBLE_CHARGER_CHECK:Z
 
-    if-eqz v0, :cond_1b
+    if-eqz v0, :cond_1a
 
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
@@ -996,52 +981,52 @@
 
     invoke-static {v0, v5}, Lcom/android/systemui/power/PowerUI;->-$$Nest$mcheckIncompatibleChargerConnection(Lcom/android/systemui/power/PowerUI;I)V
 
-    :cond_1b
+    :cond_1a
     sget-boolean v0, Lcom/android/systemui/PowerUiRune;->FULL_BATTERY_CHECK:Z
 
-    if-eqz v0, :cond_1c
+    if-eqz v0, :cond_1b
 
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     invoke-static {v0, v4}, Lcom/android/systemui/power/PowerUI;->-$$Nest$mcheckFullBatteryStatus(Lcom/android/systemui/power/PowerUI;I)V
 
-    :cond_1c
+    :cond_1b
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     invoke-static {v0, v2, v10, v11}, Lcom/android/systemui/power/PowerUI;->-$$Nest$msendLowBatteryDumpIfNeeded(Lcom/android/systemui/power/PowerUI;III)V
 
-    if-eqz v18, :cond_1d
+    if-eqz v18, :cond_1c
 
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     invoke-static {v0, v13}, Lcom/android/systemui/power/PowerUI;->-$$Nest$mcheckHVchargerEnableConnection(Lcom/android/systemui/power/PowerUI;I)V
 
-    :cond_1d
+    :cond_1c
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     invoke-static {v0, v3}, Lcom/android/systemui/power/PowerUI;->-$$Nest$mcheckAbnormalChargingPad(Lcom/android/systemui/power/PowerUI;I)V
 
     sget-boolean v0, Lcom/android/systemui/PowerUiRune;->TIPS_NOTIFICATION:Z
 
-    if-eqz v0, :cond_1e
+    if-eqz v0, :cond_1d
 
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     invoke-static {v0, v2}, Lcom/android/systemui/power/PowerUI;->-$$Nest$mcheckTipsNotification(Lcom/android/systemui/power/PowerUI;I)V
 
-    :cond_1e
+    :cond_1d
     sget-boolean v0, Lcom/android/systemui/PowerUiRune;->CHN_SMART_MANAGER:Z
 
-    if-eqz v0, :cond_1f
+    if-eqz v0, :cond_1e
 
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     invoke-static {v0, v2}, Lcom/android/systemui/power/PowerUI;->-$$Nest$mcheckTurnOffPsmNotification(Lcom/android/systemui/power/PowerUI;I)V
 
-    :cond_1f
+    :cond_1e
     sget-boolean v0, Lcom/android/systemui/PowerUiRune;->TURN_ON_PROTECT_BATTERY_BY_LONG_TERM_CHARGE:Z
 
-    if-eqz v0, :cond_20
+    if-eqz v0, :cond_1f
 
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
@@ -1049,26 +1034,26 @@
 
     goto :goto_c
 
-    :cond_20
+    :cond_1f
     sget-boolean v0, Lcom/android/systemui/PowerUiRune;->TURN_ON_PROTECT_BATTERY_BY_LONG_TERM_TA:Z
 
-    if-eqz v0, :cond_21
+    if-eqz v0, :cond_20
 
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     invoke-static {v0}, Lcom/android/systemui/power/PowerUI;->-$$Nest$mcheckTurnOnProtectBatteryByLongTa(Lcom/android/systemui/power/PowerUI;)V
 
-    :cond_21
+    :cond_20
     :goto_c
     sget-boolean v0, Lcom/android/systemui/PowerUiRune;->BATTERY_PROTECTION_NOTIFICATION:Z
 
-    if-eqz v0, :cond_22
+    if-eqz v0, :cond_21
 
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
     invoke-virtual {v0}, Lcom/android/systemui/power/PowerUI;->checkBatteryProtectionNotification()V
 
-    :cond_22
+    :cond_21
     sget-boolean v0, Lcom/android/systemui/PowerUiRune;->BATTERY_PROTECTION_TIPS_NOTIFICATION:Z
 
     if-eqz v0, :cond_52
@@ -1079,14 +1064,14 @@
 
     goto/16 :goto_1b
 
-    :cond_23
+    :cond_22
     const-string v4, "android.intent.action.LOCALE_CHANGED"
 
     invoke-virtual {v4, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v4
 
-    if-eqz v4, :cond_29
+    if-eqz v4, :cond_28
 
     iget-object v0, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
@@ -1096,7 +1081,7 @@
 
     const-string v3, "PowerUI"
 
-    if-eqz v2, :cond_24
+    if-eqz v2, :cond_23
 
     invoke-virtual {v1}, Lcom/android/systemui/power/SecPowerNotificationWarnings;->updateNotification()V
 
@@ -1104,14 +1089,14 @@
 
     invoke-static {v3, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    :cond_24
+    :cond_23
     iget v2, v0, Lcom/android/systemui/power/PowerUI;->mBatteryChargingType:I
 
-    if-lez v2, :cond_25
+    if-lez v2, :cond_24
 
     iget v2, v0, Lcom/android/systemui/power/PowerUI;->mBatterySwellingMode:I
 
-    if-nez v2, :cond_25
+    if-nez v2, :cond_24
 
     const/4 v2, 0x0
 
@@ -1145,22 +1130,22 @@
 
     invoke-virtual {v1}, Lcom/android/systemui/power/SecPowerNotificationWarnings;->showChargingNotice()V
 
-    :cond_25
+    :cond_24
     sget-boolean v2, Lcom/android/systemui/PowerUiRune;->INCOMPATIBLE_CHARGER_CHECK:Z
 
-    if-eqz v2, :cond_27
+    if-eqz v2, :cond_26
 
     iget v2, v0, Lcom/android/systemui/power/PowerUI;->mBatteryOnline:I
 
-    if-nez v2, :cond_27
+    if-nez v2, :cond_26
 
     iget-object v2, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mIncompatibleChargerDialog:Landroidx/appcompat/app/AlertDialog;
 
-    if-eqz v2, :cond_26
+    if-eqz v2, :cond_25
 
     invoke-virtual {v2}, Landroidx/appcompat/app/AppCompatDialog;->dismiss()V
 
-    :cond_26
+    :cond_25
     const-string v2, "SecPowerUI.Notification"
 
     const-string v4, "dismissing incompatible charger notification"
@@ -1177,10 +1162,10 @@
 
     invoke-virtual {v1}, Lcom/android/systemui/power/SecPowerNotificationWarnings;->showIncompatibleChargerNotice()V
 
-    :cond_27
+    :cond_26
     sget-boolean v1, Lcom/android/systemui/PowerUiRune;->ADAPTIVE_PROTECTION_NOTIFICATION:Z
 
-    if-eqz v1, :cond_28
+    if-eqz v1, :cond_27
 
     iget-object v1, v0, Lcom/android/systemui/power/PowerUI;->mContext:Landroid/content/Context;
 
@@ -1188,7 +1173,7 @@
 
     move-result v1
 
-    if-eqz v1, :cond_28
+    if-eqz v1, :cond_27
 
     iget-object v1, v0, Lcom/android/systemui/power/PowerUI;->mSleepChargingEvent:Ljava/lang/String;
 
@@ -1196,7 +1181,7 @@
 
     invoke-virtual {v0, v1, v2}, Lcom/android/systemui/power/PowerUI;->checkAdaptiveProtectionNotification(Ljava/lang/String;Ljava/lang/String;)V
 
-    :cond_28
+    :cond_27
     sget-boolean v1, Lcom/android/systemui/PowerUiRune;->BATTERY_PROTECTION_NOTIFICATION:Z
 
     if-eqz v1, :cond_52
@@ -1205,7 +1190,7 @@
 
     goto/16 :goto_1b
 
-    :cond_29
+    :cond_28
     const-string v4, "com.samsung.server.BatteryService.action.SEC_BATTERY_EVENT"
 
     invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
@@ -1214,7 +1199,7 @@
 
     const/4 v5, 0x0
 
-    if-eqz v4, :cond_34
+    if-eqz v4, :cond_33
 
     iget-object v2, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
@@ -1232,13 +1217,13 @@
 
     and-int/2addr v4, v6
 
-    if-ne v4, v6, :cond_2a
+    if-ne v4, v6, :cond_29
 
     const/4 v4, 0x1
 
     goto :goto_d
 
-    :cond_2a
+    :cond_29
     const/4 v4, 0x0
 
     :goto_d
@@ -1260,9 +1245,9 @@
 
     iget-boolean v4, v2, Lcom/android/systemui/power/PowerUI;->mWirelessFodState:Z
 
-    if-eq v3, v4, :cond_2c
+    if-eq v3, v4, :cond_2b
 
-    if-eqz v4, :cond_2c
+    if-eqz v4, :cond_2b
 
     iget-object v2, v2, Lcom/android/systemui/power/PowerUI;->mSecPowerNotificationWarnings:Lcom/android/systemui/power/SecPowerNotificationWarnings;
 
@@ -1276,7 +1261,7 @@
 
     iget-object v3, v2, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mWirelessFodAlertDialog:Landroidx/appcompat/app/AlertDialog;
 
-    if-nez v3, :cond_2c
+    if-nez v3, :cond_2b
 
     const/16 v3, 0xb
 
@@ -1286,11 +1271,11 @@
 
     iput-object v3, v2, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mWirelessFodAlertDialog:Landroidx/appcompat/app/AlertDialog;
 
-    if-nez v3, :cond_2b
+    if-nez v3, :cond_2a
 
     goto :goto_e
 
-    :cond_2b
+    :cond_2a
     new-instance v4, Lcom/android/systemui/power/SecPowerNotificationWarnings$14;
 
     invoke-direct {v4, v2}, Lcom/android/systemui/power/SecPowerNotificationWarnings$14;-><init>(Lcom/android/systemui/power/SecPowerNotificationWarnings;)V
@@ -1301,7 +1286,7 @@
 
     invoke-virtual {v2}, Landroid/app/Dialog;->show()V
 
-    :cond_2c
+    :cond_2b
     :goto_e
     iget-object v2, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
@@ -1321,13 +1306,13 @@
 
     and-int/2addr v8, v9
 
-    if-ne v8, v9, :cond_2d
+    if-ne v8, v9, :cond_2c
 
     const/4 v8, 0x1
 
     goto :goto_f
 
-    :cond_2d
+    :cond_2c
     move v8, v7
 
     :goto_f
@@ -1341,13 +1326,13 @@
 
     and-int/2addr v6, v7
 
-    if-ne v6, v7, :cond_2e
+    if-ne v6, v7, :cond_2d
 
     const/4 v6, 0x1
 
     goto :goto_10
 
-    :cond_2e
+    :cond_2d
     const/4 v6, 0x0
 
     :goto_10
@@ -1385,9 +1370,9 @@
 
     iget-object v10, v2, Lcom/android/systemui/power/PowerUI;->mContext:Landroid/content/Context;
 
-    if-eq v4, v6, :cond_2f
+    if-eq v4, v6, :cond_2e
 
-    if-eqz v6, :cond_32
+    if-eqz v6, :cond_31
 
     iget-boolean v2, v2, Lcom/android/systemui/power/PowerUI;->mBatteryWaterConnector:Z
 
@@ -1405,12 +1390,12 @@
 
     goto :goto_11
 
-    :cond_2f
+    :cond_2e
     iget-boolean v2, v2, Lcom/android/systemui/power/PowerUI;->mBatteryWaterConnector:Z
 
-    if-eq v3, v2, :cond_32
+    if-eq v3, v2, :cond_31
 
-    if-eqz v2, :cond_30
+    if-eqz v2, :cond_2f
 
     invoke-virtual {v7, v2}, Lcom/android/systemui/power/SecPowerNotificationWarnings;->showWaterProtectionAlertDialog(Z)V
 
@@ -1426,7 +1411,7 @@
 
     goto :goto_11
 
-    :cond_30
+    :cond_2f
     const-string v3, "dismiss WaterProtectionAlertDialog - isWaterDetected = "
 
     const-string v4, " mIsWaterDetected = "
@@ -1451,20 +1436,20 @@
 
     iget-object v2, v7, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mWaterProtectionPartialWakeLock:Landroid/os/PowerManager$WakeLock;
 
-    if-eqz v2, :cond_31
+    if-eqz v2, :cond_30
 
     invoke-virtual {v2}, Landroid/os/PowerManager$WakeLock;->release()V
 
     iput-object v5, v7, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mWaterProtectionPartialWakeLock:Landroid/os/PowerManager$WakeLock;
 
-    :cond_31
+    :cond_30
     iget-object v2, v7, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mWaterProtectionAlertDialog:Landroidx/appcompat/app/AlertDialog;
 
-    if-eqz v2, :cond_32
+    if-eqz v2, :cond_31
 
     invoke-virtual {v2}, Landroidx/appcompat/app/AppCompatDialog;->dismiss()V
 
-    :cond_32
+    :cond_31
     :goto_11
     iget-object v1, v1, Lcom/android/systemui/power/PowerUI$Receiver;->this$0:Lcom/android/systemui/power/PowerUI;
 
@@ -1482,13 +1467,13 @@
 
     and-int/2addr v0, v3
 
-    if-ne v0, v3, :cond_33
+    if-ne v0, v3, :cond_32
 
     const/4 v0, 0x1
 
     goto :goto_12
 
-    :cond_33
+    :cond_32
     const/4 v0, 0x0
 
     :goto_12
@@ -1532,7 +1517,7 @@
 
     goto/16 :goto_1b
 
-    :cond_34
+    :cond_33
     const-string v4, "com.samsung.intent.action.KSO_SHOW_POPUP"
 
     invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
@@ -1574,13 +1559,13 @@
     :try_end_0
     .catchall {:try_start_0 .. :try_end_0} :catchall_0
 
-    if-eqz v3, :cond_35
+    if-eqz v3, :cond_34
 
     monitor-exit v1
 
     goto/16 :goto_1b
 
-    :cond_35
+    :cond_34
     :try_start_1
     const-string v3, "SecPowerUI.Notification"
 
@@ -1588,7 +1573,7 @@
 
     invoke-static {v3, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    if-eqz v0, :cond_36
+    if-eqz v0, :cond_35
 
     iget-object v3, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mPowerManager:Landroid/os/PowerManager;
 
@@ -1602,10 +1587,10 @@
 
     invoke-virtual {v3, v6, v7, v4, v8}, Landroid/os/PowerManager;->userActivity(JII)V
 
-    :cond_36
+    :cond_35
     iget-object v3, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLCDOnWindowLp:Landroid/view/WindowManager$LayoutParams;
 
-    if-nez v3, :cond_37
+    if-nez v3, :cond_36
 
     new-instance v3, Landroid/view/WindowManager$LayoutParams;
 
@@ -1625,10 +1610,10 @@
 
     iput-object v3, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLCDOnWindowLp:Landroid/view/WindowManager$LayoutParams;
 
-    :cond_37
+    :cond_36
     sget-boolean v3, Lcom/android/systemui/LsRune;->SUPPORT_LARGE_FRONT_SUB_DISPLAY:Z
 
-    if-eqz v3, :cond_38
+    if-eqz v3, :cond_37
 
     invoke-static {}, Lcom/samsung/android/view/SemWindowManager;->getInstance()Lcom/samsung/android/view/SemWindowManager;
 
@@ -1638,17 +1623,17 @@
 
     move-result v3
 
-    if-eqz v3, :cond_38
+    if-eqz v3, :cond_37
 
     const/4 v3, 0x1
 
     goto :goto_13
 
-    :cond_38
+    :cond_37
     const/4 v3, 0x0
 
     :goto_13
-    if-nez v3, :cond_39
+    if-nez v3, :cond_38
 
     iget-object v4, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLCDOnWindowLp:Landroid/view/WindowManager$LayoutParams;
 
@@ -1660,7 +1645,7 @@
 
     goto :goto_14
 
-    :cond_39
+    :cond_38
     iget-object v4, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLCDOnWindowLp:Landroid/view/WindowManager$LayoutParams;
 
     const/4 v6, 0x3
@@ -1682,7 +1667,7 @@
 
     iput v6, v4, Landroid/view/WindowManager$LayoutParams;->inputFeatures:I
 
-    if-nez v0, :cond_3a
+    if-nez v0, :cond_39
 
     const-wide/16 v6, 0x2710
 
@@ -1694,7 +1679,7 @@
 
     invoke-virtual {v0, v6, v7}, Landroid/view/WindowManager$LayoutParams;->semSetScreenDimDuration(J)V
 
-    :cond_3a
+    :cond_39
     iget-object v0, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLCDOnWindowLp:Landroid/view/WindowManager$LayoutParams;
 
     const-string v4, "UnintentionalLcdOn"
@@ -1703,13 +1688,13 @@
 
     iget-object v0, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mWindowManager:Landroid/view/WindowManager;
 
-    if-eqz v0, :cond_3b
+    if-eqz v0, :cond_3a
 
     iget-object v0, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLcdOnWindow:Lcom/android/systemui/power/UnintentionalLcdOnView;
 
-    if-nez v0, :cond_3d
+    if-nez v0, :cond_3c
 
-    :cond_3b
+    :cond_3a
     const-string v0, "SecPowerUI.Notification"
 
     new-instance v4, Ljava/lang/StringBuilder;
@@ -1724,7 +1709,7 @@
 
     invoke-static {v0, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    if-eqz v3, :cond_3c
+    if-eqz v3, :cond_3b
 
     iget-object v0, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mContext:Landroid/content/Context;
 
@@ -1754,7 +1739,7 @@
 
     goto :goto_15
 
-    :cond_3c
+    :cond_3b
     iget-object v0, v1, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mContext:Landroid/content/Context;
 
     const-string/jumbo v2, "window"
@@ -1796,6 +1781,23 @@
 
     iput-object v1, v0, Lcom/android/systemui/power/UnintentionalLcdOnView;->mTouchListener:Lcom/android/systemui/power/SecPowerNotificationWarnings;
 
+    :cond_3c
+    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
+
+    if-eqz v0, :cond_3d
+
+    const-class v0, Lcom/android/keyguard/KeyguardUpdateMonitor;
+
+    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
+
+    move-result-object v0
+
+    check-cast v0, Lcom/android/keyguard/KeyguardUpdateMonitor;
+
+    const/4 v2, 0x1
+
+    invoke-interface {v0, v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->setShowingKeepScreenOnPopup(Z)V
+
     :cond_3d
     const/4 v0, 0x1
 
diff --git a/smali_classes2/com/android/systemui/power/SecPowerNotificationWarnings.smali b/smali_classes2/com/android/systemui/power/SecPowerNotificationWarnings.smali
index 01fe336a6..005ff5ab5 100644
--- a/smali_classes2/com/android/systemui/power/SecPowerNotificationWarnings.smali
+++ b/smali_classes2/com/android/systemui/power/SecPowerNotificationWarnings.smali
@@ -562,7 +562,7 @@
 .end method
 
 .method public final declared-synchronized dismissUnintentionalLcdOnWindow()V
-    .locals 3
+    .locals 4
 
     monitor-enter p0
 
@@ -581,39 +581,51 @@
 
     const/4 v1, 0x0
 
+    const/4 v2, 0x0
+
     if-eqz v0, :cond_1
 
-    iget-object v2, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mWindowManager:Landroid/view/WindowManager;
+    iget-object v3, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mWindowManager:Landroid/view/WindowManager;
 
-    invoke-interface {v2, v0}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V
+    invoke-interface {v3, v0}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V
 
     iget-object v0, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLcdOnWindow:Lcom/android/systemui/power/UnintentionalLcdOnView;
 
-    const/16 v2, 0x8
+    const/16 v3, 0x8
 
-    invoke-virtual {v0, v2}, Landroid/widget/LinearLayout;->setVisibility(I)V
+    invoke-virtual {v0, v3}, Landroid/widget/LinearLayout;->setVisibility(I)V
 
     iget-object v0, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLcdOnWindow:Lcom/android/systemui/power/UnintentionalLcdOnView;
 
-    iget-object v2, v0, Lcom/android/systemui/power/UnintentionalLcdOnView;->mTouchListener:Lcom/android/systemui/power/SecPowerNotificationWarnings;
+    iget-object v3, v0, Lcom/android/systemui/power/UnintentionalLcdOnView;->mTouchListener:Lcom/android/systemui/power/SecPowerNotificationWarnings;
 
-    if-ne v2, p0, :cond_0
+    if-ne v3, p0, :cond_0
 
-    iput-object v1, v0, Lcom/android/systemui/power/UnintentionalLcdOnView;->mTouchListener:Lcom/android/systemui/power/SecPowerNotificationWarnings;
+    iput-object v2, v0, Lcom/android/systemui/power/UnintentionalLcdOnView;->mTouchListener:Lcom/android/systemui/power/SecPowerNotificationWarnings;
 
     :cond_0
-    iput-object v1, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLcdOnWindow:Lcom/android/systemui/power/UnintentionalLcdOnView;
-
-    const/4 v0, 0x0
+    iput-object v2, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLcdOnWindow:Lcom/android/systemui/power/UnintentionalLcdOnView;
 
-    iput-boolean v0, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mIsUnintentionalPopupShowing:Z
+    iput-boolean v1, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mIsUnintentionalPopupShowing:Z
 
     :cond_1
-    iput-object v1, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mWindowManager:Landroid/view/WindowManager;
+    iput-object v2, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mWindowManager:Landroid/view/WindowManager;
+
+    iput-object v2, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLCDOnWindowLp:Landroid/view/WindowManager$LayoutParams;
+
+    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
+
+    if-eqz v0, :cond_2
+
+    const-class v0, Lcom/android/keyguard/KeyguardUpdateMonitor;
+
+    invoke-static {v0}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
+
+    move-result-object v0
 
-    iput-object v1, p0, Lcom/android/systemui/power/SecPowerNotificationWarnings;->mUnintentionalLCDOnWindowLp:Landroid/view/WindowManager$LayoutParams;
+    check-cast v0, Lcom/android/keyguard/KeyguardUpdateMonitor;
 
-    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
+    invoke-interface {v0, v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->setShowingKeepScreenOnPopup(Z)V
     :try_end_0
     .catchall {:try_start_0 .. :try_end_0} :catchall_0
 
diff --git a/smali_classes2/com/android/systemui/shade/NotificationPanelViewController.smali b/smali_classes2/com/android/systemui/shade/NotificationPanelViewController.smali
index 12a0b886f..61dc3fcd3 100644
--- a/smali_classes2/com/android/systemui/shade/NotificationPanelViewController.smali
+++ b/smali_classes2/com/android/systemui/shade/NotificationPanelViewController.smali
@@ -53,6 +53,8 @@
 
 .field public mBarState:I
 
+.field public mBioUnlockControllerLazy:Ldagger/Lazy;
+
 .field public mBlockingExpansionForCurrentTouch:Z
 
 .field public mBottomAreaShadeAlpha:F
@@ -10698,33 +10700,6 @@
     invoke-virtual {v2}, Landroid/widget/FrameLayout;->bringToFront()V
 
     :cond_9
-    sget-boolean v2, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_GUIDE_POPUP:Z
-
-    if-eqz v2, :cond_a
-
-    const v2, 0x7f0a051d
-
-    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->findViewById(I)Landroid/view/View;
-
-    move-result-object v2
-
-    check-cast v2, Landroid/view/ViewStub;
-
-    const v3, 0x7f0d0141
-
-    invoke-virtual {v2, v3}, Landroid/view/ViewStub;->setLayoutResource(I)V
-
-    invoke-virtual {v2}, Landroid/view/ViewStub;->inflate()Landroid/view/View;
-
-    move-result-object v2
-
-    check-cast v2, Lcom/android/keyguard/biometrics/KeyguardFingerprintGuidePopup;
-
-    if-eqz v2, :cond_a
-
-    invoke-virtual {v2}, Landroid/widget/FrameLayout;->bringToFront()V
-
-    :cond_a
     iget-object v2, v0, Lcom/android/systemui/shade/NotificationPanelViewController;->mWakeUpCoordinator:Lcom/android/systemui/statusbar/notification/NotificationWakeUpCoordinator;
 
     iput-object v5, v2, Lcom/android/systemui/statusbar/notification/NotificationWakeUpCoordinator;->mStackScrollerController:Lcom/android/systemui/statusbar/notification/stack/NotificationStackScrollLayoutController;
@@ -10771,7 +10746,7 @@
 
     const/4 v3, 0x1
 
-    if-eqz v2, :cond_d
+    if-eqz v2, :cond_c
 
     new-instance v2, Lcom/android/systemui/shade/NotificationPanelViewController$8;
 
@@ -10811,11 +10786,11 @@
 
     iget-object v2, v4, Lcom/android/systemui/statusbar/phone/DcmMascotViewContainer;->injector:Lcom/android/systemui/shade/NotificationPanelViewController$8;
 
-    if-nez v2, :cond_b
+    if-nez v2, :cond_a
 
     const/4 v2, 0x0
 
-    :cond_b
+    :cond_a
     iget-object v2, v2, Lcom/android/systemui/shade/NotificationPanelViewController$8;->this$0:Lcom/android/systemui/shade/NotificationPanelViewController;
 
     iget-object v2, v2, Lcom/android/systemui/shade/NotificationPanelViewController;->mNotificationContainerParent:Lcom/android/systemui/shade/NotificationsQuickSettingsContainer;
@@ -10892,7 +10867,7 @@
 
     iget-boolean v2, v4, Lcom/android/systemui/statusbar/phone/DcmMascotViewContainer;->isBootCompleted:Z
 
-    if-eqz v2, :cond_c
+    if-eqz v2, :cond_b
 
     iget-object v2, v4, Lcom/android/systemui/statusbar/phone/DcmMascotViewContainer;->remoteViews:Landroid/widget/RemoteViews;
 
@@ -10900,7 +10875,7 @@
 
     goto :goto_3
 
-    :cond_c
+    :cond_b
     iput-boolean v3, v4, Lcom/android/systemui/statusbar/phone/DcmMascotViewContainer;->isWaitingForBootComplete:Z
 
     :goto_3
@@ -10918,14 +10893,14 @@
 
     invoke-virtual {v2, v4}, Lcom/android/keyguard/KeyguardUpdateMonitor;->registerCallback(Lcom/android/keyguard/KeyguardUpdateMonitorCallback;)V
 
-    :cond_d
+    :cond_c
     iget-boolean v2, v0, Lcom/android/systemui/shade/NotificationPanelViewController;->mSplitShadeEnabled:Z
 
-    if-eqz v2, :cond_e
+    if-eqz v2, :cond_d
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/shade/NotificationPanelViewController;->updateResources()V
 
-    :cond_e
+    :cond_d
     iget-object v2, v0, Lcom/android/systemui/shade/NotificationPanelViewController;->mTapAgainViewController:Lcom/android/systemui/statusbar/phone/TapAgainViewController;
 
     invoke-virtual {v2}, Lcom/android/systemui/util/ViewController;->init()V
@@ -11130,23 +11105,23 @@
 
     move-result v1
 
-    if-eqz v1, :cond_f
+    if-eqz v1, :cond_e
 
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
     move-result v1
 
-    if-nez v1, :cond_f
+    if-nez v1, :cond_e
 
     sget-boolean v1, Lcom/android/systemui/LsRune;->LOCKUI_SUB_DISPLAY_LOCK:Z
 
-    if-nez v1, :cond_f
+    if-nez v1, :cond_e
 
     move v9, v3
 
     goto :goto_4
 
-    :cond_f
+    :cond_e
     move v9, v6
 
     :goto_4
@@ -11482,7 +11457,7 @@
 
     invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->setLength(I)V
 
-    const-string v2, "onTrackingStarted: "
+    const-string/jumbo v2, "onTrackingStarted: "
 
     invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -11616,7 +11591,7 @@
 
     invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->setLength(I)V
 
-    const-string v2, "onTrackingStopped: "
+    const-string/jumbo v2, "onTrackingStopped: "
 
     invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -11829,7 +11804,7 @@
     :goto_1
     new-instance p0, Ljava/lang/StringBuilder;
 
-    const-string p1, "onUiInfoRequested bottom: "
+    const-string/jumbo p1, "onUiInfoRequested bottom: "
 
     invoke-direct {p0, p1}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
 
@@ -17383,7 +17358,7 @@
 .end method
 
 .method public final updateVisibility()V
-    .locals 7
+    .locals 8
 
     iget-boolean v0, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mHeadsUpAnimatingAway:Z
 
@@ -17415,7 +17390,9 @@
 
     iput v4, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mPanelInVisibleReason:I
 
-    if-nez v0, :cond_8
+    const/4 v5, 0x4
+
+    if-nez v0, :cond_9
 
     iput v4, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mPanelInVisibleReason:I
 
@@ -17430,36 +17407,36 @@
     :cond_2
     if-eqz v4, :cond_3
 
-    iget-boolean v5, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mBouncerShowing:Z
+    iget-boolean v6, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mBouncerShowing:Z
 
-    if-eqz v5, :cond_3
+    if-eqz v6, :cond_3
 
     iput v2, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mPanelInVisibleReason:I
 
     move v4, v1
 
     :cond_3
-    sget-boolean v5, Lcom/android/systemui/LsRune;->KEYGUARD_SUB_DISPLAY_LOCK:Z
+    sget-boolean v6, Lcom/android/systemui/LsRune;->KEYGUARD_SUB_DISPLAY_LOCK:Z
 
-    if-eqz v5, :cond_4
+    if-eqz v6, :cond_4
 
     if-eqz v4, :cond_4
 
-    const-class v5, Lcom/android/systemui/keyguard/KeyguardFoldController;
+    const-class v6, Lcom/android/systemui/keyguard/KeyguardFoldController;
 
-    invoke-static {v5}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
+    invoke-static {v6}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    move-result-object v5
+    move-result-object v6
 
-    check-cast v5, Lcom/android/systemui/keyguard/KeyguardFoldController;
+    check-cast v6, Lcom/android/systemui/keyguard/KeyguardFoldController;
 
-    check-cast v5, Lcom/android/systemui/keyguard/KeyguardFoldControllerImpl;
+    check-cast v6, Lcom/android/systemui/keyguard/KeyguardFoldControllerImpl;
 
-    invoke-virtual {v5}, Lcom/android/systemui/keyguard/KeyguardFoldControllerImpl;->isUnlockOnFoldOpened()Z
+    invoke-virtual {v6}, Lcom/android/systemui/keyguard/KeyguardFoldControllerImpl;->isUnlockOnFoldOpened()Z
 
-    move-result v5
+    move-result v6
 
-    if-eqz v5, :cond_4
+    if-eqz v6, :cond_4
 
     const/4 v4, 0x2
 
@@ -17468,43 +17445,43 @@
     move v4, v1
 
     :cond_4
-    sget-boolean v5, Lcom/android/systemui/LsRune;->SECURITY_SWIPE_BOUNCER:Z
+    sget-boolean v6, Lcom/android/systemui/LsRune;->SECURITY_SWIPE_BOUNCER:Z
 
-    if-eqz v5, :cond_6
+    if-eqz v6, :cond_6
 
     if-eqz v4, :cond_6
 
-    const-class v5, Lcom/android/systemui/statusbar/policy/KeyguardStateController;
+    const-class v6, Lcom/android/systemui/statusbar/policy/KeyguardStateController;
 
-    invoke-static {v5}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
+    invoke-static {v6}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
 
-    move-result-object v5
+    move-result-object v6
 
-    check-cast v5, Lcom/android/systemui/statusbar/policy/KeyguardStateController;
+    check-cast v6, Lcom/android/systemui/statusbar/policy/KeyguardStateController;
 
-    check-cast v5, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;
+    check-cast v6, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;
 
-    iget-boolean v6, v5, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mIsSwipeBouncer:Z
+    iget-boolean v7, v6, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mIsSwipeBouncer:Z
 
-    if-eqz v6, :cond_5
+    if-eqz v7, :cond_5
 
-    iget-boolean v6, v5, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mCanDismissLockScreen:Z
+    iget-boolean v7, v6, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mCanDismissLockScreen:Z
 
-    if-eqz v6, :cond_5
+    if-eqz v7, :cond_5
 
-    iget-boolean v5, v5, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mShowing:Z
+    iget-boolean v6, v6, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mShowing:Z
 
-    if-eqz v5, :cond_5
+    if-eqz v6, :cond_5
 
-    move v5, v2
+    move v6, v2
 
     goto :goto_2
 
     :cond_5
-    move v5, v1
+    move v6, v1
 
     :goto_2
-    if-eqz v5, :cond_6
+    if-eqz v6, :cond_6
 
     const/4 v4, 0x3
 
@@ -17513,43 +17490,78 @@
     move v4, v1
 
     :cond_6
-    if-eqz v4, :cond_7
+    sget-boolean v6, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
 
-    goto :goto_3
+    if-eqz v6, :cond_7
+
+    invoke-virtual {p0}, Lcom/android/systemui/shade/NotificationPanelViewController;->isKeyguardShowing()Z
+
+    move-result v6
+
+    if-eqz v6, :cond_7
+
+    invoke-static {}, Lcom/android/systemui/wallpaper/WallpaperUtils;->isLiveWallpaperEnabled()Z
+
+    move-result v6
+
+    if-eqz v6, :cond_7
+
+    iget-object v6, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mBioUnlockControllerLazy:Ldagger/Lazy;
+
+    invoke-interface {v6}, Ldagger/Lazy;->get()Ljava/lang/Object;
+
+    move-result-object v6
+
+    check-cast v6, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;
+
+    invoke-virtual {v6}, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->isWakeAndUnlock()Z
+
+    move-result v6
+
+    if-eqz v6, :cond_7
+
+    iput v5, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mPanelInVisibleReason:I
+
+    move v4, v1
 
     :cond_7
+    if-eqz v4, :cond_8
+
+    goto :goto_3
+
+    :cond_8
     move v4, v1
 
     goto :goto_4
 
-    :cond_8
+    :cond_9
     :goto_3
     move v4, v2
 
     :goto_4
-    iget v5, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mPanelInVisibleReason:I
+    iget v6, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mPanelInVisibleReason:I
 
     iget-object p0, p0, Lcom/android/systemui/shade/NotificationPanelViewController;->mView:Lcom/android/systemui/shade/NotificationPanelView;
 
     invoke-virtual {p0}, Landroid/widget/FrameLayout;->getVisibility()I
 
-    move-result v6
+    move-result v7
 
-    if-nez v6, :cond_9
+    if-nez v7, :cond_a
 
     goto :goto_5
 
-    :cond_9
+    :cond_a
     move v2, v1
 
     :goto_5
-    if-ne v2, v4, :cond_a
+    if-ne v2, v4, :cond_b
 
-    if-nez v4, :cond_b
+    if-nez v4, :cond_c
 
-    if-eq v3, v5, :cond_b
+    if-eq v3, v6, :cond_c
 
-    :cond_a
+    :cond_b
     invoke-static {v4}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;
 
     move-result-object v2
@@ -17558,7 +17570,7 @@
 
     move-result-object v0
 
-    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
     move-result-object v3
 
@@ -17572,13 +17584,13 @@
 
     invoke-static {v2, v3, v0}, Lcom/android/systemui/keyguard/Log;->d(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/Object;)V
 
-    :cond_b
-    if-eqz v4, :cond_c
+    :cond_c
+    if-eqz v4, :cond_d
 
     goto :goto_6
 
-    :cond_c
-    const/4 v1, 0x4
+    :cond_d
+    move v1, v5
 
     :goto_6
     invoke-virtual {p0, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V
diff --git a/smali_classes2/com/android/systemui/shade/NotificationPanelViewController_Factory.smali b/smali_classes2/com/android/systemui/shade/NotificationPanelViewController_Factory.smali
index 84cf383ed..7efeab37d 100644
--- a/smali_classes2/com/android/systemui/shade/NotificationPanelViewController_Factory.smali
+++ b/smali_classes2/com/android/systemui/shade/NotificationPanelViewController_Factory.smali
@@ -2052,5 +2052,9 @@
 
     invoke-static {v0}, Ldagger/internal/DoubleCheck;->lazy(Ljavax/inject/Provider;)Ldagger/Lazy;
 
+    move-result-object v0
+
+    iput-object v0, v1, Lcom/android/systemui/shade/NotificationPanelViewController;->mBioUnlockControllerLazy:Ldagger/Lazy;
+
     return-object v1
 .end method
diff --git a/smali_classes2/com/android/systemui/statusbar/KeyguardSecIndicationController$$ExternalSyntheticLambda1.smali b/smali_classes2/com/android/systemui/statusbar/KeyguardSecIndicationController$$ExternalSyntheticLambda1.smali
index 5cbe819d2..9af34bc1b 100644
--- a/smali_classes2/com/android/systemui/statusbar/KeyguardSecIndicationController$$ExternalSyntheticLambda1.smali
+++ b/smali_classes2/com/android/systemui/statusbar/KeyguardSecIndicationController$$ExternalSyntheticLambda1.smali
@@ -24,77 +24,36 @@
 
 # virtual methods
 .method public final run()V
-    .locals 3
+    .locals 2
 
     iget-object p0, p0, Lcom/android/systemui/statusbar/KeyguardSecIndicationController$$ExternalSyntheticLambda1;->f$0:Lcom/android/systemui/statusbar/KeyguardSecIndicationController;
 
     invoke-virtual {p0}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
+    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
 
-    iget-object v1, p0, Lcom/android/systemui/statusbar/KeyguardIndicationController;->mContext:Landroid/content/Context;
+    if-eqz v0, :cond_0
 
-    if-eqz v0, :cond_3
-
-    invoke-virtual {v1}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
-
-    move-result-object v0
-
-    invoke-virtual {v0}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
-
-    move-result-object v0
-
-    iget-object v0, v0, Landroid/content/res/Configuration;->windowConfiguration:Landroid/app/WindowConfiguration;
-
-    invoke-virtual {v0}, Landroid/app/WindowConfiguration;->getRotation()I
-
-    move-result v0
-
-    const/4 v2, 0x1
-
-    if-eq v0, v2, :cond_2
-
-    const/4 v2, 0x2
-
-    if-eq v0, v2, :cond_1
-
-    const/4 v2, 0x3
-
-    if-eq v0, v2, :cond_0
-
-    const v0, 0x7f13086d
+    const v0, 0x7f130974
 
     goto :goto_0
 
     :cond_0
-    const v0, 0x7f13086f
-
-    goto :goto_0
-
-    :cond_1
-    const v0, 0x7f13086e
-
-    goto :goto_0
-
-    :cond_2
-    const v0, 0x7f130870
-
-    goto :goto_0
-
-    :cond_3
     const/4 v0, 0x0
 
     :goto_0
-    if-eqz v0, :cond_4
+    if-eqz v0, :cond_1
+
+    iget-object v1, p0, Lcom/android/systemui/statusbar/KeyguardIndicationController;->mTopIndicationView:Lcom/android/systemui/statusbar/phone/KeyguardIndicationTextView;
 
-    iget-object p0, p0, Lcom/android/systemui/statusbar/KeyguardIndicationController;->mTopIndicationView:Lcom/android/systemui/statusbar/phone/KeyguardIndicationTextView;
+    iget-object p0, p0, Lcom/android/systemui/statusbar/KeyguardIndicationController;->mContext:Landroid/content/Context;
 
-    invoke-virtual {v1, v0}, Landroid/content/Context;->getString(I)Ljava/lang/String;
+    invoke-virtual {p0, v0}, Landroid/content/Context;->getString(I)Ljava/lang/String;
 
-    move-result-object v0
+    move-result-object p0
 
-    invoke-virtual {p0, v0}, Landroid/widget/TextView;->announceForAccessibility(Ljava/lang/CharSequence;)V
+    invoke-virtual {v1, p0}, Landroid/widget/TextView;->announceForAccessibility(Ljava/lang/CharSequence;)V
 
-    :cond_4
+    :cond_1
     return-void
 .end method
diff --git a/smali_classes2/com/android/systemui/statusbar/KeyguardSecIndicationController$SecKeyguardCallback.smali b/smali_classes2/com/android/systemui/statusbar/KeyguardSecIndicationController$SecKeyguardCallback.smali
index 1aed09f0f..c7d5eb862 100644
--- a/smali_classes2/com/android/systemui/statusbar/KeyguardSecIndicationController$SecKeyguardCallback.smali
+++ b/smali_classes2/com/android/systemui/statusbar/KeyguardSecIndicationController$SecKeyguardCallback.smali
@@ -280,7 +280,7 @@
 
     if-ne v0, v5, :cond_8
 
-    sput v3, Lcom/android/systemui/util/DeviceType;->supportInDisplayFingerprint:I
+    sput v4, Lcom/android/systemui/util/DeviceType;->supportInDisplayFingerprint:I
 
     :cond_8
     sget v0, Lcom/android/systemui/util/DeviceType;->supportInDisplayFingerprint:I
@@ -439,11 +439,11 @@
 
     const/4 v4, 0x2
 
-    if-ne v2, v4, :cond_13
+    if-ne v2, v4, :cond_12
 
     iget-boolean p3, p3, Lcom/android/keyguard/KeyguardUpdateMonitor;->mGoingToSleep:Z
 
-    if-nez p3, :cond_13
+    if-nez p3, :cond_12
 
     iget-object p3, v1, Lcom/android/systemui/statusbar/KeyguardIndicationController;->mContext:Landroid/content/Context;
 
@@ -559,11 +559,7 @@
 
     if-eqz p3, :cond_d
 
-    sget-boolean p3, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz p3, :cond_d
-
-    if-eq p2, v4, :cond_12
+    sget-object p3, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     :cond_d
     invoke-static {}, Lcom/android/systemui/util/DeviceState;->isInDisplayFpSensorPositionHigh()Z
@@ -597,7 +593,7 @@
 
     if-ne p2, v8, :cond_f
 
-    sput v0, Lcom/android/systemui/util/DeviceType;->supportInDisplayFingerprint:I
+    sput v3, Lcom/android/systemui/util/DeviceType;->supportInDisplayFingerprint:I
 
     :cond_f
     sget p2, Lcom/android/systemui/util/DeviceType;->supportInDisplayFingerprint:I
@@ -625,9 +621,8 @@
 
     invoke-virtual {v1, p2}, Lcom/android/systemui/statusbar/KeyguardSecIndicationController;->showBounceAnimation(Lcom/android/systemui/statusbar/phone/KeyguardIndicationTextView;)V
 
-    :cond_12
     :goto_4
-    if-ne p1, v8, :cond_13
+    if-ne p1, v8, :cond_12
 
     iget-object p1, v1, Lcom/android/systemui/statusbar/KeyguardSecIndicationController;->mAccessibilityManager:Landroid/view/accessibility/AccessibilityManager;
 
@@ -635,13 +630,13 @@
 
     move-result p1
 
-    if-eqz p1, :cond_13
+    if-eqz p1, :cond_12
 
     invoke-interface {v9}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isMaxFailedBiometricUnlockAttemptsShort()Z
 
     move-result p1
 
-    if-nez p1, :cond_13
+    if-nez p1, :cond_12
 
     sget-object p1, Lcom/android/systemui/statusbar/IndicationEventType;->UNLOCK_GUIDE:Lcom/android/systemui/statusbar/IndicationEventType;
 
@@ -665,7 +660,7 @@
 
     invoke-virtual {p1, p2}, Lio/reactivex/Completable;->subscribe(Lio/reactivex/functions/Action;)V
 
-    :cond_13
+    :cond_12
     :goto_5
     iput v8, p0, Lcom/android/systemui/statusbar/KeyguardSecIndicationController$SecKeyguardCallback;->mLastSuccessiveErrorMessage:I
 
diff --git a/smali_classes2/com/android/systemui/statusbar/phone/BiometricUnlockController.smali b/smali_classes2/com/android/systemui/statusbar/phone/BiometricUnlockController.smali
index 0a2781a79..f1dc14a67 100644
--- a/smali_classes2/com/android/systemui/statusbar/phone/BiometricUnlockController.smali
+++ b/smali_classes2/com/android/systemui/statusbar/phone/BiometricUnlockController.smali
@@ -914,9 +914,7 @@
     goto :goto_2
 
     :cond_4
-    sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-nez v1, :cond_6
+    sget-object v1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     invoke-virtual {p0}, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->isUpdatePossible()Z
 
@@ -1454,16 +1452,14 @@
     goto :goto_7
 
     :cond_b
-    sget-boolean v5, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    const-string v10, "2"
-
-    if-nez v5, :cond_d
+    sget-object v5, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->isUpdatePossible()Z
 
     move-result v5
 
+    const-string v10, "2"
+
     if-eqz v5, :cond_d
 
     invoke-virtual {v4, v8}, Lcom/android/keyguard/KeyguardUpdateMonitor;->isUnlockingWithBiometricAllowed(Z)Z
@@ -1656,9 +1652,7 @@
     goto :goto_1
 
     :cond_1
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-nez v0, :cond_4
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     invoke-virtual {p0}, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->isUpdatePossible()Z
 
@@ -1773,7 +1767,7 @@
 .end method
 
 .method public final onBiometricHelp(ILjava/lang/String;Landroid/hardware/biometrics/BiometricSourceType;)V
-    .locals 7
+    .locals 9
 
     sget-object v0, Landroid/hardware/biometrics/BiometricSourceType;->FINGERPRINT:Landroid/hardware/biometrics/BiometricSourceType;
 
@@ -1795,125 +1789,127 @@
     return-void
 
     :cond_1
-    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
+    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
 
-    const/4 v0, 0x0
+    const/4 v1, -0x1
+
+    const/4 v2, 0x0
 
-    invoke-virtual {p0, p3, v0}, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->vibrate(Landroid/hardware/biometrics/BiometricSourceType;Z)V
+    if-eqz v0, :cond_2
 
+    if-ne p1, v1, :cond_3
+
+    :cond_2
+    invoke-virtual {p0, p3, v2}, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->vibrate(Landroid/hardware/biometrics/BiometricSourceType;Z)V
+
+    :cond_3
     const/4 p3, 0x1
 
-    iget-object v1, p0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mContext:Landroid/content/Context;
+    iget-object v0, p0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mContext:Landroid/content/Context;
 
-    if-eq p1, p3, :cond_8
+    if-eq p1, p3, :cond_a
 
-    const/4 v2, 0x2
+    const/4 v3, 0x2
 
-    if-eq p1, v2, :cond_7
+    if-eq p1, v3, :cond_9
 
-    const/4 v2, 0x3
+    const/4 v3, 0x3
 
-    if-eq p1, v2, :cond_6
+    if-eq p1, v3, :cond_8
 
-    const/4 v2, 0x5
+    const/4 v3, 0x5
 
-    if-eq p1, v2, :cond_5
+    if-eq p1, v3, :cond_7
 
-    const/16 v2, 0x3e9
+    const/16 v3, 0x3e9
 
-    if-eq p1, v2, :cond_4
+    if-eq p1, v3, :cond_6
 
-    const/16 v2, 0x3eb
+    const/16 v3, 0x3eb
 
-    if-eq p1, v2, :cond_3
+    if-eq p1, v3, :cond_5
 
-    const/16 v2, 0x3ec
+    const/16 v3, 0x3ec
 
-    if-eq p1, v2, :cond_2
+    if-eq p1, v3, :cond_4
 
     goto :goto_0
 
-    :cond_2
+    :cond_4
     const p2, 0x7f130848
 
-    invoke-virtual {v1, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
+    invoke-virtual {v0, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
 
     move-result-object p2
 
     goto :goto_0
 
-    :cond_3
+    :cond_5
     const p2, 0x7f130844
 
-    invoke-virtual {v1, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
+    invoke-virtual {v0, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
 
     move-result-object p2
 
     goto :goto_0
 
-    :cond_4
+    :cond_6
     const p2, 0x7f130847
 
-    invoke-virtual {v1, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
+    invoke-virtual {v0, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
 
     move-result-object p2
 
     goto :goto_0
 
-    :cond_5
+    :cond_7
     const p2, 0x7f130846
 
-    invoke-virtual {v1, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
+    invoke-virtual {v0, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
 
     move-result-object p2
 
     goto :goto_0
 
-    :cond_6
+    :cond_8
     const p2, 0x7f130842
 
-    invoke-virtual {v1, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
+    invoke-virtual {v0, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
 
     move-result-object p2
 
     goto :goto_0
 
-    :cond_7
+    :cond_9
     const p2, 0x7f130843
 
-    invoke-virtual {v1, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
+    invoke-virtual {v0, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
 
     move-result-object p2
 
     goto :goto_0
 
-    :cond_8
+    :cond_a
     const p2, 0x7f130845
 
-    invoke-virtual {v1, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
+    invoke-virtual {v0, p2}, Landroid/content/Context;->getString(I)Ljava/lang/String;
 
     move-result-object p2
 
     :goto_0
-    move-object v3, p2
-
-    sget-boolean p2, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-nez p2, :cond_b
+    move-object v5, p2
 
     invoke-virtual {p0}, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->isUpdatePossible()Z
 
     move-result p2
 
-    if-eqz p2, :cond_b
+    if-eqz p2, :cond_d
 
-    const/4 p2, -0x1
+    if-eq p1, v1, :cond_d
 
-    if-eq p1, p2, :cond_b
-
-    iget-object v1, p0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mBiometricToastView:Lcom/android/keyguard/biometrics/KeyguardBiometricToastView;
+    iget-object v3, p0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mBiometricToastView:Lcom/android/keyguard/biometrics/KeyguardBiometricToastView;
 
-    sget-object v2, Lcom/android/keyguard/biometrics/KeyguardBiometricToastView$ToastType;->FingerprintAuthenticationHelp:Lcom/android/keyguard/biometrics/KeyguardBiometricToastView$ToastType;
+    sget-object v4, Lcom/android/keyguard/biometrics/KeyguardBiometricToastView$ToastType;->FingerprintAuthenticationHelp:Lcom/android/keyguard/biometrics/KeyguardBiometricToastView$ToastType;
 
     iget-object p1, p0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
 
@@ -1923,37 +1919,37 @@
 
     invoke-virtual {p1, p2}, Lcom/android/keyguard/KeyguardUpdateMonitor;->getUserHasTrust(I)Z
 
-    move-result v4
+    move-result v6
 
     iget-object p1, p0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mKeyguardStateController:Lcom/android/systemui/statusbar/policy/KeyguardStateController;
 
     check-cast p1, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;
 
-    iget-boolean v5, p1, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mCanDismissLockScreen:Z
+    iget-boolean v7, p1, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mCanDismissLockScreen:Z
 
     iget-boolean p1, p1, Lcom/android/systemui/statusbar/policy/KeyguardStateControllerImpl;->mOccluded:Z
 
-    if-nez p1, :cond_a
+    if-nez p1, :cond_c
 
     iget p0, p0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mDynamicLockMode:I
 
-    if-ne p0, p3, :cond_9
+    if-ne p0, p3, :cond_b
 
     goto :goto_1
 
-    :cond_9
-    move v6, v0
+    :cond_b
+    move v8, v2
 
     goto :goto_2
 
-    :cond_a
+    :cond_c
     :goto_1
-    move v6, p3
+    move v8, p3
 
     :goto_2
-    invoke-virtual/range {v1 .. v6}, Lcom/android/keyguard/biometrics/KeyguardBiometricToastView;->update(Lcom/android/keyguard/biometrics/KeyguardBiometricToastView$ToastType;Ljava/lang/String;ZZZ)V
+    invoke-virtual/range {v3 .. v8}, Lcom/android/keyguard/biometrics/KeyguardBiometricToastView;->update(Lcom/android/keyguard/biometrics/KeyguardBiometricToastView$ToastType;Ljava/lang/String;ZZZ)V
 
-    :cond_b
+    :cond_d
     return-void
 .end method
 
@@ -2277,7 +2273,7 @@
 
     const/4 v10, 0x6
 
-    if-eqz v3, :cond_e
+    if-eqz v3, :cond_f
 
     iget v3, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mMode:I
 
@@ -2359,9 +2355,9 @@
     goto :goto_2
 
     :cond_3
-    if-eqz v11, :cond_a
+    if-eqz v11, :cond_b
 
-    if-nez v12, :cond_a
+    if-nez v12, :cond_b
 
     if-eq v3, v6, :cond_5
 
@@ -2374,7 +2370,7 @@
     goto :goto_2
 
     :cond_4
-    if-nez v13, :cond_a
+    if-nez v13, :cond_b
 
     invoke-virtual {v1, v8}, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->setWakeAndUnlock(Z)V
 
@@ -2387,17 +2383,28 @@
     goto :goto_2
 
     :cond_5
-    sget-object v14, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
+    sget-boolean v14, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_SIDE:Z
+
+    if-eqz v14, :cond_6
 
+    iget-object v14, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->settingsHelper:Lcom/android/systemui/util/SettingsHelper;
+
+    invoke-virtual {v14}, Lcom/android/systemui/util/SettingsHelper;->isEnabledWof()Z
+
+    move-result v14
+
+    if-eqz v14, :cond_b
+
+    :cond_6
     invoke-virtual {v1, v6}, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->setWakeAndUnlock(Z)V
 
     iget-boolean v14, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->curIsAodBrighterThanNormal:Z
 
-    if-eqz v14, :cond_7
+    if-eqz v14, :cond_8
 
     sget-boolean v15, Lcom/android/systemui/LsRune;->AOD_FULLSCREEN:Z
 
-    if-eqz v15, :cond_6
+    if-eqz v15, :cond_7
 
     iget-object v15, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->settingsHelper:Lcom/android/systemui/util/SettingsHelper;
 
@@ -2405,7 +2412,7 @@
 
     move-result v15
 
-    if-eqz v15, :cond_6
+    if-eqz v15, :cond_7
 
     iget-object v15, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->aodAmbientWallpaperHelper:Lcom/android/systemui/aod/AODAmbientWallpaperHelper;
 
@@ -2413,48 +2420,48 @@
 
     move-result v15
 
-    if-eqz v15, :cond_6
+    if-eqz v15, :cond_7
 
     move v15, v6
 
     goto :goto_1
 
-    :cond_6
+    :cond_7
     move v15, v8
 
     :goto_1
-    if-eqz v15, :cond_8
+    if-eqz v15, :cond_9
 
-    :cond_7
+    :cond_8
     iget-object v15, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->screenLifecycle:Lcom/android/systemui/keyguard/ScreenLifecycle;
 
     iget v15, v15, Lcom/android/systemui/keyguard/ScreenLifecycle;->mScreenState:I
 
-    if-nez v15, :cond_9
+    if-nez v15, :cond_a
 
-    :cond_8
+    :cond_9
     iget-object v15, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->windowVisibilityController:Lcom/android/systemui/keyguard/WindowVisibilityController;
 
     iput-object v15, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->curVisibilityController:Lcom/android/systemui/keyguard/VisibilityController;
 
-    if-eqz v14, :cond_a
+    if-eqz v14, :cond_b
 
     iput-boolean v6, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->needsBlankScreen:Z
 
     goto :goto_2
 
-    :cond_9
+    :cond_a
     iget-object v14, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->surfaceVisibilityController:Lcom/android/systemui/keyguard/SurfaceVisibilityController;
 
     iput-object v14, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->curVisibilityController:Lcom/android/systemui/keyguard/VisibilityController;
 
     iput-boolean v6, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->isInvisibleAfterGoingAwayTransStarted:Z
 
-    :cond_a
+    :cond_b
     :goto_2
     iget-object v14, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->curVisibilityController:Lcom/android/systemui/keyguard/VisibilityController;
 
-    if-eqz v14, :cond_b
+    if-eqz v14, :cond_c
 
     invoke-virtual {v14}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
@@ -2472,18 +2479,18 @@
 
     invoke-static {v14}, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->logD(Ljava/lang/String;)V
 
-    :cond_b
+    :cond_c
     invoke-virtual {v1}, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->isFastWakeAndUnlockMode()Z
 
     move-result v14
 
-    if-nez v14, :cond_c
+    if-nez v14, :cond_d
 
     invoke-virtual {v1}, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->isFastUnlockMode()Z
 
     move-result v15
 
-    if-nez v15, :cond_c
+    if-nez v15, :cond_d
 
     const-string v14, "not supported mode="
 
@@ -2513,20 +2520,20 @@
 
     goto :goto_4
 
-    :cond_c
+    :cond_d
     iget-boolean v3, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->isInvisibleAfterGoingAwayTransStarted:Z
 
-    if-eqz v14, :cond_d
+    if-eqz v14, :cond_e
 
     iget-boolean v9, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->needsBlankScreen:Z
 
-    if-eqz v9, :cond_d
+    if-eqz v9, :cond_e
 
     move v9, v6
 
     goto :goto_3
 
-    :cond_d
+    :cond_e
     move v9, v8
 
     :goto_3
@@ -2557,7 +2564,7 @@
     :goto_4
     iget-boolean v3, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->isBrightnessChangedCallbackRegistered:Z
 
-    if-eqz v3, :cond_e
+    if-eqz v3, :cond_f
 
     const-string/jumbo v3, "unregisterBrightnessListener"
 
@@ -2573,10 +2580,10 @@
 
     iput-boolean v8, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->isBrightnessChangedCallbackRegistered:Z
 
-    :cond_e
+    :cond_f
     iget v3, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mMode:I
 
-    if-ne v3, v10, :cond_f
+    if-ne v3, v10, :cond_10
 
     iget-object v3, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mPowerManager:Landroid/os/PowerManager;
 
@@ -2584,48 +2591,48 @@
 
     move-result v3
 
-    if-eqz v3, :cond_f
+    if-eqz v3, :cond_10
 
     move v3, v6
 
     goto :goto_5
 
-    :cond_f
+    :cond_10
     move v3, v8
 
     :goto_5
     iget v9, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mMode:I
 
-    if-eqz v9, :cond_10
+    if-eqz v9, :cond_11
 
-    if-nez v3, :cond_10
+    if-nez v3, :cond_11
 
     invoke-virtual {v7}, Lcom/android/systemui/statusbar/phone/BiometricUnlockController$$ExternalSyntheticLambda1;->run()V
 
-    :cond_10
+    :cond_11
     iget v7, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mMode:I
 
-    if-eq v7, v6, :cond_16
+    if-eq v7, v6, :cond_17
 
-    if-eq v7, v5, :cond_16
+    if-eq v7, v5, :cond_17
 
     const/4 v9, 0x3
 
-    if-eq v7, v9, :cond_15
+    if-eq v7, v9, :cond_16
 
     const/4 v9, 0x5
 
-    if-eq v7, v9, :cond_12
+    if-eq v7, v9, :cond_13
 
-    if-eq v7, v10, :cond_16
+    if-eq v7, v10, :cond_17
 
     const/4 v2, 0x7
 
-    if-eq v7, v2, :cond_11
+    if-eq v7, v2, :cond_12
 
     goto/16 :goto_7
 
-    :cond_11
+    :cond_12
     const-string v2, "MODE_DISMISS_BOUNCER"
 
     invoke-static {v2}, Landroid/os/Trace;->beginSection(Ljava/lang/String;)V
@@ -2638,7 +2645,7 @@
 
     goto/16 :goto_7
 
-    :cond_12
+    :cond_13
     const-string v3, "MODE_UNLOCK_COLLAPSING"
 
     invoke-static {v3}, Landroid/os/Trace;->beginSection(Ljava/lang/String;)V
@@ -2647,17 +2654,17 @@
 
     move-result v2
 
-    if-eqz v2, :cond_14
+    if-eqz v2, :cond_15
 
     iget-boolean v2, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mBouncer:Z
 
-    if-nez v2, :cond_13
+    if-nez v2, :cond_14
 
     iget-object v2, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mAuthenticatedBioSourceType:Landroid/hardware/biometrics/BiometricSourceType;
 
     sget-object v3, Landroid/hardware/biometrics/BiometricSourceType;->FACE:Landroid/hardware/biometrics/BiometricSourceType;
 
-    if-ne v2, v3, :cond_13
+    if-ne v2, v3, :cond_14
 
     iget-object v2, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mKeyguardBypassController:Lcom/android/systemui/statusbar/phone/KeyguardBypassController;
 
@@ -2665,25 +2672,25 @@
 
     move-result v2
 
-    if-eqz v2, :cond_13
+    if-eqz v2, :cond_14
 
     invoke-static {}, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->isLargeCoverScreen()Z
 
     move-result v2
 
-    if-eqz v2, :cond_14
+    if-eqz v2, :cond_15
 
-    :cond_13
+    :cond_14
     iget-object v2, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mKeyguardViewController:Lcom/android/keyguard/KeyguardViewController;
 
     invoke-interface {v2, v8}, Lcom/android/keyguard/KeyguardViewController;->notifyKeyguardAuthenticated(Z)V
 
-    :cond_14
+    :cond_15
     invoke-static {}, Landroid/os/Trace;->endSection()V
 
     goto :goto_7
 
-    :cond_15
+    :cond_16
     const-string v2, "MODE_SHOW_BOUNCER"
 
     invoke-static {v2}, Landroid/os/Trace;->beginSection(Ljava/lang/String;)V
@@ -2696,8 +2703,8 @@
 
     goto :goto_7
 
-    :cond_16
-    if-ne v7, v5, :cond_17
+    :cond_17
+    if-ne v7, v5, :cond_18
 
     const-string v2, "MODE_WAKE_AND_UNLOCK_PULSING"
 
@@ -2709,8 +2716,8 @@
 
     goto :goto_6
 
-    :cond_17
-    if-ne v7, v6, :cond_18
+    :cond_18
+    if-ne v7, v6, :cond_19
 
     const-string v2, "MODE_WAKE_AND_UNLOCK"
 
@@ -2718,7 +2725,7 @@
 
     goto :goto_6
 
-    :cond_18
+    :cond_19
     const-string v2, "MODE_WAKE_AND_UNLOCK_FROM_DREAM"
 
     invoke-static {v2}, Landroid/os/Trace;->beginSection(Ljava/lang/String;)V
@@ -2728,21 +2735,21 @@
 
     move-result v2
 
-    if-eqz v2, :cond_19
+    if-eqz v2, :cond_1a
 
     iget-boolean v2, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->isInvisibleAfterGoingAwayTransStarted:Z
 
-    if-nez v2, :cond_19
+    if-nez v2, :cond_1a
 
     iget-boolean v2, v1, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->needsBlankScreen:Z
 
-    if-nez v2, :cond_19
+    if-nez v2, :cond_1a
 
     const/4 v2, 0x0
 
     invoke-virtual {v1, v2, v8}, Lcom/android/systemui/keyguard/KeyguardFastBioUnlockController;->setForceInvisible(Landroid/view/SurfaceControl$Transaction;Z)V
 
-    :cond_19
+    :cond_1a
     check-cast v4, Lcom/android/systemui/shade/NotificationShadeWindowControllerImpl;
 
     invoke-virtual {v4, v8}, Lcom/android/systemui/shade/NotificationShadeWindowControllerImpl;->setNotificationShadeFocusable(Z)V
@@ -2758,7 +2765,7 @@
 
     move-result v2
 
-    if-eqz v2, :cond_1a
+    if-eqz v2, :cond_1b
 
     iget v2, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mMode:I
 
@@ -2774,13 +2781,13 @@
 
     move-result v2
 
-    if-nez v2, :cond_1b
+    if-nez v2, :cond_1c
 
     invoke-interface {v0, v3}, Ljava/util/List;->add(Ljava/lang/Object;)Z
 
     goto :goto_9
 
-    :cond_1a
+    :cond_1b
     iget v2, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mMode:I
 
     iget-object v0, v0, Lcom/android/systemui/statusbar/phone/BiometricUnlockController;->mBiometricUnlockEventsListeners:Ljava/util/Set;
@@ -2796,7 +2803,7 @@
 
     move-result v3
 
-    if-eqz v3, :cond_1b
+    if-eqz v3, :cond_1c
 
     invoke-interface {v0}, Ljava/util/Iterator;->next()Ljava/lang/Object;
 
@@ -2808,7 +2815,7 @@
 
     goto :goto_8
 
-    :cond_1b
+    :cond_1c
     :goto_9
     const-string/jumbo v0, "startWakeAndUnlock end"
 
diff --git a/smali_classes2/com/android/systemui/statusbar/phone/CentralSurfacesImpl$21.smali b/smali_classes2/com/android/systemui/statusbar/phone/CentralSurfacesImpl$21.smali
index ba3464797..02202abbe 100644
--- a/smali_classes2/com/android/systemui/statusbar/phone/CentralSurfacesImpl$21.smali
+++ b/smali_classes2/com/android/systemui/statusbar/phone/CentralSurfacesImpl$21.smali
@@ -36,30 +36,15 @@
 
     invoke-virtual {p1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
 
-    iget-object p1, p0, Lcom/android/systemui/statusbar/phone/CentralSurfacesImpl;->mToolTipWindow:Lcom/android/systemui/qs/buttons/QSTooltipWindow;
+    iget-object p0, p0, Lcom/android/systemui/statusbar/phone/CentralSurfacesImpl;->mToolTipWindow:Lcom/android/systemui/qs/buttons/QSTooltipWindow;
 
-    if-eqz p1, :cond_0
+    if-eqz p0, :cond_0
 
-    invoke-virtual {p1}, Lcom/android/systemui/qs/buttons/QSTooltipWindow;->hideToolTip()V
+    invoke-virtual {p0}, Lcom/android/systemui/qs/buttons/QSTooltipWindow;->hideToolTip()V
 
     :cond_0
-    sget-boolean p1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz p1, :cond_1
-
-    iget-object p0, p0, Lcom/android/systemui/statusbar/phone/CentralSurfacesImpl;->mContext:Landroid/content/Context;
-
-    invoke-virtual {p0}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    move-result-object p0
-
-    invoke-virtual {p0}, Landroid/content/res/Resources;->getDisplayMetrics()Landroid/util/DisplayMetrics;
-
-    move-result-object p0
-
-    invoke-static {p0}, Lcom/android/systemui/util/DeviceState;->setInDisplayFingerprintSensorPosition(Landroid/util/DisplayMetrics;)V
-
-    :cond_1
     return-void
 .end method
 
diff --git a/smali_classes2/com/android/systemui/statusbar/phone/CentralSurfacesImpl.smali b/smali_classes2/com/android/systemui/statusbar/phone/CentralSurfacesImpl.smali
index fa4226417..d9fdda3e2 100644
--- a/smali_classes2/com/android/systemui/statusbar/phone/CentralSurfacesImpl.smali
+++ b/smali_classes2/com/android/systemui/statusbar/phone/CentralSurfacesImpl.smali
@@ -9915,23 +9915,6 @@
     sput v12, Lcom/android/systemui/util/DeviceState;->ROTATION_270:I
 
     :cond_33
-    sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v1, :cond_34
-
-    iget-object v1, v9, Lcom/android/systemui/statusbar/phone/CentralSurfacesImpl;->mContext:Landroid/content/Context;
-
-    invoke-virtual {v1}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
-
-    move-result-object v1
-
-    invoke-virtual {v1}, Landroid/content/res/Resources;->getDisplayMetrics()Landroid/util/DisplayMetrics;
-
-    move-result-object v1
-
-    invoke-static {v1}, Lcom/android/systemui/util/DeviceState;->setInDisplayFingerprintSensorPosition(Landroid/util/DisplayMetrics;)V
-
-    :cond_34
     invoke-static {}, Landroid/os/Trace;->endSection()V
 
     iget-object v1, v9, Lcom/android/systemui/statusbar/phone/CentralSurfacesImpl;->mKeyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
@@ -10000,7 +9983,7 @@
 
     iget-boolean v0, v3, Lcom/android/systemui/InitController;->mTasksExecuted:Z
 
-    if-nez v0, :cond_36
+    if-nez v0, :cond_35
 
     iget-object v0, v3, Lcom/android/systemui/InitController;->mTasks:Ljava/util/ArrayList;
 
@@ -10076,7 +10059,7 @@
 
     sget-boolean v0, Lcom/android/systemui/LsRune;->AOD_LIGHT_REVEAL:Z
 
-    if-eqz v0, :cond_35
+    if-eqz v0, :cond_34
 
     iget-object v0, v9, Lcom/android/systemui/statusbar/phone/CentralSurfacesImpl;->mSecLightRevealScrimHelper:Lcom/android/systemui/statusbar/SecLightRevealScrimHelper;
 
@@ -10142,10 +10125,10 @@
 
     invoke-static/range {v5 .. v12}, Lcom/android/systemui/broadcast/BroadcastDispatcher;->registerReceiver$default(Lcom/android/systemui/broadcast/BroadcastDispatcher;Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;Ljava/util/concurrent/Executor;Landroid/os/UserHandle;ILjava/lang/String;I)V
 
-    :cond_35
+    :cond_34
     return-void
 
-    :cond_36
+    :cond_35
     new-instance v0, Ljava/lang/IllegalStateException;
 
     const-string/jumbo v1, "post init tasks have already been executed!"
diff --git a/smali_classes2/com/android/systemui/statusbar/phone/KeyguardSecBottomAreaView.smali b/smali_classes2/com/android/systemui/statusbar/phone/KeyguardSecBottomAreaView.smali
index 893db34c8..945b79264 100644
--- a/smali_classes2/com/android/systemui/statusbar/phone/KeyguardSecBottomAreaView.smali
+++ b/smali_classes2/com/android/systemui/statusbar/phone/KeyguardSecBottomAreaView.smali
@@ -1030,9 +1030,7 @@
 
     if-nez v9, :cond_d
 
-    sget v7, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    iput v7, p1, Lcom/android/systemui/keyguard/ui/binder/KeyguardSecBottomAreaViewBinder$ConfigurationBasedDimensions;->upperFPIndicationBottomMargin:I
+    iput v5, p1, Lcom/android/systemui/keyguard/ui/binder/KeyguardSecBottomAreaViewBinder$ConfigurationBasedDimensions;->upperFPIndicationBottomMargin:I
 
     iget-object v7, p0, Lcom/android/systemui/statusbar/phone/KeyguardSecBottomAreaView;->upperFPIndication$delegate:Lkotlin/Lazy;
 
@@ -1263,67 +1261,9 @@
     iput v2, p1, Lcom/android/systemui/keyguard/ui/binder/KeyguardSecBottomAreaViewBinder$ConfigurationBasedDimensions;->indicationAreaSideMargin:I
 
     :cond_19
-    sget-boolean v2, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v2, :cond_1b
-
-    const-class v2, Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-static {v2}, Lcom/android/systemui/Dependency;->get(Ljava/lang/Class;)Ljava/lang/Object;
-
-    move-result-object v2
-
-    check-cast v2, Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-interface {v2}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isFingerprintOptionEnabled()Z
-
-    move-result v2
-
-    if-eqz v2, :cond_1b
-
-    invoke-virtual {p0}, Landroid/widget/FrameLayout;->getDisplay()Landroid/view/Display;
-
-    move-result-object v2
-
-    invoke-virtual {v2}, Landroid/view/Display;->getRotation()I
-
-    move-result v2
-
-    if-eqz v2, :cond_1a
-
-    invoke-virtual {p0}, Landroid/widget/FrameLayout;->getDisplay()Landroid/view/Display;
-
-    move-result-object v2
-
-    invoke-virtual {v2}, Landroid/view/Display;->getRotation()I
-
-    move-result v2
-
-    if-ne v2, v11, :cond_1b
-
-    :cond_1a
-    invoke-static {}, Lcom/android/systemui/util/DeviceState;->isInDisplayFpSensorPositionHigh()Z
-
-    move-result v2
-
-    if-nez v2, :cond_1b
-
-    sget v2, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    const v3, 0x7f070446
-
-    invoke-virtual {v0, v3}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
-
-    move-result v3
-
-    add-int/2addr v3, v2
-
-    iput v3, p1, Lcom/android/systemui/keyguard/ui/binder/KeyguardSecBottomAreaViewBinder$ConfigurationBasedDimensions;->indicationAreaBottomMargin:I
-
-    :cond_1b
     iget-object v2, p0, Lcom/android/systemui/statusbar/phone/KeyguardBottomAreaView;->pluginLockData:Lcom/android/systemui/pluginlock/PluginLockData;
 
-    if-eqz v2, :cond_1e
+    if-eqz v2, :cond_1c
 
     check-cast v2, Lcom/android/systemui/pluginlock/PluginLockDataImpl;
 
@@ -1331,7 +1271,7 @@
 
     move-result v2
 
-    if-eqz v2, :cond_1e
+    if-eqz v2, :cond_1c
 
     iget v2, p1, Lcom/android/systemui/keyguard/ui/binder/KeyguardSecBottomAreaViewBinder$ConfigurationBasedDimensions;->indicationAreaBottomMargin:I
 
@@ -1349,18 +1289,18 @@
 
     iget-object v3, v2, Lcom/android/systemui/pluginlock/PluginLockDataImpl;->mData:Lcom/android/systemui/pluginlock/model/DynamicLockData;
 
-    if-nez v3, :cond_1c
+    if-nez v3, :cond_1a
 
     const/4 v2, -0x1
 
     goto :goto_b
 
-    :cond_1c
+    :cond_1a
     invoke-virtual {v2}, Lcom/android/systemui/pluginlock/PluginLockDataImpl;->isLandscape()Z
 
     move-result v3
 
-    if-eqz v3, :cond_1d
+    if-eqz v3, :cond_1b
 
     iget-object v2, v2, Lcom/android/systemui/pluginlock/PluginLockDataImpl;->mData:Lcom/android/systemui/pluginlock/model/DynamicLockData;
 
@@ -1382,7 +1322,7 @@
 
     goto :goto_b
 
-    :cond_1d
+    :cond_1b
     iget-object v2, v2, Lcom/android/systemui/pluginlock/PluginLockDataImpl;->mData:Lcom/android/systemui/pluginlock/model/DynamicLockData;
 
     invoke-virtual {v2}, Lcom/android/systemui/pluginlock/model/DynamicLockData;->getIndicationData()Lcom/android/systemui/pluginlock/model/IndicationData;
@@ -1404,10 +1344,10 @@
     :goto_b
     iput v2, p1, Lcom/android/systemui/keyguard/ui/binder/KeyguardSecBottomAreaViewBinder$ConfigurationBasedDimensions;->indicationAreaBottomMargin:I
 
-    :cond_1e
+    :cond_1c
     sget-boolean v2, Lcom/android/systemui/LsRune;->LOCKUI_SUB_DISPLAY_LOCK:Z
 
-    if-eqz v2, :cond_1f
+    if-eqz v2, :cond_1d
 
     const-class v2, Lcom/android/systemui/keyguard/DisplayLifecycle;
 
@@ -1419,9 +1359,9 @@
 
     iget-boolean v2, v2, Lcom/android/systemui/keyguard/DisplayLifecycle;->mIsFolderOpened:Z
 
-    if-eqz v2, :cond_1f
+    if-eqz v2, :cond_1d
 
-    if-ne v1, v11, :cond_1f
+    if-ne v1, v11, :cond_1d
 
     const v1, 0x7f070488
 
@@ -1431,14 +1371,14 @@
 
     goto :goto_d
 
-    :cond_1f
-    if-ne v1, v6, :cond_20
+    :cond_1d
+    if-ne v1, v6, :cond_1e
 
     const v1, 0x7f070486
 
     goto :goto_c
 
-    :cond_20
+    :cond_1e
     const v1, 0x7f070487
 
     :goto_c
diff --git a/smali_classes2/com/android/systemui/statusbar/phone/KeyguardSecBottomAreaViewController.smali b/smali_classes2/com/android/systemui/statusbar/phone/KeyguardSecBottomAreaViewController.smali
index 239877a46..b6fd587ab 100644
--- a/smali_classes2/com/android/systemui/statusbar/phone/KeyguardSecBottomAreaViewController.smali
+++ b/smali_classes2/com/android/systemui/statusbar/phone/KeyguardSecBottomAreaViewController.smali
@@ -1320,53 +1320,8 @@
 
     invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V
 
-    sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
+    sget-object v1, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    if-eqz v1, :cond_8
-
-    invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getContext()Landroid/content/Context;
-
-    move-result-object v1
-
-    invoke-virtual {v1}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
-
-    move-result-object v1
-
-    invoke-virtual {v1}, Landroid/content/res/Resources;->getDisplayMetrics()Landroid/util/DisplayMetrics;
-
-    move-result-object v1
-
-    invoke-static {v1}, Lcom/android/systemui/util/DeviceState;->setInDisplayFingerprintSensorPosition(Landroid/util/DisplayMetrics;)V
-
-    sget v1, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    const-string v3, "finger_print_height"
-
-    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V
-
-    sget v1, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintImageSize:I
-
-    const-string v3, "finger_print_image_size"
-
-    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V
-
-    sget v1, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintMarginBottom:I
-
-    const-string v3, "finger_print_margin"
-
-    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V
-
-    iget-object v1, p0, Lcom/android/systemui/statusbar/phone/KeyguardSecBottomAreaViewController;->keyguardUpdateMonitor:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-interface {v1}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isFingerprintOptionEnabled()Z
-
-    move-result v1
-
-    const-string v3, "finger_print_enabled"
-
-    invoke-virtual {v0, v3, v1}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V
-
-    :cond_8
     sget-object v1, Lcom/android/systemui/statusbar/phone/KeyguardSecBottomAreaViewController;->KEY_HELP_TEXT_VISIBILITY:Ljava/lang/String;
 
     invoke-virtual {v0, v1, v2}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V
@@ -1391,18 +1346,18 @@
 
     move-result-object v1
 
-    if-nez v1, :cond_9
+    if-nez v1, :cond_8
 
     const/4 p0, -0x1
 
     goto :goto_6
 
-    :cond_9
+    :cond_8
     invoke-virtual {p0}, Lcom/android/systemui/util/ViewController;->getResources()Landroid/content/res/Resources;
 
     move-result-object p0
 
-    if-eqz p1, :cond_a
+    if-eqz p1, :cond_9
 
     const p1, 0x7f07042f
 
@@ -1412,7 +1367,7 @@
 
     goto :goto_6
 
-    :cond_a
+    :cond_9
     const p1, 0x7f07042e
 
     invoke-virtual {p0, p1}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
@@ -1426,7 +1381,7 @@
 
     new-instance p0, Ljava/lang/StringBuilder;
 
-    const-string p1, "onUiInfoRequested() : "
+    const-string/jumbo p1, "onUiInfoRequested() : "
 
     invoke-direct {p0, p1}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
 
@@ -1503,7 +1458,7 @@
     :goto_0
     const-string p0, "KeyguardSecBottomAreaViewController"
 
-    const-string v0, "onUnlockMethodStateChanged not keyguardShowing status return!"
+    const-string/jumbo v0, "onUnlockMethodStateChanged not keyguardShowing status return!"
 
     invoke-static {p0, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
diff --git a/smali_classes2/com/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager$1.smali b/smali_classes2/com/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager$1.smali
index c41454702..02fe77dc2 100644
--- a/smali_classes2/com/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager$1.smali
+++ b/smali_classes2/com/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager$1.smali
@@ -25,25 +25,11 @@
 
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
 
-    move-result p2
+    move-result p0
 
-    if-eqz p2, :cond_0
+    if-eqz p0, :cond_0
 
-    sget-boolean p2, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz p2, :cond_0
-
-    sget-object p2, Landroid/hardware/biometrics/BiometricSourceType;->FINGERPRINT:Landroid/hardware/biometrics/BiometricSourceType;
-
-    invoke-virtual {p1, p2}, Landroid/hardware/biometrics/BiometricSourceType;->equals(Ljava/lang/Object;)Z
-
-    move-result p1
-
-    if-eqz p1, :cond_0
-
-    iget-object p0, p0, Lcom/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager$1;->this$0:Lcom/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager;
-
-    invoke-virtual {p0}, Lcom/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager;->updateLockContainerMargin()V
+    sget-object p0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
     :cond_0
     return-void
diff --git a/smali_classes2/com/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager.smali b/smali_classes2/com/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager.smali
index b3204338c..83b4f4a90 100644
--- a/smali_classes2/com/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager.smali
+++ b/smali_classes2/com/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager.smali
@@ -2721,7 +2721,7 @@
 
     if-nez v2, :cond_0
 
-    goto/16 :goto_6
+    goto/16 :goto_5
 
     :cond_0
     invoke-static {}, Lcom/android/systemui/util/DeviceType;->isTablet()Z
@@ -2738,7 +2738,7 @@
 
     iget-object v7, p0, Lcom/android/systemui/statusbar/phone/StatusBarKeyguardViewManager;->mContext:Landroid/content/Context;
 
-    if-eqz v2, :cond_7
+    if-eqz v2, :cond_5
 
     invoke-virtual {v7}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
@@ -2768,16 +2768,16 @@
 
     invoke-virtual {v2, v8}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v1
+    move-result v0
 
-    iput v1, v7, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I
+    iput v0, v7, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I
 
     goto :goto_2
 
     :cond_1
     invoke-virtual {v2, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
 
-    move-result v8
+    move-result v6
 
     if-eq v0, v4, :cond_3
 
@@ -2800,47 +2800,20 @@
     move-result v1
 
     :goto_1
-    add-int/2addr v8, v1
+    add-int/2addr v6, v1
 
-    iput v8, v7, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I
+    iput v6, v7, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I
 
     :goto_2
-    sget-boolean v1, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-eqz v1, :cond_6
-
-    const/4 v1, 0x2
-
-    if-ne v0, v1, :cond_6
-
-    iget-object v0, p0, Lcom/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager;->mKeyguardUpdateManager:Lcom/android/keyguard/KeyguardUpdateMonitor;
-
-    invoke-interface {v0}, Lcom/android/keyguard/KeyguardSecUpdateMonitor;->isInDisplayFingerprintMarginAccepted()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_5
-
-    sget v0, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    goto :goto_3
-
-    :cond_5
-    invoke-virtual {v2, v6}, Landroid/content/res/Resources;->getDimensionPixelSize(I)I
+    sget-object v0, Lcom/android/systemui/LsRune;->VALUE_CONFIG_CARRIER_TEXT_POLICY:Ljava/lang/String;
 
-    move-result v0
-
-    :goto_3
-    iput v0, v7, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I
-
-    :cond_6
     iget-object p0, p0, Lcom/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager;->mLockIconContainer:Landroid/view/ViewGroup;
 
     invoke-virtual {p0, v7}, Landroid/view/ViewGroup;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    goto :goto_6
+    goto :goto_5
 
-    :cond_7
+    :cond_5
     iget-object v2, p0, Lcom/android/systemui/statusbar/phone/SecStatusBarKeyguardViewManager;->mLockIconContainer:Landroid/view/ViewGroup;
 
     invoke-virtual {v2}, Landroid/view/ViewGroup;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;
@@ -2857,22 +2830,22 @@
 
     move-result v6
 
-    if-eq v0, v4, :cond_9
+    if-eq v0, v4, :cond_7
 
-    if-ne v0, v3, :cond_8
+    if-ne v0, v3, :cond_6
 
-    goto :goto_4
+    goto :goto_3
 
-    :cond_8
+    :cond_6
     move v4, v1
 
-    :cond_9
-    :goto_4
-    if-eqz v4, :cond_a
+    :cond_7
+    :goto_3
+    if-eqz v4, :cond_8
 
-    goto :goto_5
+    goto :goto_4
 
-    :cond_a
+    :cond_8
     invoke-virtual {v7}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
     move-result-object v0
@@ -2881,7 +2854,7 @@
 
     move-result v1
 
-    :goto_5
+    :goto_4
     add-int/2addr v6, v1
 
     iput v6, v2, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I
@@ -2890,7 +2863,7 @@
 
     invoke-virtual {p0, v2}, Landroid/view/ViewGroup;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
 
-    :goto_6
+    :goto_5
     return-void
 .end method
 
diff --git a/smali_classes2/com/android/systemui/tv/DaggerTvGlobalRootComponent$CentralSurfacesComponentImpl.smali b/smali_classes2/com/android/systemui/tv/DaggerTvGlobalRootComponent$CentralSurfacesComponentImpl.smali
index d7066c151..d1735ca05 100644
--- a/smali_classes2/com/android/systemui/tv/DaggerTvGlobalRootComponent$CentralSurfacesComponentImpl.smali
+++ b/smali_classes2/com/android/systemui/tv/DaggerTvGlobalRootComponent$CentralSurfacesComponentImpl.smali
@@ -2003,7 +2003,9 @@
 
     invoke-static {p0}, Ldagger/internal/DoubleCheck;->lazy(Ljavax/inject/Provider;)Ldagger/Lazy;
 
-    invoke-virtual {p1}, Ljava/lang/Object;->getClass()Ljava/lang/Class;
+    move-result-object p0
+
+    iput-object p0, p1, Lcom/android/systemui/shade/NotificationPanelViewController;->mBioUnlockControllerLazy:Ldagger/Lazy;
 
     return-object p1
 .end method
diff --git a/smali_classes2/com/android/systemui/util/DeviceState.smali b/smali_classes2/com/android/systemui/util/DeviceState.smali
index 5d457ac21..68e07b949 100644
--- a/smali_classes2/com/android/systemui/util/DeviceState.smali
+++ b/smali_classes2/com/android/systemui/util/DeviceState.smali
@@ -6,40 +6,26 @@
 # static fields
 .field public static final IS_ALREADY_BOOTED:Z
 
-.field public static QUICKBOARD_AVAILABLE_CHECKED:Z = false
+.field public static QUICKBOARD_AVAILABLE_CHECKED:Z
 
-.field public static ROTATION_0:I = 0x0
+.field public static ROTATION_0:I
 
-.field public static ROTATION_180:I = 0x0
+.field public static ROTATION_180:I
 
-.field public static ROTATION_270:I = 0x0
+.field public static ROTATION_270:I
 
-.field public static ROTATION_90:I = 0x0
+.field public static ROTATION_90:I
 
-.field public static mQuickboardAvailable:Z = false
+.field public static mQuickboardAvailable:Z
 
-.field public static sDisplaySize:Landroid/graphics/Point; = null
+.field public static sDisplaySize:Landroid/graphics/Point;
 
-.field public static sInDisplayFingerprintHeight:I = 0x0
+.field public static sOldScreenLayout:I
 
-.field public static sInDisplayFingerprintImageSize:I = 0x0
-
-.field public static sInDisplayFingerprintMarginBottom:I = 0x0
-
-.field public static sLoadedSensorValue:Z = false
-
-.field public static sOldScreenLayout:I = 0x0
-
-.field public static sOldScreenWidthDp:I = 0x0
+.field public static sOldScreenWidthDp:I
 
 .field public static final sPhoneCount:I
 
-.field public static sSemSensorAreaHeight:Ljava/lang/String; = "4"
-
-.field public static sSemSensorImageSize:Ljava/lang/String; = "10.80"
-
-.field public static sSemSensorMarginBottom:Ljava/lang/String; = "13.77"
-
 .field public static final sSizePoint:Landroid/graphics/Point;
 
 
@@ -887,7 +873,7 @@
 .end method
 
 .method public static isInDisplayFpSensorPositionHigh()Z
-    .locals 2
+    .locals 3
 
     const-class v0, Lcom/android/systemui/keyguard/DisplayLifecycle;
 
@@ -911,27 +897,22 @@
 
     int-to-float v0, v0
 
-    sget v1, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
+    const/4 v1, 0x0
 
-    int-to-float v1, v1
+    int-to-float v2, v1
 
-    div-float/2addr v1, v0
+    div-float/2addr v2, v0
 
     const v0, 0x3e6147ae    # 0.22f
 
-    cmpl-float v0, v1, v0
+    cmpl-float v0, v2, v0
 
     if-lez v0, :cond_0
 
-    const/4 v0, 0x1
-
-    goto :goto_0
+    const/4 v1, 0x1
 
     :cond_0
-    const/4 v0, 0x0
-
-    :goto_0
-    return v0
+    return v1
 .end method
 
 .method public static isMediaQuickControlBarAvailable(Landroid/content/Context;)Z
@@ -1093,169 +1074,6 @@
     return v1
 .end method
 
-.method public static isSmartViewDisplayWithFitToAspectRatio(Landroid/content/Context;)Z
-    .locals 6
-
-    sget-boolean v0, Lcom/android/systemui/LsRune;->SECURITY_FINGERPRINT_IN_DISPLAY:Z
-
-    if-nez v0, :cond_0
-
-    invoke-static {}, Lcom/android/systemui/util/DeviceState;->isSmartViewFitToActiveDisplay()Z
-
-    move-result p0
-
-    return p0
-
-    :cond_0
-    const-string v0, "display"
-
-    invoke-virtual {p0, v0}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Landroid/hardware/display/DisplayManager;
-
-    invoke-virtual {v0}, Landroid/hardware/display/DisplayManager;->semGetWifiDisplayStatus()Landroid/hardware/display/SemWifiDisplayStatus;
-
-    move-result-object v0
-
-    const/4 v1, 0x1
-
-    const/4 v2, 0x0
-
-    if-eqz v0, :cond_1
-
-    invoke-virtual {v0}, Landroid/hardware/display/SemWifiDisplayStatus;->getActiveDisplayState()I
-
-    move-result v0
-
-    const/4 v3, 0x2
-
-    if-ne v0, v3, :cond_1
-
-    move v0, v1
-
-    goto :goto_0
-
-    :cond_1
-    move v0, v2
-
-    :goto_0
-    const-string v3, "media_router"
-
-    invoke-virtual {p0, v3}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
-
-    move-result-object v3
-
-    check-cast v3, Landroid/media/MediaRouter;
-
-    const/4 v4, 0x4
-
-    invoke-virtual {v3, v4}, Landroid/media/MediaRouter;->getSelectedRoute(I)Landroid/media/MediaRouter$RouteInfo;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Landroid/media/MediaRouter$RouteInfo;->getSupportedTypes()I
-
-    move-result v5
-
-    and-int/2addr v4, v5
-
-    if-eqz v4, :cond_3
-
-    invoke-virtual {v3}, Landroid/media/MediaRouter$RouteInfo;->semGetDeviceAddress()Ljava/lang/String;
-
-    move-result-object v4
-
-    if-nez v4, :cond_3
-
-    invoke-virtual {v3}, Landroid/media/MediaRouter$RouteInfo;->semGetStatusCode()I
-
-    move-result v4
-
-    const/4 v5, 0x6
-
-    if-ne v4, v5, :cond_3
-
-    invoke-virtual {v3}, Landroid/media/MediaRouter$RouteInfo;->getPresentationDisplay()Landroid/view/Display;
-
-    move-result-object v4
-
-    if-nez v4, :cond_2
-
-    invoke-virtual {v3}, Landroid/media/MediaRouter$RouteInfo;->getDescription()Ljava/lang/CharSequence;
-
-    move-result-object v4
-
-    if-eqz v4, :cond_3
-
-    invoke-virtual {v3}, Landroid/media/MediaRouter$RouteInfo;->getDescription()Ljava/lang/CharSequence;
-
-    move-result-object v3
-
-    invoke-interface {v3}, Ljava/lang/CharSequence;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    const-string v4, "Audio"
-
-    invoke-virtual {v3, v4}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
-
-    move-result v3
-
-    if-eqz v3, :cond_3
-
-    :cond_2
-    move v3, v1
-
-    goto :goto_1
-
-    :cond_3
-    move v3, v2
-
-    :goto_1
-    invoke-virtual {p0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
-
-    move-result-object p0
-
-    const-string v4, "lelink_cast_on"
-
-    invoke-static {p0, v4, v2}, Landroid/provider/Settings$Global;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
-
-    move-result p0
-
-    if-ne p0, v1, :cond_4
-
-    move p0, v1
-
-    goto :goto_2
-
-    :cond_4
-    move p0, v2
-
-    :goto_2
-    if-nez v0, :cond_5
-
-    if-nez v3, :cond_5
-
-    if-eqz p0, :cond_6
-
-    :cond_5
-    invoke-static {}, Lcom/android/systemui/util/DeviceState;->isSmartViewFitToActiveDisplay()Z
-
-    move-result p0
-
-    if-eqz p0, :cond_6
-
-    goto :goto_3
-
-    :cond_6
-    move v1, v2
-
-    :goto_3
-    return v1
-.end method
-
 .method public static isSmartViewFitToActiveDisplay()Z
     .locals 1
 
@@ -1585,236 +1403,6 @@
     return v0
 .end method
 
-.method public static setInDisplayFingerprintSensorPosition(Landroid/util/DisplayMetrics;)V
-    .locals 7
-
-    const-string/jumbo v0, "readFingerprintSensor : failed to close file"
-
-    sget-boolean v1, Lcom/android/systemui/util/DeviceState;->sLoadedSensorValue:Z
-
-    if-nez v1, :cond_3
-
-    new-instance v1, Ljava/io/File;
-
-    const-string v2, "/sys/class/fingerprint/fingerprint/position"
-
-    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V
-
-    invoke-virtual {v1}, Ljava/io/File;->exists()Z
-
-    move-result v2
-
-    const-string v3, "DeviceState"
-
-    if-eqz v2, :cond_2
-
-    const/4 v2, 0x0
-
-    :try_start_0
-    new-instance v4, Ljava/io/FileInputStream;
-
-    invoke-direct {v4, v1}, Ljava/io/FileInputStream;-><init>(Ljava/io/File;)V
-    :try_end_0
-    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_1
-    .catchall {:try_start_0 .. :try_end_0} :catchall_1
-
-    :try_start_1
-    invoke-virtual {v1}, Ljava/io/File;->length()J
-
-    move-result-wide v5
-
-    long-to-int v1, v5
-
-    new-array v1, v1, [B
-
-    invoke-virtual {v4, v1}, Ljava/io/FileInputStream;->read([B)I
-
-    move-result v5
-
-    if-lez v5, :cond_0
-
-    invoke-virtual {v4}, Ljava/io/FileInputStream;->close()V
-    :try_end_1
-    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0
-    .catchall {:try_start_1 .. :try_end_1} :catchall_0
-
-    :try_start_2
-    new-instance v4, Ljava/lang/String;
-
-    sget-object v5, Ljava/nio/charset/StandardCharsets;->UTF_8:Ljava/nio/charset/Charset;
-
-    invoke-direct {v4, v1, v5}, Ljava/lang/String;-><init>([BLjava/nio/charset/Charset;)V
-
-    const-string v1, ","
-
-    invoke-virtual {v4, v1}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;
-
-    move-result-object v1
-
-    const/4 v4, 0x0
-
-    aget-object v4, v1, v4
-
-    sput-object v4, Lcom/android/systemui/util/DeviceState;->sSemSensorMarginBottom:Ljava/lang/String;
-
-    const/4 v4, 0x3
-
-    aget-object v4, v1, v4
-
-    sput-object v4, Lcom/android/systemui/util/DeviceState;->sSemSensorAreaHeight:Ljava/lang/String;
-
-    const/4 v4, 0x7
-
-    aget-object v1, v1, v4
-
-    sput-object v1, Lcom/android/systemui/util/DeviceState;->sSemSensorImageSize:Ljava/lang/String;
-
-    const/4 v1, 0x1
-
-    sput-boolean v1, Lcom/android/systemui/util/DeviceState;->sLoadedSensorValue:Z
-    :try_end_2
-    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2} :catch_1
-    .catchall {:try_start_2 .. :try_end_2} :catchall_1
-
-    goto :goto_0
-
-    :cond_0
-    move-object v2, v4
-
-    :goto_0
-    if-eqz v2, :cond_3
-
-    goto :goto_2
-
-    :catchall_0
-    move-exception p0
-
-    goto :goto_4
-
-    :catch_0
-    move-exception v1
-
-    move-object v2, v4
-
-    goto :goto_1
-
-    :catchall_1
-    move-exception p0
-
-    goto :goto_3
-
-    :catch_1
-    move-exception v1
-
-    :goto_1
-    :try_start_3
-    const-string/jumbo v4, "readFingerprintSensor : failure to read sensor info : "
-
-    invoke-static {v3, v4, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_3
-    .catchall {:try_start_3 .. :try_end_3} :catchall_1
-
-    if-eqz v2, :cond_3
-
-    :goto_2
-    :try_start_4
-    invoke-virtual {v2}, Ljava/io/FileInputStream;->close()V
-    :try_end_4
-    .catch Ljava/lang/Exception; {:try_start_4 .. :try_end_4} :catch_2
-
-    goto :goto_6
-
-    :catch_2
-    move-exception v1
-
-    invoke-static {v3, v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto :goto_6
-
-    :goto_3
-    move-object v4, v2
-
-    :goto_4
-    if-eqz v4, :cond_1
-
-    :try_start_5
-    invoke-virtual {v4}, Ljava/io/FileInputStream;->close()V
-    :try_end_5
-    .catch Ljava/lang/Exception; {:try_start_5 .. :try_end_5} :catch_3
-
-    goto :goto_5
-
-    :catch_3
-    move-exception v1
-
-    invoke-static {v3, v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    :cond_1
-    :goto_5
-    throw p0
-
-    :cond_2
-    const-string/jumbo v0, "readFingerprintSensor : No file for sensor pos"
-
-    invoke-static {v3, v0}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-
-    :cond_3
-    :goto_6
-    sget-object v0, Lcom/android/systemui/util/DeviceState;->sSemSensorImageSize:Ljava/lang/String;
-
-    invoke-static {v0}, Ljava/lang/Float;->parseFloat(Ljava/lang/String;)F
-
-    move-result v0
-
-    const/4 v1, 0x5
-
-    invoke-static {v1, v0, p0}, Landroid/util/TypedValue;->applyDimension(IFLandroid/util/DisplayMetrics;)F
-
-    move-result v0
-
-    sget-object v2, Lcom/android/systemui/util/DeviceState;->sSemSensorMarginBottom:Ljava/lang/String;
-
-    invoke-static {v2}, Ljava/lang/Float;->parseFloat(Ljava/lang/String;)F
-
-    move-result v2
-
-    invoke-static {v1, v2, p0}, Landroid/util/TypedValue;->applyDimension(IFLandroid/util/DisplayMetrics;)F
-
-    move-result v2
-
-    sget-object v3, Lcom/android/systemui/util/DeviceState;->sSemSensorAreaHeight:Ljava/lang/String;
-
-    invoke-static {v3}, Ljava/lang/Float;->parseFloat(Ljava/lang/String;)F
-
-    move-result v3
-
-    invoke-static {v1, v3, p0}, Landroid/util/TypedValue;->applyDimension(IFLandroid/util/DisplayMetrics;)F
-
-    move-result p0
-
-    float-to-int v1, v2
-
-    float-to-int p0, p0
-
-    div-int/lit8 p0, p0, 0x2
-
-    add-int/2addr p0, v1
-
-    float-to-int v0, v0
-
-    div-int/lit8 v2, v0, 0x2
-
-    add-int/2addr v2, p0
-
-    sput v2, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintHeight:I
-
-    sput v0, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintImageSize:I
-
-    sput v1, Lcom/android/systemui/util/DeviceState;->sInDisplayFingerprintMarginBottom:I
-
-    return-void
-.end method
-
 .method public static shouldEnableKeyguardScreenRotation(Landroid/content/Context;)Z
     .locals 5
 
diff --git a/smali_classes2/com/android/systemui/util/DeviceType.smali b/smali_classes2/com/android/systemui/util/DeviceType.smali
index 91aeaa4e1..8a6c64164 100644
--- a/smali_classes2/com/android/systemui/util/DeviceType.smali
+++ b/smali_classes2/com/android/systemui/util/DeviceType.smali
@@ -36,6 +36,8 @@
 
 .field public static supportSEPLite:I = -0x1
 
+.field public static supportSideFingerprintExclusive:I = -0x1
+
 .field public static supportTablet:I = -0x1
 
 .field public static supportVibrator:I = -0x1
-- 
2.47.1

